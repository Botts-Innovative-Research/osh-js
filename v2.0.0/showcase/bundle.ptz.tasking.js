!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=18)}([function(t,e,n){"use strict";var i,r=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),s=[];function a(t){for(var e=-1,n=0;n<s.length;n++)if(s[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},i=[],r=0;r<t.length;r++){var o=t[r],c=e.base?o[0]+e.base:o[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var d=a(u),h={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(s[d].references++,s[d].updater(h)):s.push({identifier:u,updater:v(h,e),references:1}),i.push(u)}return i}function l(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var s=o(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var u,d=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function h(t,e,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=d(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function p(t,e,n){var i=n.css,r=n.media,o=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var f=null,m=0;function v(t,e){var n,i,r;if(e.singleton){var o=m++;n=f||(f=l(e)),i=h.bind(null,n,o,!1),r=h.bind(null,n,o,!0)}else n=l(e),i=p.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var r=a(n[i]);s[r].references--}for(var o=c(t,e),l=0;l<n.length;l++){var u=a(n[l]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}n=o}}}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=(s=i,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(c," */")),o=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[n].concat(o).concat([r]).join("\n")}var s,a,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);i&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},function(t,e,n){t.exports=function(){return new Worker(n.p+"WorkerName.4739fb7b7ddfa45cbe86.js")}},function(t,e,n){var i=n(0),r=n(4);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var o={insert:"head",singleton:!1},s=(i(r,o),r.locals?r.locals:{});t.exports=s},function(t,e,n){(e=n(1)(!1)).push([t.i,".osh-view {\n    width:100%;\n    height: 100%;\n}\n",""]),t.exports=e},function(t,e,n){var i=n(0),r=n(6);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var o={insert:"head",singleton:!1},s=(i(r,o),r.locals?r.locals:{});t.exports=s},function(t,e,n){var i=n(1),r=n(7),o=n(8),s=n(9),a=n(10),c=n(11),l=n(12),u=n(13),d=n(14),h=n(15),p=n(16),f=n(17);e=i(!1);var m=r(o),v=r(s),g=r(a),x=r(c),T=r(l),b=r(u),y=r(d),w=r(h),E=r(p),R=r(f);e.push([t.i,".ptz {\n    height: 164px;\n    width: 164px;\n    overflow: hidden;\n    background: url("+m+") no-repeat;\n    position: relative;\n}\n\n.ptz .moveUp {\n    width: 22px;\n    height: 12px;\n    position: absolute;\n    left: 70px;\n    top: 23px;\n    cursor: pointer;\n    background: url("+v+") 0px no-repeat;\n}\n\n.ptz .moveTopLeft {\n    width: 13px;\n    height: 12px;\n    position: absolute;\n    left: 42px;\n    top: 42px;\n    cursor: pointer;\n    background: url("+g+") 0px no-repeat;\n}\n\n.ptz .moveTopRight {\n    background: url("+x+") no-repeat;\n    width: 13px;\n    height: 12px;\n    position: absolute;\n    left: 110px;\n    top: 42px;\n}\n\n.ptz .moveLeft {\n    background: url("+T+") no-repeat;\n    width: 12px;\n    height: 22px;\n    position: absolute;\n    left: 23px;\n    top: 70px;\n}\n\n.ptz .reset {\n    width: 55px;\n    height: 55px;\n    position: absolute;\n    left: 54px;\n    top: 55px;\n    cursor: pointer;\n    background: url("+b+") 0px no-repeat;\n}\n\n.ptz .moveRight {\n    width: 12px;\n    height: 22px;\n    position: absolute;\n    left: 128px;\n    top: 70px;\n    cursor: pointer;\n    background: url("+y+") 0px no-repeat;\n}\n\n.ptz .moveBottomLeft {\n    width: 12px;\n    height: 13px;\n    position: absolute;\n    left: 42px;\n    top: 110px;\n    cursor: pointer;\n    background: url("+w+") 0px no-repeat;\n}\n\n.ptz .moveBottomRight {\n    background: url("+E+") -24px no-repeat;\n    width: 13px;\n    height: 12px;\n    position: absolute;\n    left: 110px;\n    top: 110px;\n}\n\n.ptz .moveDown {\n    background: url("+R+") no-repeat;\n    width: 22px;\n    height: 12px;\n    position: absolute;\n    left: 70px;\n    top: 129px;\n}\n\n/** HOVER  + active PART **/\n.ptz .moveUp:hover {\n    background: url("+v+") -22px no-repeat;\n}\n.ptz .moveUp:active {\n    background: url("+v+") -44px no-repeat;\n}\n\n.ptz .moveDown:hover {\n    background: url("+R+") -22px no-repeat;\n}\n\n.ptz .moveDown:active {\n    background: url("+R+") -44px no-repeat;\n}\n\n.ptz .moveRight:hover {\n    background: url("+y+") -11px no-repeat;\n}\n\n.ptz .moveRight:active {\n    background: url("+y+") -23px no-repeat;\n}\n\n.ptz .moveLeft:hover {\n    background: url("+T+") -12px no-repeat;\n}\n\n.ptz .moveLeft:active {\n    background: url("+T+") -24px no-repeat;\n}\n\n.ptz .moveTopLeft:hover {\n    background: url("+g+") -13px no-repeat;\n}\n\n.ptz .moveTopLeft:active {\n    background: url("+g+") -26px no-repeat;\n}\n\n.ptz .moveTopRight:hover {\n    background: url("+x+") -13px no-repeat;\n}\n\n.ptz .moveTopRight:active {\n    background: url("+x+") -26px no-repeat;\n}\n\n.ptz .moveBottomLeft:hover {\n    background: url("+w+") -11px no-repeat;\n}\n\n.ptz .moveBottomLeft:active {\n    background: url("+w+") -24px no-repeat;\n}\n\n.ptz .moveBottomRight:hover {\n    background: url("+E+") -12px no-repeat;\n}\n\n.ptz .moveBottomRight:active {\n    background: url("+E+") -0px no-repeat;\n}\n\n.ptz .reset:hover {\n    background: url("+b+") -54px no-repeat;\n}\n.ptz .reset:active {\n    background: url("+b+') -109px no-repeat;\n}\n\n.ptz{\n    width:165px;\n    height:165px;\n    float:left;\n    margin-bottom: 20px;\n}\n\n.ptz-right {\n    height:165px;\n    width:200px;\n    margin-left: 25px;\n    float:left;\n}\n\n.ptz-right .ptz-select-style {\n    padding: 0;\n    margin: 0;\n    border: 1px solid #ccc;\n    border-radius: 3px;\n    overflow: hidden;\n    background-color: #fff;\n    position: relative;\n}\n\n.ptz-right .ptz-select-style:before {\n    font-family: FontAwesome;\n    content: "\\f0d7";\n    font-size: 25px;\n    display: inline-block;\n    position: absolute;\n    pointer-events: none;\n    right: 10px;\n    color: #777;\n    top:0px;\n}\n\n.ptz-right .ptz-select-style select {\n    padding: 4px 8px;\n    width: 100%;\n    background-color: transparent;\n    background-image: none;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    border: 1px solid #aaa;\n    box-shadow: 0px 0px 3px #ccc, 0 10px 15px #eee inset;\n    border-radius: 2px;\n}\n\n.ptz-right .ptz-select-style select:focus {\n    outline: none;\n}\n\n/** Form **/\n.ptz-right:-moz-placeholder {\n    color: #777;\n}\n\n.ptz-right::-webkit-input-placeholder {\n    color: #777;\n}\n\n.ptz-right*:focus {outline: none;}\n\n.ptz-right ul {\n    list-style-type:none;\n    list-style-position:outside;\n    margin:0px;\n    padding:0px;\n}\n.ptz-right li{\n    padding:0px 0px 8px 0px;\n    border-bottom:1px solid #eee;\n    position:relative;\n}\n\n.ptz-right li:first-child, .ptz-right li:last-child {\n    border-bottom:1px solid #777;\n}\n\n.ptz-right label {\n    width: 60px;\n    margin-top: 3px;\n    display: inline-block;\n    float: left;\n    padding: 3px;\n}\n\n.ptz-right .input-text, .ptz-right select {\n    border:1px solid #aaa;\n    box-shadow: 0px 0px 3px #ccc, 0 10px 15px #eee inset;\n    border-radius:2px;\n}\n.ptz-right .input-text:focus, .ptz-right select:focus {\n    background: #fff;\n    border:1px solid #555;\n    box-shadow: 0 0 3px #aaa;\n}\n\n.discovery-form .input-text, .discovery-form select { /* add this to the already existing style */\n    -moz-transition: padding .25s;\n    -webkit-transition: padding .25s;\n    -o-transition: padding .25s;\n    transition: padding .25s;\n}\n\n.ptz-right select {\n    padding-right: 21px;\n}\n\n.ptz-right select:focus  {\n    padding-right: 21px;\n}\n\n/** ZOOM Button **/\n.ptz-zoom {\n    float:left;\n    margin-top: 15px;\n    margin-right: 15px;\n}\n\n.ptz-zoom .ptz-zoom-in{\n    font-size: 2.2em;\n    color: #7c7c7c;\n    text-shadow: 1px 1px 1px #333333;\n}\n\n.ptz-zoom .fa:hover{\n    color: #626262;\n    text-shadow: 1px 1px 1px #6a6a6a;\n}\n\n.ptz-zoom .fa:active{\n    color: #464646;\n}\n\n.ptz-zoom .ptz-zoom-out{\n    font-size: 2.2em;\n    color: #7c7c7c;\n    text-shadow: 1px 1px 1px #333333;\n}\n\n.ptz-zoom-bar {\n    background-color: #7c7c7c;\n    height: 60px;\n    width: 4px;\n    border-radius: 20px;\n    margin: 0px 0px 0px 12px;\n}\n',""]),t.exports=e},function(t,e,n){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},function(t,e,n){"use strict";n.r(e),e.default=n.p+"d222c5c8e1c39a2f08b964216d2ec48c.png"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"db670718264607074a2addf3d5497357.gif"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"6fda0c6626f7a87a3ab63a0aff747d12.gif"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"d59a352ae2699914bce07cce03f5e33e.gif"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"c65ca716a288911d528cc1988dbd87c2.gif"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"74c330354f855fc2d66fbd9ffcffe89b.png"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"8f4c7af215dc134a6248eca969844a85.gif"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"dc65f4c18665031afef1bededa8846f7.gif"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"bc4b725c39016285868ae518216ebe6a.gif"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"cc0caa106c43117272217c9a73aabf7b.gif"},function(t,e,n){"use strict";n.r(e);Math.pow(2,53);function i(t){return null!=t}function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){let e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function o(){return i(Worker)}var s=class{constructor(t){this.url=t,this.id="DataConnector-"+r()}getId(){return this.id}getUrl(){return this.url}};var a=class extends s{connect(){let t=this;if(!this.init){if(o()){let e=this.getUrl(),n=URL.createObjectURL(new Blob(["(",function(){let t=null;self.onmessage=e=>{"close"===e.data?t.close():function(e){t=new WebSocket(e),t.binaryType="arraybuffer",t.onmessage=t=>{t.data.byteLength>0&&self.postMessage(t.data,[t.data])},t.onerror=e=>{t.close()}}(e.data)}}.toString(),")()"],{type:"application/javascript"}));this.worker=new Worker(n),this.worker.postMessage(e),this.worker.onmessage=e=>t.onMessage(e.data),URL.revokeObjectURL(n)}else this.ws=new WebSocket(this.getUrl()),this.ws.binaryType="arraybuffer",this.ws.onmessage=t=>{t.data.byteLength>0&&this.onMessage(t.data)},this.ws.onerror=t=>this.ws.close();this.init=!0}}disconnect(){o()&&null!==this.worker?(this.worker.postMessage("close"),this.worker.terminate(),this.init=!1):null!==this.ws&&(this.ws.close(),this.init=!1)}onMessage(t){}close(){this.disconnect()}};var c=class extends s{constructor(t,e){super(t),this.method="POST",this.responseType="arraybuffer",i(e)&&(e.method&&(this.method=e.method),e.responseType&&(this.responseType=e.responseType))}sendRequest(t,e){let n=this,r=new XMLHttpRequest;r.timeout=6e4,null===t?(i(e)?r.open("GET",this.getUrl()+"?"+e,!0):r.open("GET",this.getUrl(),!0),r.responseType=this.responseType,r.onload=t=>{r.response&&n.onMessage(r.response)},r.ontimeout=t=>{console.log("Timeout")},r.send(null)):(r.open("POST",this.getUrl(),!0),r.setRequestHeader("Content-Type","text/xml"),r.send(t),r.onreadystatechange=()=>{r.readyState<4||4===r.readyState&&(200===r.status&&r.status<300?n.onSuccess(r.responseText):n.onError(""))})}onError(t){}onSuccess(t){}connect(){this.sendRequest(null)}};const l=new class{constructor(){this.eventMap={}}remove(t,e){t in this.eventMap&&(this.eventMap[t]=this.eventMap[t].filter(t=>t.id!==e))}observe(t,e,n="any"){i(t)&&i(e)&&i(n)&&(t in this.eventMap||(this.eventMap[t]=[]),this.eventMap[t].push({fn:e,id:n}))}fire(t,e){if(i(t)&&t in this.eventMap){let n=this.eventMap[t];for(let t=0;t<n.length;t++)n[t].fn(e)}}};var u=class{static remove(t,e="any"){l.remove("osh:"+t,e)}static registerView(t){t.registerCallback()}static unregisterView(t){t.unregisterCallback()}static fire(t,e){e.name=t,l.fire("osh:"+t,e)}static observe(t,e,n="any"){l.observe("osh:"+t,e,n)}static observeDiv(t,e,n){document.getElementById(t).addEventListener(e,n)}static get EVENT(){return{DATA:"data",SYNC_DATA:"syncData",SELECT_VIEW:"selectView",SHOW_VIEW:"showView",CONNECT_DATASOURCE:"connectDataSource",DISCONNECT_DATASOURCE:"disconnectDataSource",DATASOURCE_UPDATE_TIME:"updateDataSourceTime",CURRENT_MASTER_TIME:"currentMasterTime",UAV_TAKEOFF:"uav:takeoff",UAV_GOTO:"uav:goto",UAV_LOOKAT:"uav:lookat",UAV_LAND:"uav:land",UAV_ORBIT:"uav:orbit",LOADING_START:"loading:start",LOADING_STOP:"loading:stop",ADD_VIEW_ITEM:"addViewItem",RESIZE:"resize",PTZ_SEND_REQUEST:"ptzSendRequest"}}};var d=class{constructor(t,e){this.id="DataSource-"+r(),this.name=t,this.properties=e,this.timeShift=0,this.connected=!1,this.initDataSource(e)}initDataSource(t){i(t.timeShift)&&(this.timeShift=t.timeShift),i(t.syncMasterTime)?this.syncMasterTime=t.syncMasterTime:this.syncMasterTime=!1,i(t.bufferingTime)&&(this.bufferingTime=t.bufferingTime),i(t.timeOut)&&(this.timeOut=t.timeOut),i(t.connect)||(t.connect=!0),t.protocol.startsWith("ws")?(this.connector=new a(this.buildUrl(t)),this.connector.onMessage=this.onMessage.bind(this)):t.protocol.startsWith("http")&&(this.connector=new c(this.buildUrl(t)),this.connector.responseType="arraybuffer",this.connector.onMessage=this.onMessage.bind(this))}disconnect(){this.connector.disconnect(),this.connected=!1,u.fire(u.EVENT.DATA+"-"+this.id,{dataSourceId:this.id,reset:!0})}connect(){this.connector.connect(),this.connected=!0}onMessage(t){this.onData({timeStamp:this.parseTimeStamp(t)+this.timeShift,data:this.parseData(t)})}parseTimeStamp(t){return(new Date).getTime()}parseData(t){return t}onData(t){u.fire(u.EVENT.DATA+"-"+this.id,{data:t})}getId(){return this.id}getName(){return this.name}buildUrl(t){let e="";return e+=t.protocol+"://",e+=t.endpointUrl+"?",e+="service="+t.service+"&",e+="version=2.0&",e+="request=GetResult&",e+="offering="+t.offeringID+"&",t.foiURN&&""!==t.foiURN&&(e+="featureOfInterest="+t.foiURN+"&"),e+="observedProperty="+t.observedProperty+"&",e+="temporalFilter=phenomenonTime,"+t.startTime+"/"+t.endTime+"&",t.replaySpeed&&(e+="replaySpeed="+t.replaySpeed),t.responseFormat&&(e+="&responseFormat="+t.responseFormat),e}};var h=class extends d{parseTimeStamp(t){return 1e3*new DataView(t).getFloat64(0,!1)}parseData(t){return new Uint8Array(t,12,t.byteLength-12)}};n(3);class p{constructor(t,e,n){this.stylers=[],this.viewItems=[],this.names={},this.stylerToObj={},this.stylerIdToStyler={},this.lastRec={},this.selectedDataSources=[],this.dataSources=[],this.id="view-"+r(),this.dataSourceId=-1,i(n)&&i(n.dataSourceId)&&(this.dataSourceId=n.dataSourceId),i(n)&&i(n.entityId)&&(this.entityId=n.entityId),this.css="",this.cssSelected="",i(n)&&i(n.css)&&(this.css=n.css),i(n)&&i(n.cssSelected)&&(this.cssSelected=n.cssSelected),this.init(t,e,n)}init(t,e,n){this.elementDiv=document.createElement("div"),this.elementDiv.setAttribute("id",this.id),this.elementDiv.setAttribute("class",this.css+" osh-view"),this.divId=this.id;let r=document.getElementById(t);if(i(r)&&null!==r?(r.appendChild(this.elementDiv),this.container=r):(document.body.appendChild(this.elementDiv),this.hide(),this.container=document.body),this.beforeAddingItems(n),i(e))for(let t=0;t<e.length;t++)this.addViewItem(e[t]);i(n)&&i(n.show)&&(document.getElementById(this.divId).style.display=n.show?"block":"none"),this.handleEvents();var o=this;i(n)&&i(n.dataSourceId)&&this.registerCallback(),new MutationObserver(t=>{t.forEach((function(t){"style"===t.attributeName&&o.onResize()}))}).observe(this.elementDiv,{attributes:!0})}registerCallback(){u.observe(this.getEventName(),t=>{t.reset?this.reset():this.setData(this.dataSourceId,t.data)},this.divId)}unregisterCallback(){u.remove(this.getEventName(),this.divId)}getEventName(){return u.EVENT.DATA+"-"+this.dataSourceId}hide(){this.elementDiv.style.display="none"}onResize(){}attachTo(t){i(this.elementDiv.parentNode)&&this.elementDiv.parentNode.removeChild(this.elementDiv),document.getElementById(t).appendChild(this.elementDiv),"none"===this.elementDiv.style.display&&(this.elementDiv.style.display="block"),this.onResize()}beforeAddingItems(t){}getId(){return this.id}getDivId(){return this.divId}setData(t,e){}show(t){}destroy(){this.unregisterCallback()}async addViewItem(t){if(this.viewItems.push(t),t.hasOwnProperty("styler")){let e=t.styler;this.stylers.push(e),t.hasOwnProperty("name")&&(this.names[e.getId()]=t.name),e.viewItem=t,e.init(this),this.stylerIdToStyler[e.id]=e;let n=e.getDataSourcesIds();for(let r=0;r<n.length;r++){let o=n[r],s=this;u.observe(u.EVENT.DATA+"-"+o,n=>{if(n.reset)return;let r=!1;r=i(s.selectedEntity)?t.entityId===s.selectedEntity:s.selectedDataSources.indexOf(o)>-1,e.setData(o,n.data,s,{selected:r}),s.lastRec[o]=n.data},this.divId),u.observe(u.EVENT.SELECT_VIEW,n=>{let r=!1;r=i(n.entityId)?t.entityId===n.entityId:n.dataSourcesIds.indexOf(o)>-1,o in s.lastRec&&e.setData(o,s.lastRec[o],s,{selected:r})},this.divId)}}}async removeViewItem(t){this.viewItems.includes(t)&&(this.viewItems=this.viewItems.filter(e=>e!==t))}handleEvents(){var t=this;u.observe(u.EVENT.SELECT_VIEW,e=>t.selectDataView(e.dataSourcesIds,e.entityId)),u.observe(u.EVENT.SHOW_VIEW,e=>t.show(e)),u.observe(u.EVENT.ADD_VIEW_ITEM,e=>{i(e.viewId)&&e.viewId===t.id&&t.addViewItem(e.viewItem)}),u.observe(u.EVENT.RESIZE+"-"+this.divId,e=>t.onResize())}selectDataView(t,e){if(i(this.dataSources)){this.selectedDataSources=t,this.selectedEntity=e;for(let t=0;t<this.dataSources.length;t++)this.setData(this.dataSources[t],this.lastRec[this.dataSources[t]])}}getDataSourcesId(){let t=[];-1!==this.dataSourceId&&t.push(this.dataSourceId);for(let e=0;e<this.viewItems.length;e++){let n=this.viewItems[e];if(n.hasOwnProperty("styler")){let e=n.styler;t=t.concat(e.getDataSourcesIds())}}return t}reset(){}}var f=n(2),m=n.n(f);class v{constructor(t){t=t||{},this.canvasElement=t.canvas||document.createElement("canvas"),this.contextOptions=t.contextOptions,this.type=t.type||"yuv420",this.customYUV444=t.customYUV444,this.conversionType=t.conversionType||"rec601",this.width=t.width||640,this.height=t.height||320,this.animationTime=t.animationTime||0,this.canvasElement.width=this.width,this.canvasElement.height=this.height,this.initContextGL(),this.contextGL&&(this.initProgram(),this.initBuffers(),this.initTextures()),"yuv420"===this.type?this.drawNextOuptutPictureGL=t=>{var e=this.contextGL,n=this.texturePosBuffer,i=this.uTexturePosBuffer,r=this.vTexturePosBuffer,o=this.yTextureRef,s=this.uTextureRef,a=this.vTextureRef,c=t.yData,l=t.uData,u=t.vData,d=this.width,h=this.height,p=t.yDataPerRow||d,f=t.yRowCnt||h,m=t.uDataPerRow||d/2,v=t.uRowCnt||h/2,g=t.vDataPerRow||m,x=t.vRowCnt||v;e.viewport(0,0,d,h);var T=h/f,b=d/p,y=new Float32Array([b,0,0,0,b,T,0,T]);e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,y,e.DYNAMIC_DRAW),this.customYUV444?(T=h/v,b=d/m):(T=h/2/v,b=d/2/m);var w=new Float32Array([b,0,0,0,b,T,0,T]);e.bindBuffer(e.ARRAY_BUFFER,i),e.bufferData(e.ARRAY_BUFFER,w,e.DYNAMIC_DRAW),this.customYUV444?(T=h/x,b=d/g):(T=h/2/x,b=d/2/g);var E=new Float32Array([b,0,0,0,b,T,0,T]);e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,E,e.DYNAMIC_DRAW),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,o),e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE,p,f,0,e.LUMINANCE,e.UNSIGNED_BYTE,c),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,s),e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE,m,v,0,e.LUMINANCE,e.UNSIGNED_BYTE,l),e.activeTexture(e.TEXTURE2),e.bindTexture(e.TEXTURE_2D,a),e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE,g,x,0,e.LUMINANCE,e.UNSIGNED_BYTE,u),e.drawArrays(e.TRIANGLE_STRIP,0,4)}:"yuv422"===this.type&&(this.drawNextOuptutPictureGL=t=>{var e=this.contextGL,n=this.texturePosBuffer,i=this.textureRef,r=t.data,o=this.width,s=this.height,a=t.dataPerRow||2*o,c=t.rowCnt||s;e.viewport(0,0,o,s);var l=s/c,u=o/(a/2),d=new Float32Array([u,0,0,0,u,l,0,l]);e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,d,e.DYNAMIC_DRAW),e.uniform2f(e.getUniformLocation(this.shaderProgram,"resolution"),a,s),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,i),e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE,a,c,0,e.LUMINANCE,e.UNSIGNED_BYTE,r),e.drawArrays(e.TRIANGLE_STRIP,0,4)})}isWebGL(){return this.contextGL}initContextGL(){for(var t=this.canvasElement,e=null,n=["webgl","experimental-webgl","moz-webgl","webkit-3d"],i=0;!e&&i<n.length;){var r=n[i];try{e=this.contextOptions?t.getContext(r,this.contextOptions):t.getContext(r)}catch(t){e=null}e&&"function"==typeof e.getParameter||(e=null),++i}this.contextGL=e}initProgram(){var t,e,n=this.contextGL;"yuv420"===this.type?(t=["attribute vec4 vertexPos;","attribute vec4 texturePos;","attribute vec4 uTexturePos;","attribute vec4 vTexturePos;","varying vec2 textureCoord;","varying vec2 uTextureCoord;","varying vec2 vTextureCoord;","void main()","{","  gl_Position = vertexPos;","  textureCoord = texturePos.xy;","  uTextureCoord = uTexturePos.xy;","  vTextureCoord = vTexturePos.xy;","}"].join("\n"),e=["precision highp float;","varying highp vec2 textureCoord;","varying highp vec2 uTextureCoord;","varying highp vec2 vTextureCoord;","uniform sampler2D ySampler;","uniform sampler2D uSampler;","uniform sampler2D vSampler;","uniform mat4 YUV2RGB;","void main(void) {","  highp float y = texture2D(ySampler,  textureCoord).r;","  highp float u = texture2D(uSampler,  uTextureCoord).r;","  highp float v = texture2D(vSampler,  vTextureCoord).r;","  gl_FragColor = vec4(y, u, v, 1) * YUV2RGB;","}"].join("\n")):"yuv422"===this.type&&(t=["attribute vec4 vertexPos;","attribute vec4 texturePos;","varying vec2 textureCoord;","void main()","{","  gl_Position = vertexPos;","  textureCoord = texturePos.xy;","}"].join("\n"),e=["precision highp float;","varying highp vec2 textureCoord;","uniform sampler2D sampler;","uniform highp vec2 resolution;","uniform mat4 YUV2RGB;","void main(void) {","  highp float texPixX = 1.0 / resolution.x;","  highp float logPixX = 2.0 / resolution.x;","  highp float logHalfPixX = 4.0 / resolution.x;","  highp float steps = floor(textureCoord.x / logPixX);","  highp float uvSteps = floor(textureCoord.x / logHalfPixX);","  highp float y = texture2D(sampler, vec2((logPixX * steps) + texPixX, textureCoord.y)).r;","  highp float u = texture2D(sampler, vec2((logHalfPixX * uvSteps), textureCoord.y)).r;","  highp float v = texture2D(sampler, vec2((logHalfPixX * uvSteps) + texPixX + texPixX, textureCoord.y)).r;","  gl_FragColor = vec4(y, u, v, 1.0) * YUV2RGB;","}"].join("\n"));var i=[];i="rec709"===this.conversionType?[1.16438,0,1.79274,-.97295,1.16438,-.21325,-.53291,.30148,1.16438,2.1124,0,-1.1334,0,0,0,1]:[1.16438,0,1.59603,-.87079,1.16438,-.39176,-.81297,.52959,1.16438,2.01723,0,-1.08139,0,0,0,1];var r=n.createShader(n.VERTEX_SHADER);n.shaderSource(r,t),n.compileShader(r),n.getShaderParameter(r,n.COMPILE_STATUS)||console.log("Vertex shader failed to compile: "+n.getShaderInfoLog(r));var o=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(o,e),n.compileShader(o),n.getShaderParameter(o,n.COMPILE_STATUS)||console.log("Fragment shader failed to compile: "+n.getShaderInfoLog(o));var s=n.createProgram();n.attachShader(s,r),n.attachShader(s,o),n.linkProgram(s),n.getProgramParameter(s,n.LINK_STATUS)||console.log("Program failed to compile: "+n.getProgramInfoLog(s)),n.useProgram(s);var a=n.getUniformLocation(s,"YUV2RGB");n.uniformMatrix4fv(a,!1,i),this.shaderProgram=s}initBuffers(){var t=this.contextGL,e=this.shaderProgram,n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),t.STATIC_DRAW);var i=t.getAttribLocation(e,"vertexPos");if(t.enableVertexAttribArray(i),t.vertexAttribPointer(i,2,t.FLOAT,!1,0,0),this.animationTime){var r=this.animationTime,o=0,s=function(){var n=1*(o+=15)/r;o>=r?n=1:setTimeout(s,15);var i=-1*n,a=1*n,c=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,c),t.bufferData(t.ARRAY_BUFFER,new Float32Array([a,a,i,a,a,i,i,i]),t.STATIC_DRAW);var l=t.getAttribLocation(e,"vertexPos");t.enableVertexAttribArray(l),t.vertexAttribPointer(l,2,t.FLOAT,!1,0,0);try{t.drawArrays(t.TRIANGLE_STRIP,0,4)}catch(t){}};s()}var a=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,a),t.bufferData(t.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),t.STATIC_DRAW);var c=t.getAttribLocation(e,"texturePos");if(t.enableVertexAttribArray(c),t.vertexAttribPointer(c,2,t.FLOAT,!1,0,0),this.texturePosBuffer=a,"yuv420"===this.type){var l=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferData(t.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),t.STATIC_DRAW);var u=t.getAttribLocation(e,"uTexturePos");t.enableVertexAttribArray(u),t.vertexAttribPointer(u,2,t.FLOAT,!1,0,0),this.uTexturePosBuffer=l;var d=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,d),t.bufferData(t.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),t.STATIC_DRAW);var h=t.getAttribLocation(e,"vTexturePos");t.enableVertexAttribArray(h),t.vertexAttribPointer(h,2,t.FLOAT,!1,0,0),this.vTexturePosBuffer=d}}initTextures(){var t=this.contextGL,e=this.shaderProgram;if("yuv420"===this.type){var n=this.initTexture(),i=t.getUniformLocation(e,"ySampler");t.uniform1i(i,0),this.yTextureRef=n;var r=this.initTexture(),o=t.getUniformLocation(e,"uSampler");t.uniform1i(o,1),this.uTextureRef=r;var s=this.initTexture(),a=t.getUniformLocation(e,"vSampler");t.uniform1i(a,2),this.vTextureRef=s}else if("yuv422"===this.type){var c=this.initTexture(),l=t.getUniformLocation(e,"sampler");t.uniform1i(l,0),this.textureRef=c}}initTexture(){var t=this.contextGL,e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.bindTexture(t.TEXTURE_2D,null),e}drawNextOutputPicture(t,e,n,i){this.contextGL?this.drawNextOuptutPictureGL(t,e,n,i):this.drawNextOuptutPictureRGBA(t,e,n,i)}drawNextOuptutPictureRGBA(t,e,n,i){var r=i,o=this.canvasElement.getContext("2d"),s=o.getImageData(0,0,t,e);s.data.set(r),null===n?o.putImageData(s,0,0):o.putImageData(s,-n.left,-n.top,0,0,n.width,n.height)}}var g=class extends p{constructor(t,e){super(t,[],e),this.fps=0;let n="640",r="480";this.statistics={videoStartTime:0,videoPictureCounter:0,windowStartTime:0,windowPictureCounter:0,fps:0,fpsMin:1e3,fpsMax:-1e3,fpsSinceStart:0},this.useWorker=!1,this.framerate=29.67,this.directPlay=!1,i(e)&&(i(e.width)&&(n=e.width),i(e.height)&&(r=e.height),i(e.framerate)&&(this.framerate=e.framerate),i(e.directPlay)&&(this.directPlay=e.directPlay),this.useWorker=i(e.useWorker)&&e.useWorker&&o()),this.yuvCanvas=new v({width:n,height:r,contextOptions:{preserveDrawingBuffer:!0}}),document.getElementById(this.divId).appendChild(this.yuvCanvas.canvasElement);let s,a,c=this;u.observeDiv(this.divId,"click",t=>{u.fire(u.EVENT.SELECT_VIEW,{dataSourcesIds:[c.dataSourceId],entityId:c.entityId})}),this.useWorker&&this.initFFMPEG_DECODER_WORKER(),i(document.hidden)?(s="hidden",a="visibilitychange"):i(document.msHidden)?(s="msHidden",a="msvisibilitychange"):i(document.webkitHidden)&&(s="webkitHidden",a="webkitvisibilitychange");let l=this;document.addEventListener(a,(function(){document.hidden?l.skipFrame=!0:l.skipFrame=!1}),!1)}setData(t,e){if(!this.skipFrame){let t=e.data,n=t.length;this.decodeWorker(n,t)}}selectDataView(t,e){let n=document.getElementById(this.divId);i(n)&&(t.indexOf(this.dataSourceId)>-1||i(this.entityId)&&this.entityId===e?n.setAttribute("class",this.css+" "+this.cssSelected):n.setAttribute("class",this.css))}reset(){let t=new Uint8Array(1);this.yuvCanvas.drawNextOuptutPictureGL({yData:t,yDataPerRow:1,yRowCnt:1,uData:t,uDataPerRow:1,uRowCnt:1,vData:t,vDataPerRow:1,vRowCnt:1})}updateStatistics(){let t=this.statistics;t.videoPictureCounter+=1,t.windowPictureCounter+=1;let e=Date.now();t.videoStartTime||(t.videoStartTime=e);let n=e-t.videoStartTime;if(t.elapsed=n/1e3,n<1e3)return;if(!t.windowStartTime)return void(t.windowStartTime=e);if(e-t.windowStartTime>1e3){let n=e-t.windowStartTime,i=t.windowPictureCounter/n*1e3;t.windowStartTime=e,t.windowPictureCounter=0,i<t.fpsMin&&(t.fpsMin=i),i>t.fpsMax&&(t.fpsMax=i),t.fps=i}let i=t.videoPictureCounter/n*1e3;t.fpsSinceStart=i}onAfterDecoded(){}initFFMPEG_DECODER_WORKER(t){this.worker=new m.a,this.worker.id=r();let e=this.yuvCanvas,n=[],i=this;function o(t){let n=t.data;e.canvasElement.drawing=!0,e.drawNextOuptutPictureGL({yData:n.frameYData,yDataPerRow:n.frame_width,yRowCnt:n.frame_height,uData:n.frameUData,uDataPerRow:n.frame_width/2,uRowCnt:n.frame_height/2,vData:n.frameVData,vDataPerRow:n.frame_width/2,vRowCnt:n.frame_height/2}),e.canvasElement.drawing=!1}this.worker.onmessage=function(t){i.directPlay?o(t):n.push(t)},this.interval=setInterval((function(){n.length>this.framerate&&(n=[]),n.length>1&&o(n.shift())}),1e3/this.framerate)}decodeWorker(t,e){if(t>0){let n=e.buffer;this.worker.postMessage({pktSize:t,pktData:n,byteOffset:e.byteOffset},[n]),e=null}}destroy(){super.destroy(),i(this.interval)&&clearInterval(this.interval),this.worker.postMessage({message:"release"}),this.worker.terminate()}};var x=class{constructor(t,e){"http"===e.protocol&&(this.connector=new c(this.buildUrl(e)),this.connector.onError=this.onCatchError.bind(this),this.connector.onSuccess=this.onCatchSuccess.bind(this)),this.id="DataSender-"+r(),this.name=t,this.properties=e}sendRequest(t){this.connector.sendRequest(this.buildRequest(t))}buildRequest(t){return""}buildUrl(t){let e="";return e+=t.protocol+"://",e+=t.endpointUrl,e}onCatchError(t){this.onError(t)}onCatchSuccess(t){this.onSuccess(t)}onError(t){}onSuccess(t){}getId(){return this.id}getName(){return this.name}};var T=class extends x{constructor(t,e){super(t,e);let n=this;u.observe(u.EVENT.PTZ_SEND_REQUEST+"-"+this.id,t=>n.connector.sendRequest(n.buildRequest(n.getCommandData(t.cmdData))))}getCommandData(t){let e="";return null!==t.rtilt&&(e+="rtilt,"+t.rtilt+" "),null!==t.rpan&&(e+="rpan,"+t.rpan+" "),null!==t.rzoom&&(e+="rzoom,"+t.rzoom+" "),e}buildRequest(t){let e="<sps:Submit ";return e+='service="'+this.properties.service+'" ',e+='version="'+this.properties.version+'" ',e+='xmlns:sps="http://www.opengis.net/sps/2.0" xmlns:swe="http://www.opengis.net/swe/2.0"> ',e+="<sps:procedure>"+this.properties.procedure+"</sps:procedure>",e+="<sps:taskingParameters><sps:ParameterData>",e+='<sps:encoding><swe:TextEncoding blockSeparator=" "  collapseWhiteSpaces="true" decimalSeparator="." tokenSeparator=","/></sps:encoding>',e+="<sps:values>"+t+"</sps:values>",e+="</sps:ParameterData></sps:taskingParameters></sps:Submit>",e}};var b=class extends T{getCommandData(t){let e="";return null!==t.preset?e="preset,"+t.preset:null!==t.rzoom?(e="zoom,",t.rzoom<0?e+="out":e+="in"):null!==t.rpan&&null!==t.rtilt?(e+="relMove,",null!==t.rtilt&&(t.rtilt<0?e+="Bottom":e+="Top"),t.rpan<0?e+="Left":e+="Right"):(null!==t.rpan&&(e+="relMove,",t.rpan<0?e+="Left":e+="Right",e+=" "),null!==t.rtilt&&(e+="relMove,",t.rtilt<0?e+="Down":e+="Up")),e}};n(5);var y=class extends p{constructor(t,e){super(t,[],e);let n="640",o="480";this.css="tasking",this.cssSelected="",i(e)&&(i(e.width)&&(n=e.width),i(e.height)&&(o=e.height),i(e.css)&&(this.css+=e.css),i(e.cssSelected)&&(this.cssSelected=e.cssSelected),i(e.dataSenderId)&&(this.dataSenderId=e.dataSenderId)),this.rootTag=document.createElement("div"),this.rootTag.setAttribute("height",o),this.rootTag.setAttribute("width",n),this.rootTag.setAttribute("class",this.css),this.rootTag.setAttribute("id","dataview-"+r()),document.getElementById(this.divId).appendChild(this.rootTag),this.rootTag.innerHTML='\n        <div class="ptz-zoom">\n           <div class="ptz-zoom-in"><i class="fa fa-plus-circle" aria-hidden="true"></i></div>\n           <div class="ptz-zoom-bar"></div>\n           <div class="ptz-zoom-out"><i class="fa fa-minus-circle" aria-hidden="true"></i></div>\n        </div>\n        <div class="ptz">\n           <div tag="0" class=\'moveUp\' name=""></div>\n           <div tag="91" class=\'moveTopLeft\' name=""></div>\n           <div tag="90" class="moveTopRight" name=""></div>\n           <div tag="6" class="moveLeft" name=""></div>\n           <div cmd="ptzReset" class="reset" title="Center" name=""></div>\n           <div tag="4" class="moveRight" name=""></div>\n           <div tag="93" class="moveBottomLeft" name=""></div>\n           <div tag="92" class="moveBottomRight" name=""></div>\n           <div tag="2" class="moveDown" name=""></div>\n        </div>\n        <div class="ptz-right">\n            <ul>\n                        <li>\n                            <label>Presets:</label>\n                            <div class="ptz-select-style">\n                                 <select class="ptz-presets" required pattern="^(?!Select a Preset).*">\n                                     <option value="" disabled selected>Select a Preset</option>\n                                 </select>\n                            </div>\n                        </li>\n            </ul>\n        </div>',this.pan=0,this.tilt=0,this.zoom=0;this.observers=[],document.querySelector("#"+this.rootTag.id+" >  .ptz > .moveUp").onclick=function(){this.onTiltClick(5)}.bind(this),document.querySelector("#"+this.rootTag.id+" >  .ptz > .moveTopLeft").onclick=function(){this.onTiltPanClick(-5,5)}.bind(this),document.querySelector("#"+this.rootTag.id+" >  .ptz > .moveTopRight").onclick=function(){this.onTiltPanClick(5,5)}.bind(this),document.querySelector("#"+this.rootTag.id+" >  .ptz > .moveRight").onclick=function(){this.onPanClick(5)}.bind(this),document.querySelector("#"+this.rootTag.id+" >  .ptz > .moveLeft").onclick=function(){this.onPanClick(-5)}.bind(this),document.querySelector("#"+this.rootTag.id+" >  .ptz > .moveDown").onclick=function(){this.onTiltClick(-5)}.bind(this),document.querySelector("#"+this.rootTag.id+" >  .ptz > .moveBottomLeft").onclick=function(){this.onTiltPanClick(-5,-5)}.bind(this),document.querySelector("#"+this.rootTag.id+" >  .ptz > .moveBottomRight").onclick=function(){this.onTiltPanClick(5,-5)}.bind(this),document.querySelector("#"+this.rootTag.id+" >  .ptz-zoom > .ptz-zoom-in").onclick=function(){this.onZoomClick(5)}.bind(this),document.querySelector("#"+this.rootTag.id+" >  .ptz-zoom > .ptz-zoom-out").onclick=function(){this.onZoomClick(-5)}.bind(this),i(e)&&i(e.presets)&&(this.addPresets(e.presets),document.querySelector("#"+this.rootTag.id+"  .ptz-right  .ptz-select-style  .ptz-presets").onchange=this.onSelectedPresets.bind(this))}addPresets(t){let e=document.querySelector("#"+this.rootTag.id+"  .ptz-right  .ptz-select-style  .ptz-presets");for(let n in t){let i=document.createElement("option");i.text=t[n],i.value=t[n],e.add(i)}}onSelectedPresets(t){let e=document.querySelector("#"+this.rootTag.id+"  .ptz-right  .ptz-select-style  .ptz-presets"),n=e.options[e.selectedIndex];this.onChange(null,null,null,n.value)}removeInterval(t){this.timerIds.length>0&&setTimeout(clearInterval(this.timerIds.pop()),t+50)}onTiltClick(t){this.tilt+=t,this.onChange(null,t,null,null)}onTiltPanClick(t,e){this.tilt+=t,this.pan+=e,this.onChange(t,e,null,null)}onPanClick(t){this.pan+=t,this.onChange(t,null,null,null)}onZoomClick(t){this.zoom+=t,this.onChange(null,null,t,null)}onChange(t,e,n,i){}};let w=new h("drone-Video",{protocol:"ws",service:"SOS",endpointUrl:"localhost:8282/sensorhub/sos",offeringID:"foscam",observedProperty:"http://sensorml.com/ont/swe/property/VideoFrame",startTime:"now",endTime:"2055-12-19T21:09:19Z",replaySpeed:1}),E=(new g("video-container",{dataSourceId:w.id,css:"video-h264",name:"Foscam Video",useWorker:!0,width:1280,height:720,framerate:25,showTime:!0,directPlay:!0}),new b("Ptz",{protocol:"http",service:"SPS",version:"2.0",endpointUrl:"localhost:8282/sensorhub/sps",procedure:"urn:uuid:3f430d39-de1d-411a-b3b5-309816469d6b"})),R=new y("tasking-container",{dataSenderId:E.id,presets:["Reset","TopMost","BottomMost","LeftMost","RightMost"]});w.connect(),R.onChange=function(t,e,n,i){let r=E.getCommandData({rpan:t,rtilt:e,rzoom:n,preset:i});E.sendRequest(r)}}]);