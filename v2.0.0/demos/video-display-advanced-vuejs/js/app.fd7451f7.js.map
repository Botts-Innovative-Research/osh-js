{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/vcards/ChartVCard.vue?772f","webpack:///./src/components/vcards/MjpegVideoVCard.vue?030d","webpack:///./src/components/Map.vue?4789","webpack:///./src/App.vue?5ba2","webpack:///./src/components/Map.vue?c294","webpack:////home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/utils/Utils.js","webpack:////home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/events/EventMap.js","webpack:////home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/events/EventManager.js","webpack:////home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/ui/view/View.js","webpack:////home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/ui/view/map/LeafletView.js","webpack:////home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/ui/styler/Styler.js","webpack:////home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/ui/styler/PointMarker.js","webpack:///src/components/Map.vue","webpack:///./src/components/Map.vue?3baf","webpack:///./src/components/Map.vue?9397","webpack:///./src/components/TimeLine.vue?df7d","webpack:////home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/ext/osh/ui/rangeslider/RangeSliderView.js","webpack:///src/components/TimeLine.vue","webpack:///./src/components/TimeLine.vue?70c5","webpack:///./src/components/TimeLine.vue?d136","webpack:///./src/components/vcards/ChartVCard.vue?808a","webpack:////home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/ui/styler/Curve.js","webpack:////home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/ui/view/chart/ChartJsView.js","webpack:///src/components/vcards/ChartVCard.vue","webpack:///./src/components/vcards/ChartVCard.vue?c166","webpack:///./src/components/vcards/ChartVCard.vue?8032","webpack:///./src/components/vcards/MjpegVideoVCard.vue?9cab","webpack:////home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/ui/view/video/MjpegView.js","webpack:///src/components/vcards/MjpegVideoVCard.vue","webpack:///./src/components/vcards/MjpegVideoVCard.vue?97c0","webpack:///./src/components/vcards/MjpegVideoVCard.vue?0463","webpack:////home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/dataconnector/DataConnector.js","webpack:////home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/dataconnector/WebSocketConnector.js","webpack:////home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/dataconnector/Ajax.js","webpack:////home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/datareceiver/DataSource.js","webpack:////home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/datareceiver/Json.js","webpack:////home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/datareceiver/VideoMjpeg.js","webpack:////home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/datareceiver/Chart.js","webpack:////home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/buffer/Buffer.js","webpack:////home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/datareceiver/DataReceiverController.js","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js","webpack:///./src/components/vcards/MjpegVideoVCard.vue?2718","webpack:///./src/components/TimeLine.vue?1d6f","webpack:///./src/App.vue?9cf9","webpack:///./src/components/TimeLine.vue?2a64"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","model","callback","$$v","left","expression","items","selectionType","on","onSelect","selection","staticStyle","staticClass","_l","node","id","_v","_s","$event","stopPropagation","right","locationDataSource","headingDataSource","item","dataSource","type","_e","staticRenderFns","Math","pow","isDefined","v","hasValue","assertDefined","letName","assertType","expectedType","assertString","assertNumber","assertPositive","assertObject","assertArray","Array","isArray","assertFunction","randomUUID","replace","random","toString","isWebWorker","Worker","EventMap","eventMap","eventName","fnCallback","properties","fnCallbackArr","EventManager","fire","observe","divId","elem","document","getElementById","addEventListener","DATA","SYNC_DATA","SELECT_VIEW","SHOW_VIEW","CONNECT_DATASOURCE","DISCONNECT_DATASOURCE","DATASOURCE_UPDATE_TIME","CURRENT_MASTER_TIME","UAV_TAKEOFF","UAV_GOTO","UAV_LOOKAT","UAV_LAND","UAV_ORBIT","LOADING_START","LOADING_STOP","ADD_VIEW_ITEM","RESIZE","PTZ_SEND_REQUEST","View","parentElementDivId","viewItems","options","stylers","names","stylerToObj","stylerIdToStyler","lastRec","selectedDataSources","dataSources","dataSourceId","entityId","css","cssSelected","init","elementDiv","createElement","setAttribute","div","appendChild","container","body","hide","beforeAddingItems","addViewItem","show","style","display","handleEvents","that","EVENT","event","reset","setData","observer","MutationObserver","mutations","forEach","mutation","attributeName","onResize","attributes","parentNode","removeChild","viewItem","styler","getId","ds","getDataSourcesIds","self","selected","selectedEntity","indexOf","dataSourcesIds","includes","filter","currentViewItem","selectDataView","viewId","res","concat","LeafletView","cssClass","className","initMap","initialView","location","L","LatLng","zoom","first","watch","defaultLayers","getDefaultLayers","defaultLayer","layer","baseLayers","overlays","lat","lon","autoZoomOnFirstMarker","overlayLayers","map","Map","fullscreenControl","layers","control","addTo","setView","markers","polylines","maxZoom","mbAttr","mbUrl","esriLink","esriWholink","esriLayer","tileLayer","attribution","maxNativeZoom","streets","osmUrl","osmAttrib","osm","minZoom","addLayer","marker","icon","markerIcon","iconAnchor","iconUrl","label","bindTooltip","permanent","direction","offset","point","labelOffset","desc","description","bindPopup","setRotationAngle","orientation","_icon","stylerId","markerId","removeLayer","polylinePoints","locations","y","x","polyline","Polyline","color","weight","opacity","smoothFactor","addMarker","heading","labelColor","labelSize","isNaN","newLatLng","setLatLng","panTo","setIcon","polylineId","addPolyline","maxPoints","parentElement","invalidateSize","setTimeout","extend","openPopup","popup","_popup","proto_initIcon","Marker","_initIcon","proto_setPos","_setPos","oldIE","DomUtil","TRANSFORM","addInitHook","rotationOrigin","rotationAngle","include","pos","angle","update","setRotationOrigin","origin","Styler","jsonProperties","dataSourceToStylerMap","initEvents","funcName","func","isSet","dataSourceIds","handler","clear","fn","rec","view","fnArr","timeStamp","PointMarker","iconSize","defaultToTerrainElevation","checkFn","locationFunc","addFn","orientationFunc","iconFunc","labelFunc","labelColorFunc","labelSizeFunc","updateMarker","components","mounted","props","methods","z","alt","component","RangeSliderView","slider","activateButtonDiv","aTagActivateButton","deactivate","activate","startTime","Date","getTime","endTime","dataSourcesId","multi","dataCount","refreshRate","noUiSlider","start","range","min","max","format","wNumb","decimals","behaviour","connect","tooltips","edit","date","parseInt","toISOString","split","pips","values","density","handle","onChange","filterOk","lock","set","removeAttribute","title","Curve","xLabel","yLabel","stroke","strokeFunc","colorFunc","valuesFunc","updateCurve","ChartJsView","datasetsOpts","gridLinesOpts","tickOpts","scaleLabelOpts","legendOpts","domNode","ctx","maxTicksLimit","chart","Chart","labels","datasets","legend","animation","duration","spanGaps","scales","yAxes","scaleLabel","labelString","ticks","gridLines","xAxes","time","unit","responsive","maintainAspectRatio","timestamp","currentDataset","fillColor","strokeColor","pointColor","pointStrokeColor","pointHighlightFill","pointHighlightStroke","MjpegView","showTime","imgTag","rotation","PI","canvas","width","height","getContext","translate","rotate","observeDiv","oldBlobURL","src","innerHTML","URL","revokeObjectURL","DataConnector","url","WebSocketConnector","getUrl","blobURL","createObjectURL","Blob","ws","WebSocket","binaryType","onmessage","byteLength","postMessage","onerror","close","e","worker","onMessage","terminate","disconnect","Ajax","method","responseType","request","extraUrl","xmlhttp","XMLHttpRequest","timeout","open","onload","oEvent","response","ontimeout","console","log","send","setRequestHeader","onreadystatechange","readyState","status","onSuccess","responseText","onError","sendRequest","DataSource","timeShift","connected","initDataSource","syncMasterTime","bufferingTime","timeOut","protocol","startsWith","connector","buildUrl","onData","parseTimeStamp","parseData","endpointUrl","service","offeringID","foiURN","observedProperty","replaySpeed","responseFormat","Json","String","fromCharCode","Uint8Array","JSON","parse","VideoMjpeg","DataView","getFloat64","imgBlob","tokens","trim","INITIAL_BUFFERING_TIME","MAX_LONG","BUFFER_STATUS","CANCEL","START","STOP","NOT_START_YET","Buffer","buffers","replayFactor","stop","isStarted","bufferingState","observeId","boundHandlerMethod","startObservers","startRealTime","processSyncData","stopObservers","cancelDataSource","buffer","lastRecordTime","now","startDataSource","entity","addDataSource","currentBufferObj","sync","currentTime","startRelativeTime","startRelativeRealTime","dispatchData","minTimeStampBufferObj","minTimeStampDSId","minTimeStamp","waitTime","processData","bufferObj","fnEndTimeout","elapsedTime","bufObj","DataReceiverController","initBuffer","dataSourcesIdToDataSources","eventDataSourcesIds","updateDataSourceTime","dataSourcesToReconnect","dataSrc","Vue","use","Vuetify","config","productionTip","vuetify","theme","dark","drawer","drawerRight","render","h","App","$mount"],"mappings":"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","file":"js/app.fd7451f7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"http://opensensorhub.github.io/osh-js/v2.0.0/demos/video-display-advanced-vuejs/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChartVCard.vue?vue&type=style&index=0&id=4415f796&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChartVCard.vue?vue&type=style&index=0&id=4415f796&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MjpegVideoVCard.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MjpegVideoVCard.vue?vue&type=style&index=1&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"inspire\",\"dark\":\"\"}},[_c('v-navigation-drawer',{attrs:{\"app\":\"\",\"width\":\"220\",\"clipped\":\"\",\"dark\":\"\"},model:{value:(_vm.left),callback:function ($$v) {_vm.left=$$v},expression:\"left\"}},[_c('v-container',[_c('v-treeview',{attrs:{\"items\":_vm.items,\"selection-type\":_vm.selectionType,\"selected-color\":\"#ef7245\",\"selectable\":\"\",\"item-disabled\":\"locked\",\"dark\":\"\",\"return-object\":\"\",\"open-all\":\"\"},on:{\"input\":_vm.onSelect},model:{value:(_vm.selection),callback:function ($$v) {_vm.selection=$$v},expression:\"selection\"}}),_c('v-spacer',{staticStyle:{\"height\":\"15px\"}}),_c('v-divider',{staticClass:\"mx-4\",attrs:{\"dark\":\"\"}}),_c('v-spacer',{staticStyle:{\"height\":\"15px\"}}),(!_vm.selection.length)?[_vm._v(\" No nodes selected. \")]:_vm._l((_vm.selection),function(node){return _c('div',{key:node.id},[_vm._v(\" \"+_vm._s(node.name)+\" \")])})],2)],1),_c('v-app-bar',{attrs:{\"app\":\"\",\"clipped-left\":\"\",\"dense\":\"\",\"dark\":\"\"}},[_c('v-app-bar-nav-icon',{on:{\"click\":function($event){$event.stopPropagation();_vm.left = !_vm.left}}}),_c('v-spacer'),_c('v-app-bar-nav-icon',{on:{\"click\":function($event){$event.stopPropagation();_vm.right = !_vm.right}}})],1),_c('v-content',{attrs:{\"app\":\"\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-flow\":\"column wrap\",\"align-items\":\"stretch\",\"height\":\"100%\"}},[_c('Map',{staticStyle:{\"flex-grow\":\"1\"},attrs:{\"location-data-source\":_vm.locationDataSource,\"heading-data-source\":_vm.headingDataSource}}),_c('time-line',{staticClass:\"range\"})],1)]),_c('v-navigation-drawer',{attrs:{\"app\":\"\",\"right\":\"\",\"dark\":\"\",\"width\":\"340\"},model:{value:(_vm.right),callback:function ($$v) {_vm.right=$$v},expression:\"right\"}},[_c('v-container',[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"25\"}},_vm._l((_vm.selection),function(item){return _c('v-container',{key:item.dataSource.id},[(item.type == 'chart-vcard')?_c('chart-v-card',{attrs:{\"data-source\":item.dataSource}}):_vm._e(),(item.type == 'mjpeg-vcard')?_c('mjpeg-video-v-card',{attrs:{\"data-source\":item.dataSource}}):_vm._e()],1)}),1)],1)],1)],1),_c('v-footer',{attrs:{\"app\":\"\"}},[_c('span',[_c('img',{staticStyle:{\"height\":\"30px\"},attrs:{\"src\":\"images/logo.png\"}})]),_c('span',[_vm._v(\"OpenSensorHub © 2020\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map\",attrs:{\"id\":\"map\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n/** * @module Utils */\n\n/** Maximum value of a long */\nexport const MAX_LONG = Math.pow(2, 53) + 1;\n\n/**\n * Global helper method to test if a letiable or object attribute is defined\n */\nexport function isDefined(v) {\n    return typeof (v) !== 'undefined' && v !== null;\n}\n\n\n/**\n Global helper method to test if a letiable or object attribute has a value,\n that is it is defined and non null\n */\nexport function hasValue(v) {\n    return isDefined(v) && v !== null;\n}\n\n/**\n Global helper method to test if a letiable or object attribute is of a particular type\n */\nexport function hasType(v, expectedType) {\n    let hasVal = hasValue(v);\n    return hasVal && typeof (v) === expectedType;\n}\n\n/**\n Global helper method to test if a letiable or object attribute is an object\n */\nexport function isObject(v, letName) {\n    return hasType(v, 'object', letName);\n}\n\n/**\n Global helper method to test if a letiable or object attribute is an array\n */\nexport function isArray(v) {\n    return isDefined(v) && Array.isArray(v);\n}\n\n/**\n Global helper method to test if a letiable or object attribute is a function\n */\nexport function isFunction(v, letName) {\n    return hasType(v, 'function', letName);\n}\n\n/**\n Assert that a letiable or object attribute is defined\n **/\nexport function assertDefined(v, letName = 'letiable') {\n    if (!isDefined(v)) {\n        throw letName + \" must be defined\";\n    }\n    return v;\n}\n\n/**\n Assert that a letiable or object attribute is defined and non-null\n **/\nexport function assertType(v, expectedType, letName = 'letiable') {\n    assertDefined(v, letName);\n    if (typeof (v) !== expectedType) {\n        throw letName + \" must be of type \" + expectedType;\n    }\n    return v;\n}\n\n/**\n Assert that a letiable or object attribute is a string\n **/\nexport function assertBoolean(v, letName) {\n    return assertType(v, 'boolean', letName);\n}\n\n/**\n Assert that a letiable or object attribute is a string\n **/\nexport function assertString(v, letName) {\n    return assertType(v, 'string', letName);\n}\n\n/**\n Assert that a letiable or object attribute is a number\n **/\nexport function assertNumber(v, letName) {\n    return assertType(v, 'number', letName);\n}\n\n/**\n Assert that a letiable or object attribute is a number\n **/\nexport function assertPositive(v, letName) {\n    assertNumber(v, letName);\n    if (v <= 0) {\n        throw letName + \" must be a positive number\";\n    }\n}\n\n/**\n Assert that a letiable or object attribute is an object\n **/\nexport function assertObject(v, letName) {\n    return assertType(v, 'object', letName);\n}\n\n/**\n Assert that a letiable or object attribute is an object\n **/\nexport function assertArray(v, letName = 'letiable') {\n    assertDefined(v, letName);\n    if (!Array.isArray(v)) {\n        throw letName + \" must be an array\";\n    }\n    return v;\n}\n\n/**\n Assert that a letiable or object attribute is a function\n **/\nexport function assertFunction(v, letName) {\n    return assertType(v, 'function', letName);\n}\n\n/**\n Assert that a letiable or object attribute is defined and non-null\n **/\nexport function assertHasValue(v, letName = 'letiable') {\n    assertDefined(v, letName);\n    if (!hasValue(v)) {\n        throw letName + \" must not be null\";\n    }\n    return v;\n}\n\n/**\n *\n * @return {String}\n */\nexport function randomUUID() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        let r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n    });\n}\n\n/**\n * This function stamps/embeds a UUID into an object and returns the UUID generated for it\n * @return {String}\n */\nexport function stampUUID(obj) {\n    obj._osh_id = obj._osh_id || randomUUID();\n    return obj._osh_id;\n}\n\n//buffer is an ArrayBuffer object, the offset if specified in bytes, and the type is a string\n//corresponding to an OGC data type.\n//See http://def.seegrid.csiro.au/sissvoc/ogc-def/resource?uri=http://www.opengis.net/def/dataType/OGC/0/\n/**\n *\n * @param buffer\n * @param offset\n * @param type\n * @return {*}\n */\nexport function ParseBytes(buffer, offset, type) {\n    let view = new DataView(buffer);\n\n    //Note: There exist types not listed in the map below that have OGC definitions, but no appropriate\n    //methods or corresponding types available for parsing in javascript. They are float128, float16, signedLong,\n    //and unsignedLong\n    let typeMap = {\n        double: function (offset) {\n            return {val: view.getFloat64(offset), bytes: 8};\n        },\n        float64: function (offset) {\n            return {val: view.getFloat64(offset), bytes: 8};\n        },\n        float32: function (offset) {\n            return {val: view.getFloat32(offset), bytes: 4};\n        },\n        signedByte: function (offset) {\n            return {val: view.getInt8(offset), bytes: 1};\n        },\n        signedInt: function (offset) {\n            return {val: view.getInt32(offset), bytes: 4};\n        },\n        signedShort: function (offset) {\n            return {val: view.getInt16(offset), bytes: 2};\n        },\n        unsignedByte: function (offset) {\n            return {val: view.getUint8(offset), bytes: 1};\n        },\n        unsignedInt: function (offset) {\n            return {val: view.getUint32(offset), bytes: 4};\n        },\n        unsignedShort: function (offset) {\n            return {val: view.getUint16(offset), bytes: 2};\n        },\n        //TODO: string-utf-8:\n    };\n    return typeMap[type](offset);\n}\n\n//This function recursivley iterates over the resultStructure to fill in\n//values read from data which should be an ArrayBuffer containing the payload from a websocket\n/**\n *\n * @param struct\n * @param data\n * @param offsetBytes\n * @return {*}\n */\nexport function ReadData(struct, data, offsetBytes) {\n    let offset = offsetBytes;\n    for (let i = 0; i < struct.fields.length; i++) {\n        let currFieldStruct = struct.fields[i];\n        if (isDefined(currFieldStruct.type) && currFieldStruct.type !== null) {\n            let ret = ParseBytes(data, offset, currFieldStruct.type);\n            currFieldStruct.val = ret.val;\n            offset += ret.bytes;\n        } else if (isDefined(currFieldStruct.count) && currFieldStruct.count !== null) {\n            //check if count is a reference to another letiable\n            if (isNaN(currFieldStruct.count)) {\n                let id = currFieldStruct.count;\n                let fieldName = struct.id2FieldMap[id];\n                currFieldStruct.count = struct.findFieldByName(fieldName).val;\n            }\n            for (let c = 0; c < currFieldStruct.count; c++) {\n                for (let j = 0; j < currFieldStruct.fields.length; j++) {\n                    let field = JSON.parse(JSON.stringify(currFieldStruct.fields[j]));\n                    offset = ReadData(field, data, offset);\n                    currFieldStruct.val.push(field);\n                }\n            }\n        }\n    }\n    return offset;\n}\n\n/**\n *\n * @param resultStructure\n * @return {{}}\n */\nexport function GetResultObject(resultStructure) {\n    //TODO: handle cases for nested arrays / matrix data types\n    let result = {};\n    for (let i = 0; i < resultStructure.fields.length; i++) {\n        if (isDefined(resultStructure.fields[i].count)) {\n            result[resultStructure.fields[i].name] = [];\n            for (let c = 0; c < resultStructure.fields[i].count; c++) {\n                let item = {};\n                for (let k = 0; k < resultStructure.fields[i].val[c].fields.length; k++) {\n                    item[resultStructure.fields[i].val[c].fields[k].name] = resultStructure.fields[i].val[c].fields[k].val;\n                }\n                result[resultStructure.fields[i].name].push(item);\n            }\n        } else {\n            result[resultStructure.fields[i].name] = resultStructure.fields[i].val;\n        }\n    }\n    return result;\n}\n\n/**\n *\n * @return {boolean}\n */\nexport function isOpera() {\n    return (!!window.opr && !!opr.addons) || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;\n}\n\n/**\n *\n * @return {boolean}\n */\nexport function isFirefox() {\n    return typeof InstallTrigger !== 'undefined';\n}\n\n/**\n *\n * @return {boolean}\n */\nexport function isSafari() {\n    return Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0;\n}\n\n/**\n *\n * @return {boolean}\n */\nexport function isChrome() {\n    return !!window.chrome && !!window.chrome.webstore;\n}\n\n/**\n *\n * @return {*|boolean}\n */\nexport function isBlink() {\n    return (isChrome || isOpera) && !!window.CSS;\n}\n\n/**\n *\n * @param a\n * @param b\n * @return {boolean}\n */\nexport function isArrayIntersect(a, b) {\n    return a.filter(function (element) {\n        return b.indexOf(element) > -1;\n    }).length > 0;\n}\n\n\n/**\n *\n * @param o\n * @return {boolean}\n */\nexport function isElement(o) {\n    return (\n      typeof HTMLElement === \"object\" ? o instanceof HTMLElement : //DOM2\n        o && typeof o === \"object\" && o !== null && o.nodeType === 1 && typeof o.nodeName === \"string\"\n    );\n}\n\n/**\n *\n * @return {*}\n */\nexport function isWebWorker() {\n    return isDefined(Worker);\n}\n\n/**\n *\n * @param div\n */\nexport function takeScreenShot(div) {\n}\n\n/**\n * Remove a css class from a the div given as argument.\n * @param div the div to remove the class from\n * @param css the css class to remove\n */\nexport function removeCss(div, css) {\n    let divCss = div.className;\n    css = divCss.replace(css, \"\");\n    div.className = css;\n}\n\n\n/**\n * Add a css class to a the div given as argument.\n * @param div the div to add the class to\n * @param css the css class to add\n */\nexport function addCss(div, css) {\n    div.setAttribute(\"class\", div.className + \" \" + css);\n}\n\n/**\n * Removes the last character of a {string} object.\n * @param {string} value - The input {string}\n * @return {string} The value without the last character\n */\nexport function removeLastCharIfExist(value) {\n    if (!isDefined(undefined) || value === null || value.length === 0 || !value.endsWith(\"/\")) {\n        return value;\n    }\n\n    return value.substring(0, value.length - 1);\n}\n\n","/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\nimport {isDefined} from '../utils/Utils';\n\n/**\n * This class is responsible for observing and firing events. It used an object as backed data structure.\n */\nclass EventMap {\n\n    constructor() {\n        this.eventMap = {};\n    }\n\n    /**\n     * Observes any eventName and calls the callback when the event is fired.\n     * @param {String} eventName -\n     * @param {Function} fnCallback -\n     */\n    observe(eventName, fnCallback) {\n        if(!isDefined(eventName) || !isDefined(fnCallback)) {\n            return;\n        }\n        if(!(eventName in this.eventMap)) {\n            this.eventMap[eventName] = [];\n        }\n        this.eventMap[eventName].push(fnCallback);\n    }\n\n    /**\n     * Fires an event\n     * @param {String} eventName -\n     * @param {Object} properties -\n     */\n    fire(eventName, properties) {\n        if(!isDefined(eventName)) {\n            return;\n        }\n        if(eventName in this.eventMap) {\n            let fnCallbackArr = this.eventMap[eventName];\n            for(let i = 0; i < fnCallbackArr.length;i++){\n                // callback the properties to the current callback\n                fnCallbackArr[i](properties);\n            }\n        }\n    }\n}\nexport default EventMap;\n","/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\nimport EventMap from './EventMap';\n\nconst eventMap = new EventMap();\n\n/**\n * This class is response for handling events and acts as an event bus.\n */\nclass EventManager {\n\n    /**\n     * Fires an event\n     * @param {String} eventName -\n     * @param {Object} properties -\n     */\n    static fire(eventName, properties) {\n        properties.name = eventName;\n        eventMap.fire('osh:' + eventName, properties);\n    }\n\n    /**\n     * Observes any eventName and calls the callback when the event is fired.\n     * @param {String} eventName -\n     * @param {Function} fnCallback -\n     */\n    static observe(eventName, fnCallback) {\n        eventMap.observe('osh:' + eventName, fnCallback);\n    }\n\n    /**\n     * Observes eventName attached to a div element  and calls the callback when the event is fired.\n     * @param {String} divId -\n     * @param {String} eventName -\n     * @param {Function} fnCallback -\n     */\n    static observeDiv(divId, eventName, fnCallback) {\n        let elem = document.getElementById(divId);\n        // use native dom event listener\n        elem.addEventListener(eventName, fnCallback);\n    }\n\n    /**\n     * This part defines the events used INTO the API\n     * @const\n     * @type {{DATA: string, SYNC_DATA: string, SELECT_VIEW: string, CONTEXT_MENU: string, SHOW_VIEW: string, CONNECT_DATASOURCE: string, DISCONNECT_DATASOURCE: string, DATASOURCE_UPDATE_TIME: string, CURRENT_MASTER_TIME: string, UAV_TAKEOFF: string, UAV_GOTO: string, UAV_LOOKAT: string, UAV_LAND: string, UAV_ORBIT: string, LOADING_START: string, LOADING_STOP: string, ADD_VIEW_ITEM: string}}\n     */\n    static get EVENT() {\n        return {\n            DATA: \"data\",\n            SYNC_DATA: \"syncData\",\n            SELECT_VIEW: \"selectView\",\n            SHOW_VIEW: \"showView\",\n            CONNECT_DATASOURCE: \"connectDataSource\",\n            DISCONNECT_DATASOURCE: \"disconnectDataSource\",\n            DATASOURCE_UPDATE_TIME: \"updateDataSourceTime\",\n            CURRENT_MASTER_TIME: \"currentMasterTime\",\n            UAV_TAKEOFF: \"uav:takeoff\",\n            UAV_GOTO: \"uav:goto\",\n            UAV_LOOKAT: \"uav:lookat\",\n            UAV_LAND: \"uav:land\",\n            UAV_ORBIT: \"uav:orbit\",\n            LOADING_START: \"loading:start\",\n            LOADING_STOP: \"loading:stop\",\n            ADD_VIEW_ITEM: \"addViewItem\",\n            RESIZE: \"resize\",\n            PTZ_SEND_REQUEST: \"ptzSendRequest\"\n        };\n    }\n}\n\nexport default EventManager;\n","/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n/**\n * The abstract object to represent a view.\n * @param {Object} parentElementDivId - The parent html element div id to attach/or create the view.\n * @param {String} viewItems - The list of view items\n * @param {String} options - The options\n * @abstract\n */\nimport {isDefined, randomUUID} from '../../utils/Utils';\nimport EventManager from '../../events/EventManager';\nimport '../../resources/css/view.css';\n\nexport class View {\n    /**\n     * Create a View.\n     * @param {String} parentElementDivId - The div element to attach to\n     * @param {Object[]} viewItems - The initial view items to add\n     * @param {String} viewItems.name - The name of the view item\n     * @param {Styler} viewItems.styler - The styler object representing the view item\n     * @param {Object} options - the properties of the view\n     * @param {String} options.dataSourceId - The dataSource id of the dataSource providing data to the view\n     * @param {String} options.entityId - The entity id to which the view belongs to\n     */\n    constructor(parentElementDivId, viewItems, options) {\n        // list of stylers\n        this.stylers = [];\n        this.viewItems = [];\n        this.names = {};\n        this.stylerToObj = {};\n        this.stylerIdToStyler = {};\n        this.lastRec = {};\n        this.selectedDataSources = [];\n        this.dataSources = [];\n\n        //this.divId = divId;\n        this.id = \"view-\" + randomUUID();\n\n        this.dataSourceId = -1;\n        // sets dataSourceId\n        if (isDefined(options) && isDefined(options.dataSourceId)) {\n            this.dataSourceId = options.dataSourceId;\n        }\n\n        if (isDefined(options) && isDefined(options.entityId)) {\n            this.entityId = options.entityId;\n        }\n        this.css = \"\";\n\n        this.cssSelected = \"\";\n\n        if (isDefined(options) && isDefined(options.css)) {\n            this.css = options.css;\n        }\n\n        if (isDefined(options) && isDefined(options.cssSelected)) {\n            this.cssSelected = options.cssSelected;\n        }\n\n        // inits the view before adding the viewItem\n        this.init(parentElementDivId, viewItems, options);\n    }\n\n    /**\n     * Inits the view component.\n     * @param parentElementDivId The parent html element object to attach/create the view\n     * @param viewItems the list of items to add\n     * @param options [TODO]\n     * @memberof View\n     */\n    init(parentElementDivId, viewItems, options) {\n        this.elementDiv = document.createElement(\"div\");\n        this.elementDiv.setAttribute(\"id\", this.id);\n        this.elementDiv.setAttribute(\"class\", this.css+\" osh-view\");\n        this.divId = this.id;\n\n        let div = document.getElementById(parentElementDivId);\n\n        if (!isDefined(div) || div === null) {\n            document.body.appendChild(this.elementDiv);\n            this.hide();\n            this.container = document.body;\n        } else {\n            div.appendChild(this.elementDiv);\n            this.container = div;\n        }\n\n        this.beforeAddingItems(options);\n\n        if (isDefined(viewItems)) {\n            for (let i = 0; i < viewItems.length; i++) {\n                this.addViewItem(viewItems[i]);\n            }\n        }\n\n        if (isDefined(options)) {\n            if (isDefined(options.show)) {\n                document.getElementById(this.divId).style.display = (options.show) ? \"block\" : \"none\";\n            }\n        }\n        this.handleEvents();\n\n        var that = this;\n        // observes the event associated to the dataSourceId\n        if (isDefined(options) && isDefined(options.dataSourceId)) {\n            EventManager.observe(EventManager.EVENT.DATA + \"-\" + options.dataSourceId, (event) => {\n                if (event.reset) {\n                    that.reset(); // on data stream reset\n                } else {\n                    that.setData(options.dataSourceId, event.data);\n                }\n            });\n        }\n\n        let observer = new MutationObserver((mutations) => {\n            mutations.forEach(function (mutation) {\n                // Was it the style attribute that changed? (Maybe a classname or other attribute change could do this too? You might want to remove the attribute condition) Is display set to 'none'?\n                if (mutation.attributeName === 'style') {\n                    that.onResize();\n\n                }\n            });\n        });\n\n        // Attach the mutation observer to blocker, and only when attribute values change\n        observer.observe(this.elementDiv, {attributes: true});\n    }\n\n    /**\n     * Hide the view\n     */\n    hide() {\n        this.elementDiv.style.display = \"none\";\n    }\n\n    /**\n     * Callback called when the view is resized\n     * @event\n     */\n    onResize() {\n    }\n\n    /**\n     * Attach the view to a specific div. If the view has already been attached to a div, it will be removed\n     * from its current parent and will be attached to new one.\n     * Note: the onResize() is called at the end of the process.\n     * @param {String} divId - The div element to attach to\n     */\n    attachTo(divId) {\n        if (isDefined(this.elementDiv.parentNode)) {\n            // detach from its parent\n            this.elementDiv.parentNode.removeChild(this.elementDiv);\n        }\n        document.getElementById(divId).appendChild(this.elementDiv);\n        if (this.elementDiv.style.display === \"none\") {\n            this.elementDiv.style.display = \"block\";\n        }\n\n        this.onResize();\n    }\n\n    /**\n     * This method is called before attaching any view items passed as arguments in the constructor of the view.\n     * @event\n     * @param {Object} options - A generic object to use\n     */\n    beforeAddingItems(options) {\n\n    }\n\n    /**\n     * Gets the inner id of the view object.\n     * @return {String} The id of the view\n     */\n    getId() {\n        return this.id;\n    }\n\n    /**\n     * Gets the div id of the DOM element.\n     * @return {String} The div id of the view\n     */\n    getDivId() {\n        return this.divId;\n    }\n\n    /**\n     * Set the data to the view. Each view has to handle the kind of the data separately.\n     * @param {String} dataSourceId - The dataSource id of the source providing the data\n     * @param {*} data - The data to set\n     */\n    setData(dataSourceId, data) {\n    }\n\n    /**\n     * Show the view.\n     * @param  {Object} properties - A generic object\n     */\n    show(properties) {\n    }\n\n    /**\n     * Adds a viewItem to the view. The EventManager.EVENT.DATA and EventManager.EVENT.SELECT_VIEW are then observed using the\n     * dataSource(s) contained into the styler.\n     * @param {Object} viewItem - The initial view items to add\n     * @param {String} viewItem.name - The name of the view item\n     * @param {Styler} viewItem.styler - The styler object representing the view item\n     */\n    async addViewItem(viewItem) {\n        this.viewItems.push(viewItem);\n        if (viewItem.hasOwnProperty(\"styler\")) {\n            let styler = viewItem.styler;\n            this.stylers.push(styler);\n            if (viewItem.hasOwnProperty(\"name\")) {\n                this.names[styler.getId()] = viewItem.name;\n            }\n            styler.viewItem = viewItem;\n            styler.init(this);\n            this.stylerIdToStyler[styler.id] = styler;\n            //for(let dataSourceId in styler.dataSourceToStylerMap) {\n            let ds = styler.getDataSourcesIds();\n            for (let i = 0; i < ds.length; i++) {\n                let dataSourceId = ds[i];\n                // observes the data come in\n                let self = this;\n                // see https://www.pluralsight.com/guides/javascript-callbacks-variable-scope-problem\n                EventManager.observe(EventManager.EVENT.DATA + \"-\" + dataSourceId, (event) => {\n\n                    // skip data reset events for now\n                    if (event.reset) {\n                        return;\n                    }\n\n                    // we check selected dataSource only when the selected entity is not set\n                    let selected = false;\n                    if (isDefined(self.selectedEntity)) {\n                        selected = (viewItem.entityId === self.selectedEntity);\n                    } else {\n                        selected = (self.selectedDataSources.indexOf(dataSourceId) > -1);\n                    }\n\n                    //TODO: maybe done into the styler?\n                    styler.setData(dataSourceId, event.data, self, {\n                        selected: selected\n                    });\n                    self.lastRec[dataSourceId] = event.data;\n                }, this.divId);\n\n                EventManager.observe(EventManager.EVENT.SELECT_VIEW, (event) => {\n                    // we check selected dataSource only when the selected entity is not set\n                    let selected = false;\n                    if (isDefined(event.entityId)) {\n                        selected = (viewItem.entityId === event.entityId);\n                    } else {\n                        selected = (event.dataSourcesIds.indexOf(dataSourceId) > -1);\n                    }\n\n                    if (dataSourceId in self.lastRec) {\n                        styler.setData(dataSourceId, self.lastRec[dataSourceId], self, {\n                            selected: selected\n                        });\n                    }\n                }, this.divId);\n\n            }\n        }\n    }\n\n    /**\n     * Removes a view item from the view.\n     * @param {Object} viewItem - The initial view items to add\n     * @param {String} viewItem.name - The name of the view item\n     * @param {Styler} viewItem.styler - The styler object representing the view item\n     * @return {Promise<void>}\n     */\n    async removeViewItem(viewItem) {\n        if(this.viewItems.includes(viewItem)) {\n            // 1) remove from STYLER fn\n            this.viewItems = this.viewItems.filter(currentViewItem => currentViewItem !== viewItem);\n        }\n    }\n    /**\n     * @private\n     */\n    handleEvents() {\n        var that = this;\n        // observes the selected event\n        EventManager.observe(EventManager.EVENT.SELECT_VIEW, (event) =>\n            that.selectDataView(event.dataSourcesIds, event.entityId));\n\n        // observes the SHOW event\n        EventManager.observe(EventManager.EVENT.SHOW_VIEW, (event) => that.show(event));\n\n        EventManager.observe(EventManager.EVENT.ADD_VIEW_ITEM, (event) => {\n            if (isDefined(event.viewId) && event.viewId === that.id) {\n                that.addViewItem(event.viewItem);\n            }\n        });\n\n        EventManager.observe(EventManager.EVENT.RESIZE + \"-\" + this.divId, (event) =>\n            that.onResize());\n    }\n\n    /**\n     * Selects the view by setting the current selected entity and dataSource.\n     * @param  {String} dataSourcesIds - The dataSource id\n     * @param {String} entityId - The entity id\n     */\n    selectDataView(dataSourcesIds, entityId) {\n        if (isDefined(this.dataSources)) {\n            this.selectedDataSources = dataSourcesIds;\n            // set the selected entity even if it is undefined\n            // this is handled by the setData function\n            this.selectedEntity = entityId;\n            for (let j = 0; j < this.dataSources.length; j++) {\n                this.setData(this.dataSources[j], this.lastRec[this.dataSources[j]]);\n            }\n        }\n    }\n\n    /**\n     * Gets the list of the dataSource ids contained into the view.\n     * @return {String[]} The list of dataSource ids\n     */\n    getDataSourcesId() {\n        let res = [];\n        if (this.dataSourceId !== -1) {\n            res.push(this.dataSourceId);\n        }\n\n        // check for stylers\n        for (let i = 0; i < this.viewItems.length; i++) {\n            let viewItem = this.viewItems[i];\n            if (viewItem.hasOwnProperty(\"styler\")) {\n                let styler = viewItem.styler;\n                res = res.concat(styler.getDataSourcesIds());\n            }\n        }\n\n        return res;\n    }\n\n    /**\n     * Calls for resetting the view.\n     */\n    reset() {\n    }\n}\n","/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\nimport {View} from \"../View\";\nimport {isDefined, randomUUID} from \"../../../utils/Utils\";\nimport EventManager from \"../../../events/EventManager\";\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\n/**\n * This class is in charge of displaying GPS/orientation data by adding a marker to the Leaflet Map object.\n * @extends View\n * @example\n let leafletMapView = new LeafletView(\"\",\n [{\n            styler :  pointMarker,\n            name : \"Android Phone GPS\",\n            entityId : androidEntity.id\n        },\n {\n     styler : new Polyline({\n         locationFunc : {\n             dataSourceIds : [androidPhoneGpsDataSource.getId()],\n             handler : function(rec) {\n                 return {\n                     x : rec.lon,\n                     y : rec.lat,\n                     z : rec.alt\n                 };\n             }\n         },\n         color : 'rgba(0,0,255,0.5)',\n         weight : 10,\n         opacity : .5,\n         smoothFactor : 1,\n         maxPoints : 200\n     }),\n     name : \"Android Phone GPS Path\",\n     entityId : androidEntity.id\n }]\n );\n */\nclass LeafletView extends View {\n    /**\n     * Create a View.\n     * @param {String} parentElementDivId - The div element to attach to\n     * @param {Object[]} viewItems - The initial view items to add\n     * @param {String} viewItems.name - The name of the view item\n     * @param {Styler} viewItems.styler - The styler object representing the view item\n     * @param {Object} options - the properties of the view\n     * @param {Boolean} options.autoZoomOnFirstMarker - auto zoom on the first added marker\n     * @param {Object} options.initialView - {lon:.., lat:..}\n     * @param {Object[]} options.overlayLayers - OpenLayers objects to use as overlay layer\n     * @param {Object[]} options.baseLayers - OpenLayers objects to use as base layer\n     *\n     */\n    constructor(parentElementDivId, viewItems, options) {\n        super(parentElementDivId, viewItems, options);\n\n        let cssClass = document.getElementById(this.divId).className;\n        document.getElementById(this.divId).setAttribute(\"class\", cssClass+\" \"+this.css);\n    }\n\n    beforeAddingItems(options) {\n        // inits the map\n        this.initMap(options);\n    }\n\n    //---------- MAP SETUP --------------//\n    /**\n     *\n     * @private\n     */\n    initMap(options) {\n        let initialView = {\n            location: new L.LatLng(0, 0),\n            zoom: 3\n        };\n        this.first = true;\n        this.watch = false;\n        let defaultLayers = this.getDefaultLayers();\n\n        let defaultLayer = defaultLayers[0].layer;\n\n        let baseLayers = {};\n        let overlays = {};\n\n        baseLayers[defaultLayers[0].name] = defaultLayers[0].layer;\n        overlays[defaultLayers[1].name] = defaultLayers[1].layer;\n\n        if (isDefined(options)) {\n            if (isDefined(options.initialView)) {\n                initialView = {\n                    location: new L.LatLng(options.initialView.lat, options.initialView.lon),\n                    zoom: options.initialView.zoom\n                };\n            }\n            // checks autoZoom\n            if (isDefined(options.autoZoomOnFirstMarker)) {\n                this.first = false;\n            }\n\n            if(isDefined(options.autoZoomOnFirstMarker)) {\n                this.autoZoomOnFirstMarker = options.autoZoomOnFirstMarker;\n            }\n            // checks overlayers\n            if (isDefined(options.overlayLayers)) {\n                overlays = options.overlayLayers;\n            }\n\n            // checks baseLayer\n            if (isDefined(options.baseLayers)) {\n                baseLayers = options.baseLayers;\n            }\n\n            // checks defaultLayer\n            if (isDefined(options.defaultLayer)) {\n                defaultLayer = options.defaultLayer;\n            }\n        }\n\n        // sets layers to map\n        this.map = new L.Map(this.divId, {\n            fullscreenControl: true,\n            layers: defaultLayer\n        });\n\n        L.control.layers(baseLayers, overlays).addTo(this.map);\n\n        this.map.setView(initialView.location, initialView.zoom);\n\n        //this.initLayers();\n        this.markers = {};\n        this.polylines = {};\n    }\n\n    /**\n     * Gets the list of default layers.\n     * @return {Array}\n     */\n    getDefaultLayers(options) {\n        let maxZoom = 22;\n        if (isDefined(options) && options.maxZoom) {\n            maxZoom = options.maxZoom;\n        }\n        // copyrights\n        let mbAttr = 'Map data © <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors',\n            mbUrl = 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';\n\n        let esriLink = '<a href=\"http://www.esri.com/\">Esri</a>';\n        let esriWholink = 'i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community';\n\n        // leaflet layers\n        let esriLayer = L.tileLayer(\n            'http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {\n                attribution: '&copy; ' + esriLink + ', ' + esriWholink,\n                maxZoom: maxZoom,\n                maxNativeZoom: 19\n            });\n\n        let streets = L.tileLayer(mbUrl, {id: 'mapbox.streets', attribution: mbAttr, maxZoom: maxZoom});\n\n        return [{\n            name: \"OSM Streets\",\n            layer: streets\n        }, {\n            name: \"Esri Satellite\",\n            layer: esriLayer\n        }];\n    }\n\n    /**\n     * @private\n     */\n    initLayers() {\n        // create the tile layer with correct attribution\n        let osmUrl = 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';\n        let osmAttrib = 'Map data © <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors';\n        let osm = new L.tileLayer(osmUrl, {\n            minZoom: 1,\n            maxZoom: 22,\n            attribution: osmAttrib\n        });\n        this.map.addLayer(osm);\n    }\n\n    /**\n     * Add a marker to the map.\n     * @param {Object} properties\n     * @param {Number} properties.lon\n     * @param {Number} properties.lat\n     * @param {String} properties.icon - the icon path\n     * @param {Integer[]} properties.iconAnchor - offset of the icon ex:[10,10]\n     * @param {String} properties.label - label of the tooltip\n     * @param {String} properties.description - description of the marker to display into the tooltip\n     * @param {String} properties.labelOffset - offset of the label of the tooltip\n     * @param {Number} properties.orientation - orientation of the icon in degree\n     * @return {string} the id of the new created marker\n     */\n    addMarker(properties) {\n        //create marker\n        let marker = null;\n        if (properties.icon !== null) {\n            let markerIcon = L.icon({\n                iconAnchor: properties.iconAnchor,\n                iconUrl: properties.icon\n            });\n\n            marker = L.marker([properties.lat, properties.lon], {\n                icon: markerIcon\n            });\n        } else {\n            marker = L.marker([properties.lat, properties.lon]);\n        }\n\n        if (properties.label !== null) {\n            marker.bindTooltip(properties.label, {\n                permanent: false,\n                direction: 'center',\n                offset: L.point(properties.labelOffset[0], properties.labelOffset[1])\n            });\n        }\n\n        let name = properties.hasOwnProperty(\"name\") && properties.name != null ? properties.name : \"\";\n        let desc = properties.hasOwnProperty(\"description\") && properties.description != null ? properties.description : \"\";\n        if (name.length > 0 || desc.length > 0) {\n            marker.bindPopup(name + '<div>' + desc + '</div>');\n        }\n\n        marker.addTo(this.map);\n        marker.setRotationAngle(properties.orientation);\n\n        let id = \"view-marker-\" + randomUUID();\n        this.markers[id] = marker;\n\n        if (this.first === true) {\n          this.map.setView(new L.LatLng(properties.lat, properties.lon), 19);\n          this.first = false;\n        }\n        let self = this;\n\n        marker._icon.id = id;\n\n        // adds onclick event\n        marker.on('click', function () {\n            let dataSourcesIds = [];\n            let entityId;\n            for (let stylerId in self.stylerToObj) {\n                if (self.stylerToObj[stylerId] === id) {\n                    let styler = self.stylerIdToStyler[stylerId];\n                    EventManager.fire(EventManager.EVENT.SELECT_VIEW,{\n                        dataSourcesIds: dataSourcesIds.concat(styler.getDataSourcesIds()),\n                        entityId : styler.viewItem.entityId\n                    });\n                    break;\n                }\n            }\n        });\n        return id;\n    }\n\n    async removeViewItem(viewItem) {\n        await super.removeViewItem(viewItem);\n        let markerId = this.stylerToObj[viewItem.styler.getId()];\n        let marker = this.markers[markerId];\n        this.map.removeLayer(marker);\n\n        delete this.stylerToObj[viewItem.styler.getId()];\n        delete this.markers[markerId];\n    }\n\n    /**\n     * Add a polyline to the map.\n     * @param {Object} properties\n     * @param {Object[]} properties.locations - [{x, y}]\n     * @param {String} properties.color\n     * @param {Number} properties.weight\n     * @param {Number} properties.opacity\n     * * @param {Number} properties.smoothFactor\n     * @return {string} the id of the new created polyline\n     */\n    addPolyline(properties) {\n        let polylinePoints = [];\n\n        for (let i = 0; i < properties.locations.length; i++) {\n            polylinePoints.push(new L.LatLng(properties.locations[i].y, properties.locations[i].x));\n        }\n\n        //create path\n        let polyline = new L.Polyline(polylinePoints, {\n            color: properties.color,\n            weight: properties.weight,\n            opacity: properties.opacity,\n            smoothFactor: properties.smoothFactor\n        }).addTo(this.map);\n\n        let id = \"view-polyline-\" + randomUUID();\n        this.polylines[id] = polyline;\n\n        return id;\n    }\n\n    /**\n     * Updates the marker associated to the styler.\n     * @param {PointMarker} styler - The styler allowing the update of the marker\n     */\n    updateMarker(styler) {\n        let markerId = 0;\n        if (!(styler.getId() in this.stylerToObj)) {\n            // adds a new marker to the leaflet renderer\n            markerId = this.addMarker({\n                lat: styler.location.y,\n                lon: styler.location.x,\n                orientation: styler.orientation.heading,\n                color: styler.color,\n                icon: styler.icon,\n                iconAnchor: styler.iconAnchor,\n                label : styler.label,\n                labelColor : styler.labelColor,\n                labelSize : styler.labelSize,\n                labelOffset : styler.labelOffset,\n                name : styler.viewItem.name,\n\t\t\t\tdescription : styler.viewItem.description\n            });\n            this.stylerToObj[styler.getId()] = markerId;\n        } else {\n            markerId = this.stylerToObj[styler.getId()];\n        }\n\n        let marker = this.markers[markerId];\n        // updates position\n        let lon = styler.location.x;\n        let lat = styler.location.y;\n\n        if (!isNaN(lon) && !isNaN(lat)) {\n            let newLatLng = new L.LatLng(lat, lon);\n            marker.setLatLng(newLatLng);\n            if(this.autoZoomOnFirstMarker) {\n                this.map.panTo(newLatLng);\n            }\n        }\n\n\n        // updates orientation\n        if(isDefined(styler.orientation)) {\n            marker.setRotationAngle(styler.orientation.heading);\n        }\n\n        if (styler.icon !== null && marker._icon.iconUrl !== styler.icon) {\n            // updates icon\n            let markerIcon = L.icon({\n                iconAnchor: styler.iconAnchor,\n                iconUrl: styler.icon\n            });\n            marker.setIcon(markerIcon);\n        }\n    }\n\n    /**\n     * Updates the polyline associated to the styler.\n     * @param {Polyline} styler - The styler allowing the update of the polyline\n     */\n    updatePolyline(styler) {\n        let polylineId = 0;\n\n        if (!(styler.getId() in this.stylerToObj)) {\n            // adds a new marker to the leaflet renderer\n            polylineId = this.addPolyline({\n                color: styler.color,\n                weight: styler.weight,\n                locations: styler.locations,\n                maxPoints: styler.maxPoints,\n                opacity: styler.opacity,\n                smoothFactor: styler.smoothFactor\n            });\n\n            this.stylerToObj[styler.getId()] = polylineId;\n        } else {\n            polylineId = this.stylerToObj[styler.getId()];\n        }\n\n        if (polylineId in this.polylines) {\n            let polyline = this.polylines[polylineId];\n\n            // removes the layer\n            this.map.removeLayer(polyline);\n\n            let polylinePoints = [];\n            for (let i = 0; i < styler.locations.length; i++) {\n                polylinePoints.push(new L.LatLng(styler.locations[i].y, styler.locations[i].x));\n            }\n\n            //create path\n            polyline = new L.Polyline(polylinePoints, {\n                color: styler.color,\n                weight: styler.weight,\n                opacity: styler.opacity,\n                smoothFactor: styler.smoothFactor\n            }).addTo(this.map);\n\n            this.polylines[polylineId] = polyline;\n        }\n    }\n\n    attachTo(parentElement) {\n        super.attachTo(parentElement);\n        // Fix leaflet bug when resizing the div parent container\n        this.map.invalidateSize();\n    }\n\n    onResize() {\n        super.onResize();\n        let that = this;\n        setTimeout(function(){ that.map.invalidateSize()}, 100);\n\n    }\n}\n\n/***  little hack starts here ***/\n\nL.Map = L.Map.extend({\n    openPopup: function (popup) {\n        this._popup = popup;\n        return this.addLayer(popup).fire('popupopen', {\n            popup: this._popup\n        });\n    }\n});\n\n// Defines rotated marker\n(function () {\n    // save these original methods before they are overwritten\n    let proto_initIcon = L.Marker.prototype._initIcon;\n    let proto_setPos = L.Marker.prototype._setPos;\n\n    let oldIE = (L.DomUtil.TRANSFORM === 'msTransform');\n\n    L.Marker.addInitHook(function () {\n        let iconAnchor = this.options.icon.options.iconAnchor;\n        if (iconAnchor) {\n            iconAnchor = (iconAnchor[0] + 'px ' + iconAnchor[1] + 'px');\n        }\n        this.options.rotationOrigin = this.options.rotationOrigin || iconAnchor || 'center bottom';\n        this.options.rotationAngle = this.options.rotationAngle || 0;\n    });\n\n    L.Marker.include({\n        _initIcon: function () {\n            proto_initIcon.call(this);\n        },\n\n        _setPos: function (pos) {\n            proto_setPos.call(this, pos);\n\n            if (this.options.rotationAngle) {\n                this._icon.style[L.DomUtil.TRANSFORM + 'Origin'] = this.options.rotationOrigin;\n\n                if (oldIE) {\n                    // for IE 9, use the 2D rotation\n                    this._icon.style[L.DomUtil.TRANSFORM] = ' rotate(' + this.options.rotationAngle + 'deg)';\n                } else {\n                    // for modern browsers, prefer the 3D accelerated version\n                    this._icon.style[L.DomUtil.TRANSFORM] += ' rotateZ(' + this.options.rotationAngle + 'deg)';\n                }\n            }\n        },\n\n        setRotationAngle: function (angle) {\n            this.options.rotationAngle = angle;\n            this.update();\n            return this;\n        },\n\n        setRotationOrigin: function (origin) {\n            this.options.rotationOrigin = origin;\n            this.update();\n            return this;\n        }\n    });\n})();\n\n\n/***  end of hack ***/\n\nexport default  LeafletView;\n","/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\nimport {assertArray, assertFunction, hasValue, isDefined, randomUUID} from \"../../utils/Utils\";\nimport EventManager from \"../../events/EventManager\";\n\n/**\n * This class is in charge of defining a Styler object.\n */\nclass Styler {\n    /**\n     *\n     * @param {Object[]} jsonProperties - contains a list of Functions\n     */\n    constructor(jsonProperties) {\n        this.properties = jsonProperties;\n        this.id = \"styler-\" + randomUUID();\n        this.dataSourceToStylerMap = {};\n        this.initEvents();\n    }\n\n    /**\n     * @private\n     * @param funcName\n     * @return {*}\n     */\n    checkFn(funcName) {\n        let func = this.properties[funcName];\n        let isSet = hasValue(func);\n        if (isSet) {\n            assertArray(func.dataSourceIds, funcName + \".dataSourceIds\");\n            assertFunction(func.handler, funcName + \".handler\");\n        }\n        return isSet;\n    }\n\n    /**\n     * @private\n     */\n    initEvents() {\n        var that = this;\n        EventManager.observe(EventManager.EVENT.DATASOURCE_UPDATE_TIME, (event) => that.clear());\n    }\n\n    /**\n     * Clear the styler.\n     */\n    clear() {\n    }\n\n    /**\n     * Gets the styler id.\n     * @return {String} the styler id\n     */\n    getId() {\n        return this.id;\n    }\n\n    /**\n     * Selects the datasource contained into the list\n     * @param {Array} dataSourceIds the list of datasources\n     */\n    select(dataSourceIds) {\n    }\n\n    /**\n     * Adds a function associated to a list of dataSource ids\n     * @param {String[]} dataSourceIds - the list of datasources\n     * @param {Function} fn - the function to add\n     */\n    addFn(dataSourceIds, fn) {\n        for (let i = 0; i < dataSourceIds.length; i++) {\n            let dataSourceId = dataSourceIds[i];\n            if (!isDefined(this.dataSourceToStylerMap[dataSourceId])) {\n                this.dataSourceToStylerMap[dataSourceId] = [];\n            }\n            this.dataSourceToStylerMap[dataSourceId].push(fn);\n        }\n    }\n\n    /**\n     *\n     * @param dataSourceId\n     * @param rec\n     * @param view\n     * @param options\n     * @return {Boolean}\n     */\n    setData(dataSourceId, rec, view, options) {\n        if (dataSourceId in this.dataSourceToStylerMap) {\n            let fnArr = this.dataSourceToStylerMap[dataSourceId];\n            for (let i = 0; i < fnArr.length; i++) {\n                fnArr[i](rec.data, rec.timeStamp, options);\n            }\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    /**\n     *\n     * @return {String[]} The list of dataSource ids\n     */\n    getDataSourcesIds() {\n        let res = [];\n        for (let i in this.dataSourceToStylerMap) {\n            res.push(i);\n        }\n        return res;\n    }\n\n    /**\n     * Inits the styler.\n     */\n    init() {\n    }\n}\n\nexport default Styler;\n","/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2017 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\nimport {assertArray, assertObject, assertPositive, assertString, hasValue, isDefined} from \"../../utils/Utils.js\";\nimport Styler from \"./Styler.js\";\n\n/**\n * @extends Styler\n * @example\n * let pointMarker = new PointMarker({\n        location : {\n            x : 1.42376557,\n            y : 43.61758626,\n            z : 100\n        },\n        locationFunc : {\n            dataSourceIds : [androidPhoneGpsDataSource.getId()],\n            handler : function(rec) {\n                return {\n                    x : rec.lon,\n                    y : rec.lat,\n                    z : rec.alt\n                };\n            }\n        },\n        orientationFunc : {\n            dataSourceIds : [androidPhoneOrientationDataSource.getId()],\n            handler : function(rec) {\n                return {\n                    heading : rec.heading\n                };\n            }\n        },\n        icon : 'images/cameralook.png',\n        iconFunc : {\n            dataSourceIds: [androidPhoneGpsDataSource.getId()],\n            handler : function(rec,timeStamp,options) {\n                if(options.selected) {\n                    return 'images/cameralook-selected.png'\n                } else {\n                    return 'images/cameralook.png';\n                };\n            }\n        }\n    });\n */\nclass PointMarker extends Styler {\n\t/**\n\t\t* Create the PointMarker\n\t\t* @param {Object} properties\n\t\t* @param {Number[]} properties.location - [x,y]\n  * @param {Number} [properties.orientation=0] -\n\t\t* @param {String} properties.icon -\n\t\t* @param {Number[]} [properties.iconAnchor=[16,16]] -\n\t\t* @param {Number[]} [properties.iconSize=[16,16]] -\n\t\t* @param {String} properties.label -\n\t\t* @param {String} [properties.labelColor=\"#000000\"] - HTML color\n\t\t* @param {Number} [properties.labelSize=16] -\n\t\t* @param {Number[]} [properties.labelOffset=[0,0]] -\n\t\t* @param {Function} properties.locationFunc -\n\t\t* @param {Function} properties.orientationFunc -\n\t\t* @param {Function} properties.iconFunc -\n\t\t* @param {Function} properties.labelFunc -\n\t\t* @param {Function} properties.labelColorFunc -\n\t\t* @param {Function} properties.labelSizeFunc -\n\t\t*\n\t\t*/\n\tconstructor(properties) {\n\t\tsuper(properties);\n\t\tthis.properties = properties;\n\t\tthis.location = null;\n\t\tthis.orientation = {heading:0};\n\t\tthis.icon = null;\n\t\tthis.iconAnchor = [16,16];\n\t\tthis.iconSize = [16,16];\n\t\tthis.label = null;\n\t\tthis.labelColor = \"#000000\";\n\t\tthis.labelSize = 16;\n\t\tthis.labelOffset = [0,0];\n\n\t\tthis.color = null;\n\t\tthis.defaultToTerrainElevation = false;\n\n\t\tthis.options = {};\n\n\t\tif(isDefined(properties.defaultToTerrainElevation)) {\n\t\t\tthis.defaultToTerrainElevation = properties.defaultToTerrainElevation;\n\t\t}\n\n\t\tif (hasValue(properties.location)) {\n\t\t\tassertObject(properties.location, \"location\");\n\t\t\tthis.location = properties.location;\n\t\t}\n\n\t\tif (hasValue(properties.orientation)) {\n\t\t\tassertObject(properties.orientation, \"orientation\");\n\t\t\tthis.orientation = properties.orientation;\n\t\t}\n\n\t\tif (hasValue(properties.icon)) {\n\t\t\tassertString(properties.icon, \"icon\");\n\t\t\tthis.icon = properties.icon;\n\t\t}\n\n\t\tif (hasValue(properties.iconAnchor)) {\n\t\t\tassertArray(properties.iconAnchor, \"iconAnchor\");\n\t\t\tthis.iconAnchor = properties.iconAnchor;\n\t\t}\n\n\t\tif (hasValue(properties.iconSize)) {\n\t\t\tassertArray(properties.iconSize, \"iconSize\");\n\t\t\tthis.iconSize = properties.iconSize;\n\t\t}\n\n\t\tif (hasValue(properties.label)) {\n\t\t\tassertString(properties.label, \"label\");\n\t\t\tthis.label = properties.label;\n\t\t}\n\n\t\tif (hasValue(properties.labelColor)) {\n\t\t\tassertString(properties.labelColor, \"labelColor\");\n\t\t\tthis.labelColor = properties.labelColor;\n\t\t}\n\n\t\tif (hasValue(properties.labelSize)) {\n\t\t\tassertPositive(properties.labelSize, \"labelSize\");\n\t\t\tthis.labelSize = properties.labelSize;\n\t\t}\n\n\t\tif (hasValue(properties.labelOffset)) {\n\t\t\tassertArray(properties.labelOffset, \"labelOffset\");\n\t\t\tthis.labelOffset = properties.labelOffset;\n\t\t}\n\n\t\tlet that = this;\n\t\tif (this.checkFn(\"locationFunc\")) {\n\t\t\tlet fn = function(rec,timeStamp,options) {\n\t\t\t\tthat.location = properties.locationFunc.handler(rec,timeStamp,options);\n\t\t\t};\n\t\t\tthis.addFn(properties.locationFunc.dataSourceIds,fn);\n\t\t}\n\n\t\tif (this.checkFn(\"orientationFunc\")) {\n\t\t\tlet fn = function(rec,timeStamp,options) {\n\t\t\t\tthat.orientation = properties.orientationFunc.handler(rec,timeStamp,options);\n\t\t\t};\n\t\t\tthis.addFn(properties.orientationFunc.dataSourceIds,fn);\n\t\t}\n\n\t\tif (this.checkFn(\"iconFunc\")) {\n\t\t\tlet fn = function(rec,timeStamp,options) {\n\t\t\t\tthat.icon = properties.iconFunc.handler(rec,timeStamp,options);\n\t\t\t};\n\t\t\tthis.addFn(properties.iconFunc.dataSourceIds,fn);\n\t\t}\n\n\t\tif (this.checkFn(\"labelFunc\")) {\n\t\t\tlet fn = function(rec,timeStamp,options) {\n\t\t\t\tthat.label = properties.labelFunc.handler(rec,timeStamp,options);\n\t\t\t};\n\t\t\tthis.addFn(properties.labelFunc.dataSourceIds,fn);\n\t\t}\n\n\t\tif (this.checkFn(\"labelColorFunc\")) {\n\t\t\tlet fn = function(rec,timeStamp,options) {\n\t\t\t\tthat.labelColor = properties.labelColorFunc.handler(rec,timeStamp,options);\n\t\t\t};\n\t\t\tthis.addFn(properties.labelColorFunc.dataSourceIds,fn);\n\t\t}\n\n\t\tif (this.checkFn(\"labelSizeFunc\")) {\n\t\t\tlet fn = function(rec,timeStamp,options) {\n\t\t\t\tthat.labelSize = properties.labelSizeFunc.handler(rec,timeStamp,options);\n\t\t\t};\n\t\t\tthis.addFn(properties.labelSizeFunc.dataSourceIds,fn);\n\t\t}\n\t}\n\n\tinit(view) {\n\t\tsuper.init(view);\n\t\tif (isDefined(view) && this.location !== null) {\n\t\t\tview.updateMarker(this,0,{});\n\t\t}\n\t}\n\n\tsetData(dataSourceId,rec,view,options) {\n\t\tif (super.setData(dataSourceId,rec,view,options)) {\n\t\t\tif (isDefined(view) && this.location !== null) {\n\t\t\t\tview.updateMarker(this, rec.timeStamp, options);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n}\n\nexport default PointMarker;\n","<template>\n  <div\n    id=\"map\"\n    class=\"map\" />\n</template>\n\n<script>\n    // @ is an alias to /src\nimport LeafletView from \"osh/ui/view/map/LeafletView\";\nimport PointMarker from \"osh/ui/styler/PointMarker\";\n\nexport default {\n  name: \"Map\",\n  components: {},\n  mounted() {\n    this.init();\n  },\n  props: ['locationDataSource','headingDataSource'],\n  methods: {\n    init() {\n      // style it with a moving point marker\n      let marker = new PointMarker({\n        locationFunc: {\n          dataSourceIds: [this.locationDataSource.getId()],\n          handler: function (rec) {\n            return {\n              x: rec.location.lon,\n              y: rec.location.lat,\n              z: rec.location.alt\n            };\n          }\n        },\n        orientationFunc : {\n          dataSourceIds :  [this.headingDataSource.getId()],\n          handler : function(rec) {\n            let qx = rec.orient.qx;\n            let qy = rec.orient.qy;\n            let qz = rec.orient.qz;\n            let qw = rec.orient.q0;\n\n            // look dir vector\n            let x = 0;\n            let y = 0;\n            let z = -1;\n\n            // compute quat * vector\n            let ix =  qw * x + qy * z - qz * y;\n            let iy =  qw * y + qz * x - qx * z;\n            let iz =  qw * z + qx * y - qy * x;\n            let iw = - qx * x - qy * y - qz * z;\n\n            // compute result * inverse quat\n            let xp = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n            let yp = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n            let zp = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n            let yaw = 90 - (180/Math.PI*Math.atan2(yp, xp));\n\n            return {\n              heading : yaw+70\n            };\n          }\n        },\n        icon: './images/car-topview.png',\n        iconAnchor: [16, 32]\n      });\n      // create Leaflet view\n      this.view = new LeafletView(\"map\",\n        [{\n          styler: marker,\n          name: \"Android Phone GPS\"\n        }],\n        {\n          watch: true\n        });\n    },\n  }\n};\n</script>\n<style>\n  .map {\n    top: 0;\n    bottom: 0;\n    width: 100%;\n    z-index: 5;\n  }\n  .leaflet-container {\n    height: 100%;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=7bfc2fee&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"id\":\"timeline-container\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2017 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\nimport {View} from \"../../../../osh/ui/view/View\";\nimport EventManager from \"../../../../osh/events/EventManager\";\nimport {isDefined} from \"../../../../osh/utils/Utils\";\nimport \"../../resources/css/noUISlider.css\";\nimport * as noUiSlider from 'nouislider';\nimport 'nouislider/distribute/nouislider.min.css';\nimport * as wNumb from 'wnumb';\n\n/**\n * @extends View\n * @example\n * let rangeSlider = new RangeSlider(\"rangeSlider\",{\n    dataSourceId: dataSource.id,\n    startTime: \"2015-12-19T21:04:30Z\",\n    endTime: \"2015-12-19T21:09:19Z\",\n    refreshRate:1\n});\n */\nclass RangeSliderView extends View {\n\t/**\n\t\t* Create the discoveryView\n\t\t* @param {string} parentElementDivId The div element to attach to\n\t\t* @param {Object} options - The properties defining the view\n\t\t* @param {Number} options.startTime - The start time\n\t\t* @param {Number} options.endTime - The end time\n\t\t* @param {String} options.dataSourcesId - The dataSource id\n\t\t* @param {Number} options.refreshRate - The refresh rate\n\t\t*/\n  constructor(parentElementDivId, options) {\n    super(parentElementDivId, [], options);\n\n    this.slider = document.createElement(\"div\");\n    let activateButtonDiv = document.createElement(\"div\");\n    let aTagActivateButton = document.createElement(\"a\");\n    activateButtonDiv.appendChild(aTagActivateButton);\n\n\n    this.slider.setAttribute(\"class\", \"osh-èrangeslider-slider\");\n    activateButtonDiv.setAttribute(\"class\", \"osh-rangeslider-control\");\n\n    let self = this;\n\n    activateButtonDiv.addEventListener(\"click\", function (event) {\n      if (activateButtonDiv.className.indexOf(\"osh-rangeslider-control-select\") > -1) {\n        activateButtonDiv.setAttribute(\"class\", \"osh-rangeslider-control\");\n        self.deactivate();\n      } else {\n        activateButtonDiv.setAttribute(\"class\", \"osh-rangeslider-control-select\");\n        self.activate();\n      }\n    });\n    document.getElementById(this.divId).appendChild(this.slider);\n    document.getElementById(this.divId).appendChild(activateButtonDiv);\n\n    let startTime = new Date().getTime();\n    this.endTime = new Date(\"2055-01-01T00:00:00Z\").getTime(); //01/01/2055\n    this.slider.setAttribute('disabled', true);\n\n    this.dataSourcesId = [];\n\n    this.multi = false;\n    // compute a refresh rate\n    this.dataCount = 0;\n    this.refreshRate = 10;\n\n    if (isDefined(options)) {\n      if (isDefined(options.startTime)) {\n        startTime = new Date(options.startTime).getTime();\n        //slider.removeAttribute('disabled');\n      }\n\n      if (isDefined(options.endTime)) {\n        this.endTime = new Date(options.endTime).getTime();\n      }\n\n      if (isDefined(options.dataSourcesId)) {\n        this.dataSourcesId = options.dataSourcesId;\n      }\n      if (isDefined(options.refreshRate)) {\n        this.refreshRate = options.refreshRate;\n      }\n\n    }\n\n    noUiSlider.create(this.slider, {\n      start: [startTime, this.endTime]/*,timestamp(\"2015-02-16T08:09:00Z\")]*/,\n      range: {\n        min: startTime,\n        max: this.endTime\n      },\n      //step:  1000* 60* 60,\n      format: wNumb({\n        decimals: 0\n      }),\n      behaviour: 'drag',\n      connect: true,\n      tooltips: [\n        wNumb({\n          decimals: 1,\n          edit: function (value) {\n            let date = new Date(parseInt(value)).toISOString().replace(\".000Z\", \"Z\");\n            return date.split(\"T\")[1].split(\"Z\")[0].split(\".\")[0];\n          }\n        }),\n        wNumb({\n          decimals: 1,\n          edit: function (value) {\n            let date = new Date(parseInt(value)).toISOString().replace(\".000Z\", \"Z\");\n            return date.split(\"T\")[1].split(\"Z\")[0].split(\".\")[0];\n          }\n        })\n      ],\n      pips: {\n        mode: 'positions',\n        values: [5, 25, 50, 75],\n        density: 1,\n        //stepped: true,\n        format: wNumb({\n          edit: function (value) {\n            return new Date(parseInt(value)).toISOString().replace(\".000Z\", \"Z\")\n              .split(\"T\")[1].split(\"Z\")[0].split(\".\")[0];\n          }\n        })\n      }\n    });\n\n    //noUi-handle noUi-handle-lower\n    // start->update->end\n    this.slider.noUiSlider.on(\"slide\", function (values, handle) {\n      self.update = true;\n    });\n\n    this.slider.noUiSlider.on(\"end\", function (values, handle) {\n      self.onChange(values[0], values[1]);\n    });\n    // listen for DataSourceId\n    EventManager.observe(EventManager.EVENT.CURRENT_MASTER_TIME, function (event) {\n      let filterOk = true;\n\n      if (self.dataSourcesId.length > 0) {\n        if (self.dataSourcesId.indexOf(event.dataSourceId) < 0) {\n          filterOk = false;\n        }\n      }\n\n      if (filterOk && !self.lock && ((++self.dataCount) % self.refreshRate == 0)) {\n        self.slider.noUiSlider.set([event.timeStamp]);\n        self.dataCount = 0;\n      }\n    });\n  }\n\n  /**\n   * Deactivate the timeline bar\n   */\n  deactivate() {\n    this.slider.setAttribute('disabled', true);\n    this.lock = false;\n    if (this.update) {\n      let values = this.slider.noUiSlider.get();\n      EventManager.fire(EventManager.EVENT.DATASOURCE_UPDATE_TIME, {\n        startTime: new Date(parseInt(values[0])).toISOString(),\n        endTime: new Date(parseInt(values[1])).toISOString()\n      });\n    }\n    this.update = false;\n  }\n\n  /**\n   * Activate the timeline nar\n   */\n  activate() {\n    this.slider.removeAttribute('disabled');\n    this.lock = true;\n  }\n\n  setData(dataSourceId, data) {\n    if (!this.lock && ((++this.dataCount) % this.refreshRate === 0)) {\n      this.slider.noUiSlider.set([data.timeStamp]);\n      this.dataCount = 0;\n    }\n  }\n\n  onChange(startTime, endTime) {\n  }\n}\n\nexport default RangeSliderView;\n","<template>\n  <v-container id=\"timeline-container\"></v-container>\n</template>\n\n<script>\n  import RangeSlider from \"ext/osh/ui/rangeslider/RangeSliderView\";\n\n  export default {\n    name: \"TimeLine\",\n    props: ['dataSources'],\n    mounted() {\n      let rangeSlider = new RangeSlider(\"timeline-container\", {\n        startTime: \"2015-02-16T07:58:35Z\",\n        endTime: \"2015-02-16T08:09:00Z\",\n        refreshRate: 1\n      });\n    }\n  }\n</script>\n\n<style scoped>\n  .container {\n    margin-right: 0;\n    max-width: 100%;\n    margin-left: 12px;\n    margin-top: 12px;\n    padding:0;\n  }\n</style>\n\n<style>\n  .noUi-value-horizontal {\n    -webkit-transform: translate(-50%,50%);\n    transform: translate(-76%,50%) rotate(-45deg);\n    top: 50px;\n  }\n\n  .noUi-base, .noUi-connects {\n    background: linear-gradient(to bottom,rgba(116,117,119,.8) 0,rgba(58,68,82,.8) 11%,rgba(46,50,56,.8) 46%,rgba(53,53,53,.8) 81%,rgba(53,53,53,.8) 100%);\n    font-family: sans-serif;\n    font-size: 13px;\n    height: 100%;\n    z-index: 0;\n  }\n\n  .noUi-connect {\n    background: rgba(5,107,166,0.6);\n  }\n\n  [disabled] .noUi-connect {\n    background: #FFF;\n    opacity: 0.1;\n  }\n  .noUi-horizontal {\n    height: 45px;\n  }\n\n  .noUi-horizontal .noUi-handle {\n    top: 16px;\n    visibility: hidden;\n  }\n\n  .noUi-pips-horizontal {\n    height: 80px;\n    top: 0;\n    left: 0;\n    width: 100%;\n    position: unset;\n    margin-top: -55px;\n  }\n\n  .noUi-marker-horizontal.noUi-marker {\n    margin-left: -1px;\n    width: 1px;\n    height: 30%;\n    bottom: 1px;\n    background: #c3c3c3;\n  }\n\n  .osh-rangeslider-control {\n    margin-left:8px;\n  }\n\n  .noUi-horizontal .noUi-handle {\n    width: 10px;\n    height: 28px;\n    right: -5px;\n  }\n\n  .noUi-handle:after {\n    left: 3px;\n  }\n\n  .noUi-handle:after, .noUi-handle:before {\n    left: 5px;\n  }\n\n  .noUi-marker-horizontal.noUi-marker-large {\n    height: 50%;\n  }\n\n  .noUi-value-horizontal {\n    -webkit-transform: translate(-50%,50%);\n    top: 2px;\n    transform: translate(-35px, 0px);\n    color: #fff;\n  }\n\n  .osh-rangeslider-control-select {\n    margin-left: 8px;\n  }\n  .noUi-tooltip {\n    width: 60px;\n    height: 20px;\n  }\n\n  .noUi-tooltip {\n    visibility: hidden;\n  }\n\n  .noUi-tooltip:after {\n    visibility: visible;\n    margin-left: -10px;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeLine.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeLine.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimeLine.vue?vue&type=template&id=c509dbcc&scoped=true&\"\nimport script from \"./TimeLine.vue?vue&type=script&lang=js&\"\nexport * from \"./TimeLine.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TimeLine.vue?vue&type=style&index=0&id=c509dbcc&scoped=true&lang=css&\"\nimport style1 from \"./TimeLine.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c509dbcc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card',{attrs:{\"color\":\"#385F73\",\"dark\":\"\"}},[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),_c('v-container',{attrs:{\"id\":_vm.id}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\nimport Styler from \"./Styler\";\nimport {isDefined} from \"../../utils/Utils\";\n\n/**\n * @extends Styler\n */\nexport default class Curve extends Styler {\n    /**\n     * Create the Curve\n     * @param {Object} properties -\n     * @param {String} [properties.xLabel=\"\"] -\n     * @param {String} [properties.yLabel=\"\"] -\n     * @param {String} [properties.color=\"#000000\"] -\n     * @param {Number} [properties.stroke=1] -\n     * @param {Number} [properties.x=0] -\n     * @param {Number} [properties.y=[]] -\n     * @param {Function} properties.strokeFunc -\n     * @param {Function} properties.colorFunc -\n     * @param {Function} properties.valuesFunc -\n     *\n     */\n    constructor(properties) {\n        super(properties);\n        this.xLabel = \"\";\n        this.yLabel = \"\";\n        this.color = \"#000000\";\n        this.stroke = 1;\n        this.x = 0;\n        this.y = [];\n\n        let that = this;\n\n        if (isDefined(properties.stroke)) {\n            this.stroke = properties.stroke;\n        }\n\n        if (isDefined(properties.color)) {\n            this.color = properties.color;\n        }\n\n        if (isDefined(properties.x)) {\n            this.x = properties.x;\n        }\n\n        if (isDefined(properties.y)) {\n            this.y = properties.y;\n        }\n\n        if (isDefined(properties.strokeFunc)) {\n            let fn = function (rec, timeStamp, options) {\n                that.stroke = properties.strokeFunc.handler(rec, timeStamp, options);\n            };\n            this.addFn(properties.strokeFunc.dataSourceIds, fn);\n        }\n\n        if (isDefined(properties.colorFunc)) {\n            let fn = function (rec, timeStamp, options) {\n                that.color = properties.colorFunc.handler(rec, timeStamp, options);\n            };\n            this.addFn(properties.colorFunc.dataSourceIds, fn);\n        }\n\n        if (isDefined(properties.valuesFunc)) {\n            let fn = function (rec, timeStamp, options) {\n                let values = properties.valuesFunc.handler(rec, timeStamp, options);\n                that.x = values.x;\n                that.y = values.y;\n            };\n            this.addFn(properties.valuesFunc.dataSourceIds, fn);\n        }\n    }\n\n    setData(dataSourceId, rec, view, options) {\n        if (super.setData(dataSourceId, rec, view, options)) {\n            //if(typeof(view) != \"undefined\" && view.hasOwnProperty('updateMarker')){\n            if (isDefined(view)) {\n                view.updateCurve(this, rec.timeStamp, options);\n                return true;\n            }\n        }\n        return false;\n    }\n}\n","/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\nimport {View} from \"../View\";\nimport {isDefined, randomUUID} from \"../../../utils/Utils\";\nimport Chart from 'chart.js';\nimport 'chart.js/dist/Chart.min.css';\n\nclass ChartJsView extends View {\n    /**\n     * Create a View.\n     * @param {String} parentElementDivId - The div element to attach to\n     * @param {Object[]} viewItems - The initial view items to add\n     * @param {String} viewItems.name - The name of the view item\n     * @param {Styler} viewItems.styler - The styler object representing the view item\n     * @param {Object} options - the properties of the view\n     * @param {Object} options.datasetsOpts -\n     * @param {Object} options.gridLinesOpts -\n     * @param {Object} options.scaleLabelOpts -\n     * @param {Object} options.tickOpts -\n     * @param {Object} options.legendOpts -\n     * @param {Number} options.maxPoints -\n     */\n    constructor(parentElementDivId, viewItems, options) {\n        super(parentElementDivId, viewItems, options);\n\n        let xLabel = 'Time';\n        let yLabel = 'Values';\n\n        this.datasetsOpts = {};\n        this.gridLinesOpts = {};\n        this.tickOpts = {};\n        this.scaleLabelOpts = {};\n        this.legendOpts = {};\n        this.options = {};\n\n        if (isDefined(options)) {\n            if(options.hasOwnProperty('options')){\n                this.options = options.options;\n            }\n\n            if(options.hasOwnProperty('datasetsOpts')){\n                this.datasetsOpts = options.datasetsOpts;\n            }\n\n            if(options.hasOwnProperty('gridLinesOpts')){\n                this.gridLinesOpts = options.gridLinesOpts;\n            }\n\n            if(options.hasOwnProperty('scaleLabelOpts')){\n                this.scaleLabelOpts = options.scaleLabelOpts;\n            }\n\n            if(options.hasOwnProperty('tickOpts')){\n                this.tickOpts = options.tickOpts;\n            }\n\n            if(options.hasOwnProperty('legendOpts')){\n                this.legendOpts = options.legendOpts;\n            }\n\n            if (options.hasOwnProperty('maxPoints')) {\n                this.maxPoints = options.maxPoints;\n            }\n        }\n\n        let domNode = document.getElementById(this.divId);\n\n        let ctx = document.createElement(\"canvas\");\n        ctx.setAttribute(\"id\", randomUUID());\n        domNode.appendChild(ctx);\n\n        const { maxTicksLimit } = this.tickOpts || 5;\n        this.maxPoints = maxTicksLimit;\n\n        this.chart = new Chart(\n            ctx, {\n                labels:[],\n                type: 'line',\n                data: {\n                    datasets: []\n                },\n                options : {\n                    legend: {\n                        ...this.legendOpts\n                    },\n                    animation: {\n                        duration: 1000\n                    },\n                    spanGaps: true,\n                    scales: {\n                        yAxes: [{\n                            scaleLabel: {\n                                display: true,\n                                labelString: yLabel,\n                                ...this.scaleLabelOpts,\n                            },\n                            ticks: {\n                                maxTicksLimit:5,\n                                ...this.tickOpts\n                            },\n                            gridLines: this.gridLinesOpts,\n                        }],\n                        xAxes: [{\n                            scaleLabel: {\n                                display: true,\n                                labelString: xLabel,\n                                ...this.scaleLabelOpts,\n                            },\n                            type: 'time',\n                            time: {\n                                unit: 'second',\n                            },\n                            ticks: {\n                                maxTicksLimit:5,\n                                ...this.tickOpts\n                            },\n                            gridLines: this.gridLinesOpts,\n                        }],\n                    },\n                    responsive: true,\n                    maintainAspectRatio: true,\n                    ...this.options\n                }\n            });\n\n        this.datasets = {};\n    }\n\n    /**\n     *\n     * @param {Curve} styler -\n     * @param {Number} timestamp -\n     * @param {Object} options -\n     */\n    updateCurve(styler, timestamp, options) {\n        let currentDataset = this.datasets[styler.getId()];\n        if(!isDefined(currentDataset)) {\n            currentDataset = {\n                label: styler.viewItem.name,\n                fillColor: \"rgba(220,220,0,0.2)\",\n                strokeColor: \"rgba(220,220,220,1)\",\n                pointColor: \"rgba(220,220,220,1)\",\n                pointStrokeColor: \"#fff\",\n                pointHighlightFill: \"#fff\",\n                pointHighlightStroke: \"rgba(220,220,220,1)\",\n                data: []\n            };\n            currentDataset = {...currentDataset, ...this.datasetsOpts};\n            this.datasets[styler.getId()] = currentDataset;\n            this.chart.data.datasets.push(currentDataset);\n        }\n        if(currentDataset.data.length >= this.maxPoints) {\n            this.chart.options.scales.xAxes[0].ticks.min = this.chart.data.labels[2];\n        }\n\n        currentDataset.data.push({\n            x: styler.x,\n            y: styler.y\n        });\n        this.chart.data.labels.push(styler.x);\n\n        this.chart.update();\n\n        if(currentDataset.data.length > this.maxPoints) {\n            this.chart.data.labels.shift();\n            currentDataset.data.shift();\n        }\n\n    }\n}\n\nexport default ChartJsView;\n","<template>\n  <div>\n    <v-card\n            color=\"#385F73\"\n            dark\n    >\n      <v-card-title class=\"headline\">\n        {{ title }}\n      </v-card-title>\n      <v-container :id=\"id\"></v-container>\n    </v-card>\n  </div>\n</template>\n\n<script>\n  import Curve from \"osh/ui/styler/Curve\";\n  import ChartJsView from \"osh/ui/view/chart/ChartJsView\";\n  import {randomUUID} from \"osh/utils/Utils\";\n\n  export default {\n    name: \"VCardViewElement\",\n    props: ['dataSource'],\n    data: function () {\n      return {\n        title: 'Weather',\n        id: randomUUID()\n      }\n    },\n    mounted() {\n        // build chart\n        let windSpeedStylerCurve = new Curve({\n          valuesFunc: {\n            dataSourceIds: [this.dataSource.id],\n            handler: function (rec, timeStamp) {\n              return {\n                x: timeStamp,\n                y: rec[0]\n              };\n            }\n          }\n        });\n\n        // show it in video view\n        new ChartJsView(this.id,\n          [{\n            styler: windSpeedStylerCurve,\n            name: \"WindSpeed\"\n          }],\n          {\n            name: \"WindSpeed/Pressure chart\",\n            yLabel: 'Wind Speed (m/s)',\n            xLabel: 'Time',\n            css: \"chart-view\",\n            gridLinesOpts: {\n              color: '#FFF'\n            },\n            tickOpts: {\n              fontColor: '#FFF',\n              maxTicksLimit: 4\n            },\n            scaleLabelOpts: {\n              fontColor: '#FFF',\n              padding:1\n            },\n            datasetsOpts: {\n              borderColor: '#a3a3a3',\n              borderWidth:1\n            },\n            legendOpts: {\n              labels: {\n                fontColor: \"white\",\n                fontSize: 14\n              }\n            }\n          }\n        );\n    }\n  }\n</script>\n\n<style scoped>\n  .container {\n    padding: 0px;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChartVCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChartVCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChartVCard.vue?vue&type=template&id=4415f796&scoped=true&\"\nimport script from \"./ChartVCard.vue?vue&type=script&lang=js&\"\nexport * from \"./ChartVCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChartVCard.vue?vue&type=style&index=0&id=4415f796&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4415f796\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card',{attrs:{\"color\":\"#385F73\",\"dark\":\"\"}},[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),_c('v-container',{attrs:{\"id\":_vm.id}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\nimport {View} from \"../View\";\nimport {isDefined} from \"../../../utils/Utils\";\nimport EventManager from \"../../../events/EventManager\";\n\n/**\n * @extends View\n * @example\nvar videoView = new MjpegView(\"containerId\", {\n    dataSourceId: datasource.id,\n    entityId : entity.id,\n    css: \"video\",\n    cssSelected: \"video-selected\",\n    name: \"Video\"\n});\n */\n\nclass MjpegView extends View {\n  /**\n   * Create a View.\n   * @param {String} parentElementDivId - The div element to attach to\n   * @param {Object} options - the properties of the view\n   * @param {String} options.dataSourceId - The dataSource id of the dataSource providing data to the view\n   * @param {String} options.entityId - The entity id to which the view belongs to\n   * @param {String} options.showTime - Display or not the time onto the view\n   * @param {String} options.rotation - Allow to define a rotation in degree\n   *\n   */\n  constructor(parentElementDivId,options) {\n    super(parentElementDivId,[],options);\n\n    // create timestamp slot\n    this.timeStamp = null;\n    if (isDefined(options.showTime) && options.showTime) {\n        this.timeStamp = document.createElement(\"div\");\n        this.timeStamp.setAttribute(\"class\", \"video-time\");\n        document.getElementById(this.divId).appendChild(this.timeStamp);\n    }\n\n    // creates video tag element\n    this.imgTag = document.createElement(\"img\");\n    this.imgTag.setAttribute(\"class\", \"video-mjpeg\");\n\n    // rotation option\n    this.rotation = 0;\n    if (typeof(options) != \"undefined\" && typeof(options.rotation) != \"undefined\") {\n        this.rotation = options.rotation*Math.PI/180;\n        this.canvas = document.createElement('canvas');\n        this.canvas.width = 640;\n        this.canvas.height = 480;\n        var ctx = this.canvas.getContext('2d');\n        ctx.translate(0, 480) ;\n        ctx.rotate(this.rotation);\n        document.getElementById(this.divId).appendChild(this.canvas);\n    } else {\n        // appends <img> tag to <div>\n        document.getElementById(this.divId).appendChild(this.imgTag);\n    }\n\n    // adds listener\n    let self = this;\n    EventManager.observeDiv(this.divId,\"click\",(event) => {\n      EventManager.fire(EventManager.EVENT.SELECT_VIEW,{\n        dataSourcesIds: [self.dataSourceId],\n        entityId : self.entityId\n      });\n    });\n  }\n\n  setData(dataSourceId,data) {\n      let oldBlobURL = this.imgTag.src;\n      this.imgTag.src = data.data;\n      if (this.timeStamp !== null) {\n          this.timeStamp.innerHTML = new Date(data.timeStamp).toISOString();\n      }\n      window.URL.revokeObjectURL(oldBlobURL);\n  }\n\n  selectDataView(dataSourceIds,entityId) {\n    if(dataSourceIds.indexOf(this.dataSourceId) > -1 || (isDefined(this.entityId)) && this.entityId === entityId) {\n      document.getElementById(this.divId).setAttribute(\"class\",this.css+\" \"+this.cssSelected);\n    } else {\n      document.getElementById(this.divId).setAttribute(\"class\",this.css);\n    }\n  }\n\n  reset() {\n      this.imgTag.src = \"\";\n  }\n}\n\nexport default MjpegView;\n","<template>\n  <div>\n    <v-card\n            color=\"#385F73\"\n            dark\n    >\n      <v-card-title class=\"headline\">\n        {{ title }}\n      </v-card-title>\n      <v-container :id=\"id\"></v-container>\n    </v-card>\n  </div>\n</template>\n\n<script>\n  import MjpegView from \"osh/ui/view/video/MjpegView\";\n  import {randomUUID} from \"osh/utils/Utils\";\n\n  export default {\n    name: \"MjpegVideoVCard\",\n    props: ['dataSource'],\n    data: function () {\n      return {\n        title: 'Android Mjpeg Video',\n        id: randomUUID()\n      }\n    },\n    mounted() {\n      // build video\n      // show it in video view\n      new MjpegView(this.id, {\n        dataSourceId: this.dataSource.id,\n        css: \"video-mjpeg\",\n        name: \"Android Video\",\n        keepRatio: true,\n        showTime: true\n      });\n    }\n  }\n</script>\n\n<style scoped>\n  .container {\n    padding: 0px;\n  }\n\n</style>\n<style>\n  .container > div.video-mjpeg {\n    width: 100%;\n    padding: 8px;\n    overflow: hidden;\n  }\n  .container > div.video-mjpeg img {\n    width: 100%;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MjpegVideoVCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MjpegVideoVCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MjpegVideoVCard.vue?vue&type=template&id=43253d1c&scoped=true&\"\nimport script from \"./MjpegVideoVCard.vue?vue&type=script&lang=js&\"\nexport * from \"./MjpegVideoVCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MjpegVideoVCard.vue?vue&type=style&index=0&id=43253d1c&scoped=true&lang=css&\"\nimport style1 from \"./MjpegVideoVCard.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43253d1c\",\n  null\n  \n)\n\nexport default component.exports","/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\nimport {randomUUID} from '../utils/Utils';\n\n/**\n * The DataConnector is the abstract class used to create different connectors.\n */\nclass DataConnector {\n    /**\n     * @param {String} url - The full url used to connect to the data stream\n     */\n    constructor(url) {\n        this.url = url;\n        this.id = \"DataConnector-\" + randomUUID();\n    }\n\n    /**\n     * The data connector default id.\n     * @return {String}\n     */\n    getId() {\n        return this.id;\n    }\n\n    /**\n     * The stream url.\n     * @return {String}\n     */\n    getUrl() {\n        return this.url;\n    }\n}\n\nexport default DataConnector;\n","/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\nimport DataConnector from './DataConnector';\nimport {isWebWorker} from '../utils/Utils';\n\n/**\n * Defines the AjaxConnector to connect to a remote server by making AjaxRequest.\n * @extends DataConnector\n * @example\n * let url = ...;\n * let connector = new WebSocketDataConnector(url);\n *\n * // connect\n * connector.connect();\n *\n * // disconnect\n * connector.disconnect();\n *\n * // close\n * connector.close();\n *\n */\n\nclass WebSocketConnector extends DataConnector {\n    /**\n     * Connect to the webSocket. If the system supports WebWorker, it will automatically creates one otherwise use\n     * the main thread.\n     */\n    connect() {\n        let that = this;\n        if (!this.init) {\n            //creates Web Socket\n            if (isWebWorker()) {\n                let url = this.getUrl();\n                let blobURL = URL.createObjectURL(new Blob(['(',\n\n                        function () {\n                            let ws = null;\n                            self.onmessage = (e) => {\n                                if (e.data === \"close\") {\n                                    close();\n                                } else {\n                                    // is URL\n                                    init(e.data);\n                                }\n                            };\n\n                            function init(url) {\n                                ws = new WebSocket(url);\n                                ws.binaryType = 'arraybuffer';\n                                ws.onmessage = (event) => {\n                                    //callback data on message received\n                                    if (event.data.byteLength > 0) {\n                                        self.postMessage(event.data, [event.data]);\n                                    }\n                                };\n\n                                ws.onerror = (event) => {\n                                    ws.close();\n                                };\n                            }\n\n                            function close() {\n                                ws.close();\n                            }\n                        }.toString(), ')()'],\n                    {type: 'application/javascript'}));\n\n                this.worker = new Worker(blobURL);\n\n                this.worker.postMessage(url);\n                this.worker.onmessage = (e) => that.onMessage(e.data);\n\n                // Won't be needing this anymore\n                URL.revokeObjectURL(blobURL);\n            } else {\n                this.ws = new WebSocket(this.getUrl());\n                this.ws.binaryType = 'arraybuffer';\n                this.ws.onmessage = (e) =>   {\n                    if (e.data.byteLength > 0) {\n                        this.onMessage(e.data);\n                    }\n                }\n\n                // closes socket if any errors occur\n                this.ws.onerror = (event) => this.ws.close();\n            }\n            this.init = true;\n        }\n    }\n\n    /**\n     * Disconnects the websocket.\n     */\n    disconnect() {\n        if (isWebWorker() && this.worker !== null) {\n            this.worker.postMessage(\"close\");\n            this.worker.terminate();\n            this.init = false;\n        } else if (this.ws !== null) {\n            this.ws.close();\n            this.init = false;\n        }\n    }\n\n    /**\n     * The onMessage method used by the websocket to callback the data\n     * @param data the callback data\n     * @event\n     */\n    onMessage(data) {\n    }\n\n    /**\n     * Closes the webSocket.\n     */\n    close() {\n        this.disconnect();\n    }\n}\n\nexport default  WebSocketConnector;\n","/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\nimport DataConnector from './DataConnector';\nimport {isDefined} from '../utils/Utils';\n\n/**\n * Defines the AjaxConnector to connect to a remote server by making AjaxRequest.\n * @extends DataConnector\n * @example\n * let request = ...;\n * let connector = new AjaxConnector(url);\n *\n * // handle onSuccess\n * connector.onSuccess = function(event) {\n *  // does something\n * }\n *\n * connector.onError = function(event) {\n *  // does something\n * }\n *\n * // send request\n * connector.sendRequest(request);\n *\n */\nclass Ajax extends DataConnector {\n\n    /**\n     * Creates Ajax.\n     * @param {String} url -\n     * @param {Object} properties -\n     * @param {String} properties.method -\n     * @param {String} properties.responseType -\n     */\n    constructor(url, properties) {\n        super(url);\n\n        this.method = \"POST\";\n        this.responseType = \"arraybuffer\";\n\n        if (isDefined(properties)) {\n            if (properties.method) {\n                this.method = properties.method;\n            }\n\n            if (properties.responseType) {\n                this.responseType = properties.responseType;\n            }\n        }\n    }\n\n    /**\n     * Sends the request to the defined server.\n     * @param {String} request - The Http request\n     * @param {String} extraUrl - get query parameters\n     */\n    sendRequest(request, extraUrl) {\n        let self = this;\n        let xmlhttp = new XMLHttpRequest();\n        xmlhttp.timeout = 60000;\n        if (request === null) {\n            if (isDefined(extraUrl)) {\n                xmlhttp.open(\"GET\", this.getUrl() + \"?\" + extraUrl, true);\n            } else {\n                xmlhttp.open(\"GET\", this.getUrl(), true);\n            }\n            xmlhttp.responseType = this.responseType;\n            xmlhttp.onload = (oEvent) => {\n                if (xmlhttp.response) {\n                    self.onMessage(xmlhttp.response);\n                }\n            };\n            xmlhttp.ontimeout = (e) => {\n                console.log(\"Timeout\");\n            };\n\n            xmlhttp.send(null);\n        } else {\n            xmlhttp.open(\"POST\", this.getUrl(), true);\n            xmlhttp.setRequestHeader('Content-Type', 'text/xml');\n\n            xmlhttp.send(request);\n\n            xmlhttp.onreadystatechange = () => {\n                if (xmlhttp.readyState < 4) {\n                    // while waiting response from server\n                } else if (xmlhttp.readyState === 4) {                // 4 = Response from server has been completely loaded.\n                    if (xmlhttp.status === 200 && xmlhttp.status < 300) { // http status between 200 to 299 are all successful\n                        self.onSuccess(xmlhttp.responseText);\n                    } else {\n                        self.onError(\"\");\n                    }\n                }\n            };\n        }\n    }\n\n    /**\n     * This is the callback method in case of getting error connection.\n     * @param event The error details\n     * @event\n     */\n    onError(event) {\n\n    }\n\n    /**\n     * This is the callback method in case of getting success connection.\n     * @param event\n     * @event\n     */\n    onSuccess(event) {\n\n    }\n\n    /**\n     * Sends the request\n     * @private\n     */\n    connect() {\n        this.sendRequest(null);\n    }\n}\nexport default Ajax;\n","/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\nimport {randomUUID, isDefined} from '../utils/Utils';\nimport WebSocketConnector from \"../dataconnector/WebSocketConnector\";\nimport Ajax from \"../dataconnector/Ajax\";\nimport EventManager from \"../events/EventManager\";\n\n/**\n * The DataSource is the abstract class used to create different datasources.\n *\n */\nclass DataSource {\n    /**\n     * @param {String} name - the datasource name\n     * @param {Object} properties - the datasource properties\n     * @param {Boolean} properties.timeShift - fix some problem with some android devices with some timestamp shift to 16 sec\n     * @param {Boolean} properties.syncMasterTime - defines if the datasource is synchronize with the others one\n     * @param {Number} properties.bufferingTime - defines the time during the data has to be buffered\n     * @param {Number} properties.timeOut - defines the limit time before data has to be skipped\n     * @param {String} properties.protocol - defines the protocol of the datasource. @see {@link DataConnector}\n     */\n    constructor(name, properties) {\n        this.id = \"DataSource-\" + randomUUID();\n        this.name = name;\n        this.properties = properties;\n        this.timeShift = 0;\n        this.connected = false;\n\n        this.initDataSource(properties);\n    }\n\n    /**\n     * Inits the datasource with the constructor properties.\n     * @private\n     * @param properties\n     */\n    initDataSource(properties) {\n\n        if (isDefined(properties.timeShift)) {\n            this.timeShift = properties.timeShift;\n        }\n\n        if (isDefined(properties.syncMasterTime)) {\n            this.syncMasterTime = properties.syncMasterTime;\n        } else {\n            this.syncMasterTime = false;\n        }\n\n        if (isDefined(properties.bufferingTime)) {\n            this.bufferingTime = properties.bufferingTime;\n        }\n\n        if (isDefined(properties.timeOut)) {\n            this.timeOut = properties.timeOut;\n        }\n\n        if (!isDefined(properties.connect)) {\n            properties.connect = true;\n        }\n\n        // checks if type is WebSocketConnector\n        if (properties.protocol.startsWith('ws')) {\n            this.connector = new WebSocketConnector(this.buildUrl(properties));\n            // connects the callback\n            this.connector.onMessage = this.onMessage.bind(this);\n        } else if (properties.protocol.startsWith('http')) {\n            this.connector = new Ajax(this.buildUrl(properties));\n            this.connector.responseType = 'arraybuffer';\n            // connects the callback\n            this.connector.onMessage = this.onMessage.bind(this);\n        }\n    }\n\n    /**\n     * Disconnect the dataSource then the connector will be closed as well.\n     */\n    disconnect() {\n        this.connector.disconnect();\n        this.connected = false;\n\n        // send data reset event\n        EventManager.fire(EventManager.EVENT.DATA + \"-\" + this.id, {\n            dataSourceId: this.id,\n            reset: true\n        });\n    }\n\n    /**\n     * Connect the dataSource then the connector will be opened as well.\n     */\n    connect() {\n        this.connector.connect();\n        this.connected = true;\n    }\n\n    /**\n     * The callback which receives data.\n     * @event\n     * @param {Object} data - data received\n     */\n    onMessage(data) {\n        this.onData({\n            timeStamp: this.parseTimeStamp(data) + this.timeShift,\n            data: this.parseData(data)\n        });\n    }\n\n    /**\n     * The default timestamp parser\n     * @param data - the full data message returned by the connector\n     * @return {Number} the formatted timestamp\n     */\n    parseTimeStamp(data) {\n        return new Date().getTime();\n    }\n\n    /**\n     * The default data parser\n     * @param data the full data message returned by the connector\n     * @return {String|Object|number|ArrayBuffer|*} data the formatted data\n     */\n    parseData(data) {\n        return data;\n    }\n\n    /**\n     * Fires the EventManager.EVENT.DATA event\n     * @param {Object} data the data object\n     * data is represented as\n     * data = {\n     *    timeStamp: timeStamp // number\n     *    data: data // data to render\n     * };\n     */\n    onData(data) {\n        EventManager.fire(EventManager.EVENT.DATA + \"-\" + this.id, {data: data});\n    }\n\n    /**\n     * Gets the datasource id.\n     * @return {String} the datasource id\n     */\n    getId() {\n        return this.id;\n    }\n\n    /**\n     * Gets the datasource name.\n     * @return {String} the datasource name\n     */\n    getName() {\n        return this.name;\n    }\n\n    /**\n     * Builds the full url.\n     * @param {Object} properties\n     * @param {String} properties.protocol the connector protocol\n     * @param {String} properties.endpointUrl the endpoint url\n     * @param {String} properties.service the service\n     * @param {String} properties.offeringID the offeringID\n     * @param {String} properties.observedProperty the observed property\n     * @param {String} properties.startTime the start time (ISO format)\n     * @param {String} properties.endTime the end time (ISO format)\n     * @param {Number} properties.replaySpeed the replay factor\n     * @param {Number} properties.responseFormat the response format (e.g video/mp4)\n     * @return {String} the full url\n     */\n    buildUrl(properties) {\n        let url = \"\";\n\n        // adds protocol\n        url += properties.protocol + \"://\";\n\n        // adds endpoint url\n        url += properties.endpointUrl + \"?\";\n\n        // adds service\n        url += \"service=\" + properties.service + \"&\";\n\n        // adds version\n        url += \"version=2.0&\";\n\n        // adds request\n        url += \"request=GetResult&\";\n\n        // adds offering\n        url += \"offering=\" + properties.offeringID + \"&\";\n\n        // adds feature of interest urn\n        if (properties.foiURN && properties.foiURN !== '') {\n            url += 'featureOfInterest=' + properties.foiURN + '&';\n        }\n\n        // adds observedProperty\n        url += \"observedProperty=\" + properties.observedProperty + \"&\";\n\n        // adds temporalFilter\n        let startTime = properties.startTime;\n        let endTime = properties.endTime;\n        url += \"temporalFilter=phenomenonTime,\" + startTime + \"/\" + endTime + \"&\";\n\n        if (properties.replaySpeed) {\n            // adds replaySpeed\n            url += \"replaySpeed=\" + properties.replaySpeed;\n        }\n\n        // adds responseFormat (optional)\n        if (properties.responseFormat) {\n            url += \"&responseFormat=\" + properties.responseFormat;\n        }\n\n        return url;\n    }\n}\n\nexport default DataSource;\n","/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\nimport DataSource from './DataSource';\n\n/**\n * This datasource provides generic parsing for JSON response.\n *\n * @extends DataSource\n * @example\n * let androidPhoneGpsDataSource = new JSON(\"android-GPS\", {\n    protocol: \"ws\",\n    service: \"SOS\",\n    endpointUrl: \"sensiasoft.net:8181/sensorhub/sos\",\n    offeringID: \"urn:android:device:060693280a28e015-sos\",\n    observedProperty: \"http://sensorml.com/ont/swe/property/Location\",\n    startTime: \"2015-02-16T07:58:00Z\",\n    endTime: \"2015-02-16T08:09:00Z\",\n    replaySpeed: replayFactor+\"\",\n    syncMasterTime: true,\n    bufferingTime: 1000,\n    timeShift: -16000\n  });\n */\n\nclass Json extends DataSource {\n\n    /**\n     * Extracts timestamp from the message. The timestamp corresponds to the 'time' attribute of the JSON object.\n     * @param {String} data - the data to parse\n     * @return {Number} the extracted timestamp\n     */\n    parseTimeStamp(data) {\n        let rec = String.fromCharCode.apply(null, new Uint8Array(data));\n        return new Date(JSON.parse(rec)['time']).getTime();\n    }\n\n    /**\n     * Extract data from the message. The data are corresponding to the whole list of attributes of the JSON object\n     * excepting the 'time' one.\n     * @param {Object} data - the data to parse\n     * @return {Object} the parsed data\n     * @example\n     * {\n     *   location : {\n     *    lat:43.61758626,\n     *    lon: 1.42376557,\n     *    alt:100\n     *   }\n     * }\n     */\n    parseData(data) {\n        let rec = JSON.parse(String.fromCharCode.apply(null, new Uint8Array(data)));\n\n        let result = {};\n\n        for (let key in rec) {\n            if (key !== 'time') {\n                result[key] = rec[key];\n            }\n        }\n        return result;\n    }\n\n    /**\n     * Builds the full url.\n     * @param {Object} properties\n     * @param {String} properties.protocol - the connector protocol\n     * @param {String} properties.endpointUrl - the endpoint url\n     * @param {String} properties.service - the service\n     * @param {String} properties.offeringID - the offeringID\n     * @param {String} properties.observedProperty -  the observed property\n     * @param {String} properties.startTime - the start time (ISO format)\n     * @param {String} properties.endTime - the end time (ISO format)\n     * @param {Number} properties.replaySpeed - the replay factor\n     * @param {Number} properties.responseFormat - the response format (e.g video/mp4)\n     * @return {String} the full url\n     */\n    buildUrl(properties) {\n        let url = \"\";\n\n        // adds protocol\n        url += properties.protocol + \"://\";\n\n        // adds endpoint url\n        url += properties.endpointUrl + \"?\";\n\n        // adds service\n        url += \"service=\" + properties.service + \"&\";\n\n        // adds version\n        url += \"version=2.0&\";\n\n        // adds request\n        url += \"request=GetResult&\";\n\n        // adds offering\n        url += \"offering=\" + properties.offeringID + \"&\";\n\n        // adds feature of interest urn\n        if (properties.foiURN && properties.foiURN !== '') {\n            url += 'featureOfInterest=' + properties.foiURN + '&';\n        }\n\n        // adds observedProperty\n        url += \"observedProperty=\" + properties.observedProperty + \"&\";\n\n        // adds temporalFilter\n        let startTime = properties.startTime;\n        let endTime = properties.endTime;\n        if (startTime !== \"now\" && this.timeShift !== 0) {\n            // HACK: don't do it for old Android dataset that is indexed differently\n            if (properties.offeringID !== \"urn:android:device:060693280a28e015-sos\") {\n                // apply time shift\n                startTime = new Date(Date.parse(startTime) - this.timeShift).toISOString();\n                endTime = new Date(Date.parse(endTime) - this.timeShift).toISOString();\n            }\n        }\n        url += \"temporalFilter=phenomenonTime,\" + startTime + \"/\" + endTime + \"&\";\n\n        if (properties.replaySpeed) {\n            // adds replaySpeed\n            url += \"replaySpeed=\" + properties.replaySpeed;\n        }\n\n        // adds responseFormat (mandatory)\n        url += \"&responseFormat=application/json\";\n\n        return url;\n    }\n}\n\nexport default Json;\n","/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\nimport DataSource from './DataSource';\n\n/**\n * This datasource provides parsing to MJPEG raw data.\n * Data: ArrayBuffer\n * @extends DataSource\n * @example\n var androidPhoneVideoDataSource = new DataSourceVideoMjpeg(\"android-Video\", {\n    protocol: \"ws\",\n    service: \"SOS\",\n    endpointUrl: \"sensiasoft.net:8181/sensorhub/sos\",\n    offeringID: \"urn:android:device:060693280a28e015-sos\",\n    observedProperty: \"http://sensorml.com/ont/swe/property/VideoFrame\",\n    startTime: \"2015-02-16T07:58:00Z\",\n    endTime: \"2015-02-16T08:09:00Z\",\n    replaySpeed: 1,\n    syncMasterTime: true,\n    bufferingTime: 1000\n  });\n */\nclass VideoMjpeg extends DataSource {\n    /**\n     * Extracts timestamp from the message. The timestamp is corresponding to the first 64 bits of the binary message.\n     * @param {ArrayBuffer} data - the data to parse\n     * @returns {Number} the extracted timestamp\n     */\n    parseTimeStamp(data) {\n        return new DataView(data).getFloat64(0, false) * 1000; // read double time stamp as big endian\n    }\n\n    /**\n     * Extracts data from the message. Creates a Blob object starting at byte 12. (after the 64 bits of the timestamp).\n     * @param {ArrayBuffer} data - the data to parse\n     * @return {Blob} the parsed data\n     */\n    parseData(data) {\n        let imgBlob = new Blob([data]);\n        // slice makes a shallow copy, we can release the blob\n        let url = window.URL.createObjectURL(imgBlob.slice(12));\n        window.URL.revokeObjectURL(imgBlob);\n        return url;\n    }\n}\n\nexport default  VideoMjpeg;\n","/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\nimport DataSource from './DataSource';\n\n/**\n * This datasource provides parsing to chart data.\n * Data has to be under the format : ISODATE,X,Y,\n * @extends DataSource\n * @example\n *let chartDataSource = new DataSourceChart(\"chart\", {\n      protocol: \"ws\",\n      service: \"SOS\",\n      endpointUrl: \"sensiasoft.net:8181/sensorhub/sos\",\n      offeringID: \"urn:mysos:offering03\",\n      observedProperty: \"http://sensorml.com/ont/swe/property/Weather\",\n      startTime: \"now\",\n      endTime: \"2055-01-01Z\",\n      syncMasterTime: false,\n      bufferingTime: 1000\n  });\n */\n\nclass Chart extends DataSource {\n\n    /**\n     * Extracts timestamp from the data. The timestamp is the first token got from split(',')\n     * @param {String} data - the data to parse\n     * @return {Number} the extracted timestamp\n     */\n    parseTimeStamp(data) {\n        let rec = String.fromCharCode.apply(null, new Uint8Array(data));\n        let tokens = rec.trim().split(\",\");\n        return new Date(tokens[0]).getTime();\n    }\n\n    /**\n     * Extract data from the message. This split over \",\".\n     * @param {Object} data - the data to parse\n     * @return {Array} the parsed data as an array of tokens\n     */\n    parseData(data) {\n        let rec = String.fromCharCode.apply(null, new Uint8Array(data));\n        let tokens = rec.trim().split(\",\");\n        //skip time\n        tokens.shift();\n        return tokens;\n    }\n}\nexport default Chart;\n","/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n/**\n @constant\n @type {number}\n @default\n */\nconst INITIAL_BUFFERING_TIME = 3000; // ms time\nconst MAX_LONG = Math.pow(2, 53) + 1;\n/**\n * This enumeration contains the whole list of available status for a job.\n * @enum\n * @readonly\n * @type {{CANCEL: string, START: string, STOP: string, NOT_START_YET: string}}\n */\nconst BUFFER_STATUS = {\n    CANCEL: 'cancel',\n    START: 'start',\n    STOP: 'stop',\n    NOT_START_YET: 'notStartYet'\n};\n\nimport {isDefined,randomUUID} from '../utils/Utils';\nimport EventManager from '../events/EventManager';\n\n/**\n * The buffer element which is in charge of synchronizing data.\n * @example\n let buffer = new Buffer({\n    replayFactor: 1\n });\n */\n\nclass Buffer {\n    /**\n     * @param {Object} options.replayFactor defines the replay speed of the buffer in order to synchronize data\n     * @param options\n     */\n    constructor(options) {\n        this.buffers = {};\n\n        this.replayFactor = 1;\n\n        // update values from options\n        if (isDefined(options)) {\n            if (isDefined(options.replayFactor)) {\n                this.replayFactor = options.replayFactor;\n            }\n        }\n\n        // define buffer letiable\n\n        // defines a status to stop the buffer after stop() calling.\n        // If start() method is called, this letiable should be set to TRUE\n        this.stop = false;\n        this.isStarted = false;\n        this.bufferingState = false;\n    }\n\n    /**\n     * Starts observing the data stream.\n     */\n    startObservers() {\n        this.observeId = randomUUID();\n        this.boundHandlerMethod = this.push.bind(this);\n        EventManager.observe(EventManager.EVENT.DATA, this.boundHandlerMethod, this.observeId);\n    }\n\n    /**\n     * Stops observing the data stream.\n     */\n    stopObservers() {\n        if (isDefined(this.observeId) || this.observeId !== null) {\n            EventManager.observe(EventManager.EVENT.DATA, this.boundHandlerMethod, this.observeId);\n            this.observeId = 'undefined';\n        }\n    }\n\n    /**\n     * Starts the buffer and starts the observers.\n     */\n    start() {\n        this.isStarted = true;\n        this.stop = false;\n        this.startObservers();\n        this.startRealTime = new Date().getTime();\n        this.processSyncData();\n    }\n\n    /**\n     * Stops the buffer and stops the observers.\n     */\n    stop() {\n        this.stopObservers();\n        this.stop = true;\n    }\n\n    /**\n     * Cancels all current running/pending jobs. This function loop over the\n     * datasources and cancel them one by one.\n     */\n    cancelAll() {\n        for (let dataSourceId in this.buffers) {\n            this.cancelDataSource(dataSourceId);\n        }\n    }\n\n    /**\n     * Cancels the dataSource. Cancels means to clear the data contained into the buffer and change the status to CANCEL\n     * @param dataSourceId The dataSource to cancel\n     */\n    cancelDataSource(dataSourceId) {\n        this.buffers[dataSourceId].buffer = [];\n        this.buffers[dataSourceId].status = BUFFER_STATUS.CANCEL;\n    }\n\n    /**\n     * Starts buffering the dataSource.\n     * @param dataSourceId the dataSource to start\n     */\n    startDataSource(dataSourceId) {\n        this.buffers[dataSourceId].status = BUFFER_STATUS.NOT_START_YET;\n        this.buffers[dataSourceId].lastRecordTime = Date.now();\n    }\n\n    /**\n     * Starts all dataSources. The method loops over all datasources and\n     * calls the {@link\n     */\n    startAll() {\n        for (let dataSourceId in this.buffers) {\n            this.startDataSource(dataSourceId);\n        }\n    }\n\n    /**\n     * Adds a new dataSource into the buffer.\n     * @param {String} dataSourceId - The id of the dataSource to add\n     * @param {Object} options -\n     * @param {Boolean} options.syncMasterTime -\n     * @param {Number} options.bufferingTime -\n     * @param {Number} options.timeOut -\n     * @param {String} options.name -\n     */\n    addDataSource(dataSourceId, options) {\n        this.buffers[dataSourceId] = {\n            buffer: [],\n            syncMasterTime: false,\n            bufferingTime: INITIAL_BUFFERING_TIME,\n            timeOut: 3000,\n            lastRecordTime: Date.now(),\n            status: BUFFER_STATUS.NOT_START_YET,\n            name: 'undefined'\n        };\n\n        if (isDefined(options)) {\n            if (isDefined(options.syncMasterTime)) {\n                this.buffers[dataSourceId].syncMasterTime = options.syncMasterTime;\n            }\n\n            if (isDefined(options.bufferingTime)) {\n                this.buffers[dataSourceId].bufferingTime = options.bufferingTime;\n            }\n\n            if (isDefined(options.timeOut)) {\n                this.buffers[dataSourceId].timeOut = options.timeOut;\n            }\n\n            if (isDefined(options.name)) {\n                this.buffers[dataSourceId].name = options.name;\n            }\n        }\n    }\n\n    /**\n     * Adds an entity which contains one or more dataSources.\n     * The dataSources are then added to the buffer using {@link addDataSource}\n     * @param {Object} entity - The entity to add\n     * @param {Object} options -\n     * @param {Boolean} options.syncMasterTime -\n     * @param {Number} options.bufferingTime -\n     * @param {Number} options.timeOut -\n     * @param {String} options.name -\n     */\n    addEntity(entity, options) {\n        // get dataSources from entity and add them to buffers\n        if (isDefined(entity.dataSources)) {\n            for (let i = 0; i < entity.dataSources.length; i++) {\n                this.addDataSource(entity.dataSources[i], options);\n            }\n        }\n    }\n\n    /**\n     * Pushes a data into the buffer. This method is used as internal method by the {@link\n     * The event contains the necessary elements to process the data.\n     * @param {Object} event - The event object received from the EventManager\n     * @param {String} event.dataSourceId - The dataSource id to process\n     * @param {Number} event.syncMasterTime - A boolean used to check if the data has to be synchronized with another data. If the value\n     * is FALSE, the data will pass through the buffer and send back immediately.\n     * @param {*} event.data -  The raw data provided by the DataSource\n     * @param {Number} event.data.timeStamp The timeStamp of the data. It will be used in case of the syncMasterTime is set to TRUE.\n     */\n    push(event) {\n        let dataSourceId = event.dataSourceId;\n\n        // append the data to the existing corresponding buffer\n        let currentBufferObj = this.buffers[dataSourceId];\n\n        // discard data if it should be synchronized by was too late\n        let sync = currentBufferObj.syncMasterTime;\n        if (sync && event.data.timeStamp < this.currentTime) {\n            return;\n        }\n\n        // also discard if streamwas canceled\n        if (currentBufferObj.status === BUFFER_STATUS.CANCEL) {\n            return;\n        }\n\n        // define the time of the first data as relative time\n        if (currentBufferObj.status === BUFFER_STATUS.NOT_START_YET) {\n            currentBufferObj.startRelativeTime = event.data.timeStamp;\n            currentBufferObj.startRelativeRealTime = new Date().getTime();\n            currentBufferObj.status = BUFFER_STATUS.START;\n        }\n\n        currentBufferObj.buffer.push(event.data);\n        currentBufferObj.lastRecordTime = Date.now();\n\n        if (!sync) {\n            this.dispatchData(dataSourceId, currentBufferObj.buffer.shift());\n        }\n\n    }\n\n    /**\n     * @private\n     */\n    processSyncData() {\n        if (!this.bufferingState) {\n\n            let minTimeStampBufferObj = null;\n            let minTimeStampDSId = null;\n            let minTimeStamp = MAX_LONG;\n\n            let that = this;\n            for (let dataSourceId in this.buffers) {\n                let currentBufferObj = this.buffers[dataSourceId];\n                if ((currentBufferObj.status === BUFFER_STATUS.START || currentBufferObj.status === BUFFER_STATUS.NOT_START_YET) && currentBufferObj.syncMasterTime) {\n                    if (currentBufferObj.buffer.length === 0) {\n                        /*if(maxBufferingTime < currentBufferObj.bufferingTime) {\n                          maxBufferingTime = currentBufferObj.bufferingTime;\n                        }*/\n                        let waitTime = currentBufferObj.timeOut - (Date.now() - currentBufferObj.lastRecordTime);\n                        if (waitTime > 0) {\n                            window.setTimeout(() =>  // to be replaced by setInterval\n                                this.processSyncData(), waitTime / 10.0);\n                            return;\n                        } else {\n                            //console.log(\"Timeout of data source \" + dataSourceId);\n                        }\n                    } else if (currentBufferObj.buffer[0].timeStamp < minTimeStamp) {\n                        minTimeStampBufferObj = currentBufferObj;\n                        minTimeStampDSId = dataSourceId;\n                        minTimeStamp = currentBufferObj.buffer[0].timeStamp;\n                    }\n                }\n            }\n\n            // re-buffer because at least one dataSource has no data and its status is START\n            /*if(maxBufferingTime > -1) {\n              this.buffering(currentBufferObj.name,maxBufferingTime);\n            } else*/\n            if (minTimeStampBufferObj !== null) {\n                this.currentTime = minTimeStamp;\n                this.processData(minTimeStampBufferObj, minTimeStampDSId, () => {\n                    that.processSyncData();\n                });\n            } else {\n                window.setTimeout(() => {\n                    that.processSyncData();\n                }, 1000);\n            }\n        }\n    }\n\n    /**\n     * @private\n     */\n    processData(bufferObj, dataSourceId, fnEndTimeout) {\n        // compute waitTime and dispatch data\n        let startRelativeTime = bufferObj.startRelativeTime;\n        let elapsedTime = new Date().getTime() - bufferObj.startRelativeRealTime;\n        let data = bufferObj.buffer.shift();\n\n        let waitTime = (((data.timeStamp - startRelativeTime) / this.replayFactor) - elapsedTime);\n        bufferObj.startRelativeTime = data.timeStamp;\n        bufferObj.startRelativeRealTime = new Date().getTime();\n\n        if (waitTime > 0) {\n            //callback the data after waiting for a time equals to the difference between the two timeStamps\n            let that = this;\n            window.setTimeout(() => {\n                //TODO: check if BUFFER TASK isw\n                that.dispatchData(dataSourceId, data);\n                if (isDefined(fnEndTimeout)) {\n                    fnEndTimeout();\n                }\n            }, waitTime);\n        } else {\n            this.dispatchData(dataSourceId, data);\n            if (isDefined(fnEndTimeout)) {\n                fnEndTimeout();\n            }\n        }\n    }\n\n    /**\n     * Dispatches the data through the EventManager. If the data to process is synchronized, it will launch a {@link CURRENT_MASTER_TIME} event\n     * with {timeStamp:xxx} as parameter. In all case, it launches a {@link\n     * @private\n     * @param dataSourceId The dataSourceId of the data. It will be used as concatenated String into the fire method.\n     * @param data The data to fire\n     */\n    dispatchData(dataSourceId, data) {\n        let bufObj = this.buffers[dataSourceId];\n        if (bufObj.status !== BUFFER_STATUS.CANCEL) {\n            if (bufObj.syncMasterTime) {\n                EventManager.fire(EventManager.EVENT.CURRENT_MASTER_TIME,\n                    {\n                        timeStamp: data.timeStamp,\n                        dataSourceId: dataSourceId\n                    });\n            }\n            EventManager.fire(EventManager.EVENT.DATA + \"-\" + dataSourceId, {data: data});\n        }\n    }\n\n    /**\n     * This method is responsible of buffering data, that is to say it will timeOut the whole process to wait after more data.\n     * @private\n     * @param name The name of the current dataSource which needs to be buffered\n     * @param bufferingTime The buffering time\n     * @memberof Buffer\n     * @instance\n     */\n    buffering(name, bufferingTime) {\n        EventManager.fire(EventManager.EVENT.LOADING_START, {name: name});\n        this.bufferingState = true;\n        let that = this;\n        window.setTimeout(() => {\n            that.bufferingState = false;\n            EventManager.fire(EventManager.EVENT.LOADING_STOP);\n            that.processSyncData();\n        }, bufferingTime);\n    }\n}\nexport default  Buffer;\n","/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\nimport {isDefined} from '../utils/Utils';\nimport EventManager from '../events/EventManager';\nimport Buffer from \"../buffer/Buffer\";\n\n/**\n * This class is responsible of handling datasources. It observes necessary events to manage datasources.\n * @listens {@link CONNECT_DATASOURCE}\n * @listens {@link DISCONNECT_DATASOURCE}\n * @listens {@link DATASOURCE_UPDATE_TIME}\n * @example\n *\n * let datasource = new <>\n *\n * // creates controller\n * let dataProviderController = new DataReceiverController({\n *   replayFactor : replayFactor\n * });\n *\n * // adds datasource to controller\n * dataProviderController.addDataSource(weatherDataSource);\n *\n * // and/or adds entity to controller\n * let entity = {\n *       id : \"entity-\"+randomUUID(),\n *       name: \"Some entity\",\n *       dataSources: [datasource]\n * };\n *\n * dataProviderController.addEntity(entity);\n *\n */\nclass DataReceiverController {\n    /**\n     * Creates the DataReceiverController\n     * @param {Object} options -\n     */\n    constructor(options) {\n        this.options = options;\n        this.initBuffer();\n        this.dataSourcesIdToDataSources = {};\n\n        /*\n        * @event {@link CONNECT_DATASOURCE}\n        * @type {Object}\n        * @property {Object} event - Is notified when a dataSource has to be connected\n        * @property {Object} event.dataSourcesId - The datasource id\n        */\n        // observe CONNECT event and connect dataSources consequently\n\n        let that = this;\n        EventManager.observe(EventManager.EVENT.CONNECT_DATASOURCE, (event) => {\n            if(!that.buffer.isStarted) {\n                that.buffer.start();\n            }\n            let eventDataSourcesIds = event.dataSourcesId;\n            for (let i = 0; i < eventDataSourcesIds.length; i++) {\n                let id = eventDataSourcesIds[i];\n                if (id in that.dataSourcesIdToDataSources) {\n                    // if sync to master to time, request data starting at current time\n                    if (that.dataSourcesIdToDataSources[id].syncMasterTime && isDefined(that.buffer.currentTime)) {\n                        that.updateDataSourceTime(id, new Date(that.buffer.currentTime).toISOString());\n                    }\n                    that.dataSourcesIdToDataSources[id].connect();\n                    that.buffer.startDataSource(id);\n                }\n            }\n        });\n\n        /*\n         * @event {@link DISCONNECT_DATASOURCE}\n         * @type {Object}\n         * @property {Object} event - Is notified when a dataSource has to be disconnected\n         * @property {Object} event.dataSourcesId - The datasource id\n         */\n        // observe DISCONNECT event and disconnect dataSources consequently\n        EventManager.observe(EventManager.EVENT.DISCONNECT_DATASOURCE, (event) => {\n            let eventDataSourcesIds = event.dataSourcesId;\n            for (let i = 0; i < eventDataSourcesIds.length; i++) {\n                let id = eventDataSourcesIds[i];\n                if (id in that.dataSourcesIdToDataSources) {\n                    that.dataSourcesIdToDataSources[id].disconnect();\n                    that.buffer.cancelDataSource(id);\n                }\n            }\n        });\n\n\n        /*\n         * @event {@link DATASOURCE_UPDATE_TIME}\n         * @type {Object}\n         * @property {Object} event - Is notified when the datasource has to be updated\n         * @property {Object} event.startTime - The corresponding new start time\n         * @property {Object} event.endTime - The corresponding new end time\n         */\n        EventManager.observe(EventManager.EVENT.DATASOURCE_UPDATE_TIME, (event) => {\n\n            let dataSourcesToReconnect = [];\n\n            // disconnect all synchronized datasources\n            for (let id in that.dataSourcesIdToDataSources) {\n                let dataSrc = that.dataSourcesIdToDataSources[id];\n                if (dataSrc.syncMasterTime && dataSrc.connected) {\n                    dataSrc.disconnect();\n                    that.buffer.cancelDataSource(id);\n                    dataSourcesToReconnect.push(id);\n                }\n            }\n\n            // reset buffer current time\n            that.buffer.currentTime = Date.parse(event.startTime);\n\n            // reconnect all synchronized datasources with new time parameters\n            for (let i = 0; i < dataSourcesToReconnect.length; i++) {\n                let id = dataSourcesToReconnect[i];\n                let dataSrc = this.dataSourcesIdToDataSources[id];\n                that.updateDataSourceTime(id, event.startTime, event.endTime);\n                dataSrc.connect();\n                that.buffer.startDataSource(id);\n            }\n\n        });\n    }\n\n    /**\n     * Updates the datasource time range.\n     * @param {String} id - the datasource id\n     * @param {Number} startTime - the start time\n     * @param {Number} endTime - the end time\n     */\n    updateDataSourceTime(id, startTime, endTime) {\n        // get current parameters\n        let dataSource = this.dataSourcesIdToDataSources[id];\n        let props = dataSource.properties;\n        let options = dataSource.options;\n\n        // update start/end time\n        if (isDefined(startTime)) {\n            props.startTime = startTime;\n        }\n\n        if (isDefined(endTime)) {\n            props.endTime = endTime;\n        }\n\n        // reset parameters\n        dataSource.initDataSource(props, options);\n    }\n\n    /**\n     * Instantiates a new Buffer}\n     * @private\n     */\n    initBuffer() {\n        this.buffer = new Buffer(this.options);\n    }\n\n    /**\n     * Adds an entity to the current list of datasources and pushes it into the buffer.\n     * @see {@link Buffer}\n     * @param {Object} entity - the datasource to add\n     * @param options @deprecated\n     */\n    addEntity(entity, options) {\n        if (isDefined(entity.dataSources)) {\n            for (let i = 0; i < entity.dataSources.length; i++) {\n                this.addDataSource(entity.dataSources[i], options);\n            }\n        }\n    }\n\n    /**\n     * Adds a dataSource to the current list of datasources and pushes it into the buffer.\n     * @see {@link Buffer}\n     * @param {Object} dataSource - the datasource to add\n     * @param options @deprecated\n     */\n    addDataSource(dataSource, options) {\n        this.dataSourcesIdToDataSources[dataSource.id] = dataSource;\n        this.buffer.addDataSource(dataSource.id, {\n            name: dataSource.name,\n            syncMasterTime: dataSource.syncMasterTime,\n            bufferingTime: dataSource.bufferingTime,\n            timeOut: dataSource.timeOut\n        });\n\n        //TODO: make frozen letiables?\n        var that = this;\n        dataSource.onData = (data) => that.buffer.push({dataSourceId: dataSource.getId(), data: data});\n    }\n\n    /**\n     * Connects each dataSources\n     */\n    connectAll() {\n        this.buffer.start();\n        for (let id in this.dataSourcesIdToDataSources) {\n            let ds = this.dataSourcesIdToDataSources[id];\n            if (ds.properties.connect) {\n                ds.connect();\n            }\n        }\n    }\n\n    /**\n     * Connects a specific dataSource\n     * @param {String} dataSourceId - the id of the dataSource to connect\n     */\n    connect(dataSourceId) {\n        if(!this.buffer.isStarted) {\n            this.buffer.start();\n        }\n        for (let id in this.dataSourcesIdToDataSources) {\n            let ds = this.dataSourcesIdToDataSources[id];\n            if (ds.id === dataSourceId) {\n                ds.connect();\n            }\n        }\n    }\n\n    /**\n     * Disconnects a specific dataSource\n     * @param {String} dataSourceId - the id of the dataSource to disconnect\n     */\n    disconnect(dataSourceId) {\n        for (let id in this.dataSourcesIdToDataSources) {\n            let ds = this.dataSourcesIdToDataSources[id];\n            if (ds.id === dataSourceId) {\n                ds.disconnect();\n            }\n        }\n    }\n}\n\nexport default DataReceiverController;\n","<template>\n  <v-app id=\"inspire\"\n         dark\n  >\n    <v-navigation-drawer\n            v-model=\"left\"\n            app\n            width=\"220\"\n            clipped\n            dark\n    >\n      <v-container>\n        <v-treeview\n                v-model=\"selection\"\n                :items=\"items\"\n                :selection-type=\"selectionType\"\n                selected-color=\"#ef7245\"\n                selectable\n                item-disabled=\"locked\"\n                dark\n                return-object\n                open-all\n                @input=\"onSelect\"\n        ></v-treeview>\n        <v-spacer style=\"height: 15px;\"></v-spacer>\n        <v-divider\n                class=\"mx-4\"\n                dark\n        ></v-divider>\n        <v-spacer style=\"height: 15px;\"></v-spacer>\n\n        <template v-if=\"!selection.length\">\n          No nodes selected.\n        </template>\n        <template v-else>\n          <div v-for=\"node in selection\"\n               :key=\"node.id\">\n            {{ node.name }}\n          </div>\n        </template>\n      </v-container>\n    </v-navigation-drawer>\n    <v-app-bar app clipped-left dense dark>\n      <v-app-bar-nav-icon @click.stop=\"left = !left\"/>\n      <v-spacer></v-spacer>\n      <v-app-bar-nav-icon @click.stop=\"right = !right\"/>\n    </v-app-bar>\n\n    <v-content app>\n      <div style=\"display: flex; flex-flow: column wrap;align-items: stretch;height:100%\">\n        <Map :location-data-source=\"locationDataSource\"\n             :heading-data-source=\"headingDataSource\"\n             style=\"flex-grow:1\"></Map>\n        <time-line\n                 class=\"range\"></time-line>\n      </div>\n    </v-content>\n    <v-navigation-drawer\n            v-model=\"right\"\n            app\n            right\n            dark\n            width=\"340\"\n    >\n      <v-container>\n        <v-row dense>\n          <v-col cols=\"25\">\n            <v-container v-for=\"item in selection\" :key=\"item.dataSource.id\">\n              <chart-v-card v-if=\"item.type == 'chart-vcard'\"\n                            :data-source=\"item.dataSource\"\n              ></chart-v-card>\n              <mjpeg-video-v-card v-if=\"item.type == 'mjpeg-vcard'\"\n                                  :data-source=\"item.dataSource\"\n              ></mjpeg-video-v-card>\n            </v-container>\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-navigation-drawer>\n    <v-footer app>\n      <span>\n        <img\n                src=\"images/logo.png\"\n                style=\"height:30px;\">\n      </span>\n      <span>OpenSensorHub &copy; 2020</span>\n    </v-footer>\n  </v-app>\n</template>\n<script>\n  // @ is an alias to /src\n  import Map from './components/Map';\n  import TimeLine from './components/TimeLine';\n  import ChartVCard from \"./components/vcards/ChartVCard\";\n  import MjpegVideoVCard from \"./components/vcards/MjpegVideoVCard\";\n  import Json from \"osh/datareceiver/Json\";\n  import VideoMjpeg from \"osh/datareceiver/VideoMjpeg\";\n  import Chart from \"osh/datareceiver/Chart\";\n  import {randomUUID} from \"osh/utils/Utils\";\n  import DataReceiverController from \"osh/datareceiver/DataReceiverController\";\n  import EventManager from \"osh/events/EventManager\";\n\n  export default {\n    components: {\n      Map,\n      MjpegVideoVCard,\n      ChartVCard,\n      TimeLine\n    },\n    data: function () {\n      return {\n        mini: true,\n        left: null,\n        right: null,\n        selectionType: 'leaf',\n        selection: [],\n        selectionIds: [],\n        dataSources: {},\n        items: [],\n        locationDataSource: new Json(\"android-GPS\", {\n          protocol: \"ws\",\n          service: \"SOS\",\n          endpointUrl: \"sensiasoft.net:8181/sensorhub/sos\",\n          offeringID: \"urn:android:device:060693280a28e015-sos\",\n          observedProperty: \"http://sensorml.com/ont/swe/property/Location\",\n          startTime: \"2015-02-16T07:58:32Z\",\n          endTime: \"2015-02-16T08:09:00Z\",\n          syncMasterTime: true,\n          bufferingTime: 0,\n          timeShift: -16000,\n          replaySpeed: 2\n        }),\n        headingDataSource: new Json(\"android-Att\", {\n          protocol: \"ws\",\n          service: \"SOS\",\n          endpointUrl: \"sensiasoft.net:8181/sensorhub/sos\",\n          offeringID: \"urn:android:device:060693280a28e015-sos\",\n          observedProperty: \"http://sensorml.com/ont/swe/property/OrientationQuaternion\",\n          startTime: \"2015-02-16T07:58:35Z\",\n          endTime: \"2015-02-16T08:09:00Z\",\n          syncMasterTime: true,\n          bufferingTime: 0,\n          replaySpeed: 2\n        }),\n        videoDataSource: new VideoMjpeg(\"android-Video\", {\n          protocol: \"ws\",\n          service: \"SOS\",\n          endpointUrl: \"sensiasoft.net:8181/sensorhub/sos\",\n          offeringID: \"urn:android:device:060693280a28e015-sos\",\n          observedProperty: \"http://sensorml.com/ont/swe/property/VideoFrame\",\n          startTime: \"2015-02-16T07:58:35Z\",\n          endTime: \"2015-02-16T08:09:00Z\",\n          syncMasterTime: true,\n          bufferingTime: 0,\n          replaySpeed: 2\n        }),\n        weatherDataSource: new Chart(\"weather\", {\n          protocol: \"ws\",\n          service: \"SOS\",\n          endpointUrl: \"sensiasoft.net:8181/sensorhub/sos\",\n          offeringID: \"urn:mysos:offering03\",\n          observedProperty: \"http://sensorml.com/ont/swe/property/Weather\",\n          startTime: \"now\",\n          endTime: \"2055-01-01Z\",\n          syncMasterTime: false,\n          bufferingTime: 0\n        }),\n        dataProviderController: new DataReceiverController({\n          replayFactor: 2\n        })\n      }\n    },\n    computed: {},\n    mounted() {\n      this.items.push({\n        id: 1,\n        name: 'Android Phone',\n        locked: false,\n        children: [\n          {id: 2, name: 'GPS', dataSource: this.locationDataSource, type: 'center', locked: true},\n          {id: 3, name: 'Video', type: 'mjpeg-vcard', dataSource: this.videoDataSource, locked: true},\n          {id: 4, name: 'Heading', dataSource: this.headingDataSource, type: 'center', locked: true},\n        ],\n      });\n      this.items.push({id: 5, name: 'Weather', type: 'chart-vcard', dataSource: this.weatherDataSource, locked: false});\n\n      this.dataSources['2'] = this.locationDataSource;\n      this.dataSources['3'] = this.videoDataSource;\n      this.dataSources['4'] = this.headingDataSource;\n      this.dataSources['5'] = this.weatherDataSource;\n\n      let androidEntity = {\n        id: \"entity-\" + randomUUID(),\n        name: \"Android Phone\",\n        dataSources: [this.locationDataSource, this.videoDataSource, this.headingDataSource]\n      };\n\n      // We can add a group of dataSources and set the options\n      this.dataProviderController.addEntity(androidEntity);\n      this.dataProviderController.addDataSource(this.weatherDataSource, {});\n    },\n    methods: {\n      onSelect(nodes) {\n        let bIds = [];\n        if (Array.isArray(nodes)) {\n          for (let i = 0; i < nodes.length; i++) {\n            bIds.push(nodes[i].dataSource.id);\n          }\n        } else {\n          bIds.push(nodes.dataSource.id);\n        }\n\n        EventManager.fire(EventManager.EVENT.CONNECT_DATASOURCE, {\n          dataSourcesId: bIds.filter(x => !this.selectionIds.includes(x))\n        });\n\n        EventManager.fire(EventManager.EVENT.DISCONNECT_DATASOURCE, {\n          dataSourcesId: this.selectionIds.filter(x => !bIds.includes(x))\n        });\n\n        this.selectionIds = bIds;\n      }\n    },\n    created() {\n      this.$vuetify.theme.dark = true\n    }\n  };\n</script>\n<style>\n  .theme--light.v-divider {\n    border-color: rgba(0, 0, 0, 0.12) !important;\n  }\n\n  body {\n    overflow: hidden;\n    margin: 0;\n  }\n\n  html {\n    overflow: hidden !important;\n  }\n\n  .v-content {\n    background-color: #363636;\n  }\n\n  .v-application .headline, .v-application .title {\n    line-height: 1px;\n    font-family: Roboto,sans-serif!important;\n    border-bottom: solid 1px #69696982;\n  }\n\n  .v-application .headline {\n    font-size: 1.0rem!important;\n    font-weight: 400;\n    letter-spacing: normal!important;\n  }\n\n</style>\n\n<style scoped>\n  .range {\n    flex-shrink: 1;\n    padding-bottom: 15px;\n  }\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=50dd4341&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./App.vue?vue&type=style&index=1&id=50dd4341&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50dd4341\",\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport Vuetify from 'vuetify'\nimport 'vuetify/dist/vuetify.min.css'\n\nVue.use(Vuetify);\n\nVue.config.productionTip = false;\nnew Vue({\n  vuetify: new Vuetify({\n    theme: { dark: true },\n  }),\n  data: () => ({\n    drawer: null,\n    drawerRight: null,\n    right: false,\n    left: false,\n  }),\n  render: h => h(App)\n}).$mount(\"#app\");\n\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MjpegVideoVCard.vue?vue&type=style&index=0&id=43253d1c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MjpegVideoVCard.vue?vue&type=style&index=0&id=43253d1c&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeLine.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeLine.vue?vue&type=style&index=1&lang=css&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&id=50dd4341&scoped=true&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&id=50dd4341&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeLine.vue?vue&type=style&index=0&id=c509dbcc&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeLine.vue?vue&type=style&index=0&id=c509dbcc&scoped=true&lang=css&\""],"sourceRoot":""}