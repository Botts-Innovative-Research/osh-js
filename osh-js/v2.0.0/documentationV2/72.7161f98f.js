(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{137:function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"h",(function(){return h}));Math.pow(2,53);function i(e){return null!=e}function a(e){return i(e)&&null!==e}function r(e,t){if(void 0===t&&(t="letiable"),!i(e))throw t+" must be defined";return e}function o(e,t,n){if(void 0===n&&(n="letiable"),r(e,n),typeof e!==t)throw n+" must be of type "+t;return e}function s(e,t){return o(e,"string",t)}function c(e,t){if(function(e,t){o(e,"number",t)}(e,t),e<=0)throw t+" must be a positive number"}function l(e,t){return o(e,"object",t)}function u(e,t){if(void 0===t&&(t="letiable"),r(e,t),!Array.isArray(e))throw t+" must be an array";return e}function d(e,t){return o(e,"function",t)}function h(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},150:function(e,t,n){"use strict";var i=n(238),a=n(137),r=new(function(){function e(){this.eventMap={}}var t=e.prototype;return t.remove=function(e,t){e in this.eventMap&&(this.eventMap[e]=this.eventMap[e].filter((function(e){return e.id!==t})))},t.removeById=function(e){for(var t in this.eventMap)this.eventMap[t]=this.eventMap[t].filter((function(t){return t.id!==e}))},t.observe=function(e,t,n){void 0===n&&(n="any"),Object(a.g)(e)&&Object(a.g)(t)&&Object(a.g)(n)&&(e in this.eventMap||(this.eventMap[e]=[]),this.eventMap[e].push({fn:t,id:n}))},t.fire=function(e,t){if(Object(a.g)(e)&&e in this.eventMap)for(var n=this.eventMap[e],i=0;i<n.length;i++)n[i].fn(t)},e}()),o=function(){function e(){}return e.remove=function(e,t){void 0===t&&(t="any"),r.remove("osh:"+e,t)},e.removeById=function(e){void 0===e&&(e="any"),r.removeById(e)},e.registerView=function(e){e.registerCallback()},e.unregisterView=function(e){e.unregisterCallback()},e.fire=function(e,t){t.name=e,r.fire("osh:"+e,t)},e.observe=function(e,t,n){void 0===n&&(n="any"),r.observe("osh:"+e,t,n)},e.observeDiv=function(e,t,n){document.getElementById(e).addEventListener(t,n)},Object(i.a)(e,null,[{key:"EVENT",get:function(){return{SELECT_VIEW:"selectView",SHOW_VIEW:"showView",UAV_TAKEOFF:"uav:takeoff",UAV_GOTO:"uav:goto",UAV_LOOKAT:"uav:lookat",UAV_LAND:"uav:land",UAV_ORBIT:"uav:orbit",LOADING_START:"loading:start",LOADING_STOP:"loading:stop",ADD_VIEW_ITEM:"addViewItem",RESIZE:"resize",PTZ_SEND_REQUEST:"ptzSendRequest"}}}]),e}();t.a=o},157:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var i="data-synchronizer-",a="datasource-data-"},184:function(e,t,n){e.exports=function(){return new Worker(n.p+"80a548c2c2e2e933c21e.worker.js")}},190:function(e,t,n){"use strict";var i=n(244),a=n(137),r=n(150),o=(n(47),n(157)),s="disconnected",c="data",l="status",u=function(){function e(e,t,n){this.stylers=[],this.viewItems=[],this.names={},this.stylerToObj={},this.stylerIdToStyler={},this.lastRec={},this.selectedDataSources=[],this.dataSources=[],this.viewItemsBroadcastChannels={},this.entity=null,this.id="view-"+Object(a.h)(),this.entity=null,this.dataSourceId=-1,Object(a.g)(n)&&Object(a.g)(n.dataSourceId)&&(this.dataSourceId=n.dataSourceId),Object(a.g)(n)&&Object(a.g)(n.entity)&&(this.entity=n.entity),this.css="",this.cssSelected="",Object(a.g)(n)&&Object(a.g)(n.css)&&(this.css=n.css),Object(a.g)(n)&&Object(a.g)(n.cssSelected)&&(this.cssSelected=n.cssSelected),this.init(e,t,n)}var t=e.prototype;return t.init=function(e,t,n){this.elementDiv=document.createElement("div"),this.elementDiv.setAttribute("id",this.id),this.elementDiv.setAttribute("class",this.css+" osh-view"),this.divId=this.id;var i=document.getElementById(e);if(Object(a.g)(i)&&null!==i?(i.appendChild(this.elementDiv),this.container=i):(document.body.appendChild(this.elementDiv),this.hide(),this.container=document.body),this.beforeAddingItems(n),Object(a.g)(t))for(var r=0;r<t.length;r++)this.addViewItem(t[r]);Object(a.g)(n)&&Object(a.g)(n.show)&&(document.getElementById(this.divId).style.display=n.show?"block":"none"),this.handleEvents();var o=this;this.registerCallback(),new MutationObserver((function(e){e.forEach((function(e){"style"===e.attributeName&&o.onResize()}))})).observe(this.elementDiv,{attributes:!0}),new MutationObserver((function(e){Object(a.g)(document.getElementById(o.divId))||(this.disconnect(),o.destroy())})).observe(document.body,{childList:!0})},t.registerCallback=function(){if(Object(a.g)(this.dataSourceId)||Object(a.g)(this.entity)){var e=this;function t(t){new BroadcastChannel(o.a+t).onmessage=function(n){n.data.message&&"reset"===n.data.message?e.reset():n.data.type===c?e.setData(t,n.data.values):n.data.type===l&&n.data.status===s&&e.reset()}}if(null!==this.entity)for(var n,r=Object(i.a)(this.entity.getDataSources());!(n=r()).done;){t(n.value.id)}else t(this.dataSourceId)}},t.unregisterCallback=function(){r.a.removeById(this.divId)},t.hide=function(){this.elementDiv.style.display="none"},t.onResize=function(){},t.attachTo=function(e){Object(a.g)(this.elementDiv.parentNode)&&this.elementDiv.parentNode.removeChild(this.elementDiv),document.getElementById(e).appendChild(this.elementDiv),"none"===this.elementDiv.style.display&&(this.elementDiv.style.display="block"),this.onResize()},t.beforeAddingItems=function(e){},t.getId=function(){return this.id},t.getDivId=function(){return this.divId},t.setData=function(e,t){},t.show=function(e){},t.destroy=function(){this.unregisterCallback()},t.addViewItem=function(e){var t=this;this.viewItems.push(e),e.hasOwnProperty("styler")&&function(){var n=e.styler;t.stylers.push(n),e.hasOwnProperty("name")&&(t.names[n.getId()]=e.name),n.viewItem=e,n.init(t),t.stylerIdToStyler[n.id]=n;for(var i=n.getDataSourcesIds(),u=function(u){var d=i[u],h=t,f=new BroadcastChannel(o.a+d);t.viewItemsBroadcastChannels[d]=f,f.onmessage=function(t){if(t.data.type!==l||t.data.status!==s){var i=!1;i=Object(a.g)(h.selectedEntity)?e.entityId===h.selectedEntity:h.selectedDataSources.indexOf(d)>-1,t.data.type===c&&(n.setData(d,t.data,h,{selected:i}),h.lastRec[d]=t.data)}},r.a.observe(r.a.EVENT.SELECT_VIEW,(function(t){var i=!1;i=Object(a.g)(t.entityId)?e.entityId===t.entityId:t.dataSourcesIds.indexOf(d)>-1,d in h.lastRec&&n.setData(d,h.lastRec[d],h,{selected:i})}),t.divId)},d=0;d<i.length;d++)u(d)}()},t.removeViewItem=function(e){if(this.viewItems.includes(e)){for(var t in e.styler.dataSourceToStylerMap)this.viewItemsBroadcastChannels[t].close(),delete this.viewItemsBroadcastChannels[t],delete this.lastRec[t];this.viewItems=this.viewItems.filter((function(t){return t!==e}))}delete this.stylerIdToStyler[e.styler.id],this.stylers=this.stylers.filter((function(t){return t.id!==e.styler.id})),delete this.names[e.styler.id],delete this.stylerToObj[e.styler.id]},t.removeViewItems=function(){for(var e,t=Object(i.a)(this.viewItems);!(e=t()).done;){var n=e.value;this.removeViewItem(n)}},t.handleEvents=function(){var e=this;r.a.observe(r.a.EVENT.SELECT_VIEW,(function(t){return e.selectDataView(t.dataSourcesIds,t.entityId)}),this.divId),r.a.observe(r.a.EVENT.SHOW_VIEW,(function(t){return e.show(t)}),this.divId),r.a.observe(r.a.EVENT.ADD_VIEW_ITEM,(function(t){Object(a.g)(t.viewId)&&t.viewId===e.id&&e.addViewItem(t.viewItem)}),this.divId),r.a.observe(r.a.EVENT.RESIZE+"-"+this.divId,(function(t){return e.onResize()}),this.divId)},t.selectDataView=function(e,t){if(Object(a.g)(this.dataSources)){this.selectedDataSources=e,this.selectedEntity=t;for(var n=0;n<this.dataSources.length;n++)this.setData(this.dataSources[n],this.lastRec[this.dataSources[n]])}},t.getDataSourcesId=function(){var e=[];-1!==this.dataSourceId&&e.push(this.dataSourceId);for(var t=0;t<this.viewItems.length;t++){var n=this.viewItems[t];if(n.hasOwnProperty("styler")){var i=n.styler;e=e.concat(i.getDataSourcesIds())}}return e},t.reset=function(){},e}();t.a=u},191:function(e,t,n){"use strict";var i=n(3),a=n(235),r=n.n(a),o=n(236),s=n(137),c=n(157),l=function(){function e(e,t,n){this.id="DataSource-"+Object(s.h)(),this.name=e,this.properties=Object.assign({fetch:1},t),this.dataSourceWorker=n,this.dataSynchronizer=null,this.currentRunningProperties={},this.initDataSource(t)}var t=e.prototype;return t.initDataSource=function(e){this.dataSourceWorker.postMessage({message:"init",id:this.id,properties:JSON.stringify(e),topic:c.a+this.id})},t.setDataSynchronizer=function(e){this.dataSynchronizer=e,this.dataSourceWorker.postMessage({message:"topic",topic:c.b+this.dataSynchronizer.id})},t.setTimeRange=function(e,t,n){this.updateUrl(Object.assign({},this.currentRunningProperties,{startTime:e,endTime:t,replaySpeed:n}))},t.getStartTime=function(){return this.properties.startTime},t.getEndTime=function(){return this.properties.endTime},t.getReplaySpeed=function(){return Object(s.g)(this.properties.replaySpeed)?this.properties.replaySpeed:1},t.disconnect=function(){this.dataSourceWorker.postMessage({message:"disconnect"})},t.connect=function(){this.dataSourceWorker.postMessage({message:"connect"})},t.isConnected=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Promise((function(e){null!==n.dataSourceWorker&&(n.dataSourceWorker.onmessage=function(t){"is-connected"===t.data.message&&e(t.data.data)})})),null!==this.dataSourceWorker&&this.dataSourceWorker.postMessage({message:"is-connected"}),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.getCurrentTime=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(s.g)(this.dataSynchronizer)){e.next=4;break}return e.abrupt("return",this.dataSynchronizer.getCurrentTime());case 4:return t=new Promise((function(e){null!==n.dataSourceWorker&&(n.dataSourceWorker.onmessage=function(t){"last-timestamp"===t.data.message&&e(t.data.data)})})),null!==this.dataSourceWorker&&this.dataSourceWorker.postMessage({message:"last-timestamp"}),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.getId=function(){return this.id},t.getName=function(){return this.name},t.updateUrl=function(e){this.currentRunningProperties=Object.assign({},this.properties,e),null!==this.dataSourceWorker&&this.dataSourceWorker.postMessage({message:"update-url",data:e})},t.getCurrentRunningProperties=function(){return this.currentRunningProperties},t.terminate=function(){null!==this.dataSourceWorker&&this.dataSourceWorker.terminate()},e}(),u=n(184),d=n.n(u),h=function(e){function t(t,n){return e.call(this,t,Object.assign({timeShift:0,reconnectTimeout:5e3},n),new d.a)||this}return Object(i.a)(t,e),t}(l);t.a=h},192:function(e,t,n){"use strict";var i=n(237),a=n(3),r=n(137),o=n(150),s=function(e){function t(t){var n;(n=e.call(this,t)||this).properties=t,n.location=null,n.orientation={heading:0},n.icon=null,n.iconAnchor=[16,16],n.iconSize=[16,16],n.label=null,n.labelColor="#000000",n.labelSize=16,n.labelOffset=[0,0],n.zoomLevel=15,n.color=null,n.defaultToTerrainElevation=!1,n.options={},Object(r.g)(t.defaultToTerrainElevation)&&(n.defaultToTerrainElevation=t.defaultToTerrainElevation),Object(r.f)(t.location)&&(Object(r.c)(t.location,"location"),n.location=t.location),Object(r.f)(t.orientation)&&(Object(r.c)(t.orientation,"orientation"),n.orientation=t.orientation),Object(r.f)(t.icon)&&(Object(r.e)(t.icon,"icon"),n.icon=t.icon),Object(r.f)(t.iconAnchor)&&(Object(r.a)(t.iconAnchor,"iconAnchor"),n.iconAnchor=t.iconAnchor),Object(r.f)(t.iconSize)&&(Object(r.a)(t.iconSize,"iconSize"),n.iconSize=t.iconSize),Object(r.f)(t.label)&&(Object(r.e)(t.label,"label"),n.label=t.label),Object(r.f)(t.labelColor)&&(Object(r.e)(t.labelColor,"labelColor"),n.labelColor=t.labelColor),Object(r.f)(t.labelSize)&&(Object(r.d)(t.labelSize,"labelSize"),n.labelSize=t.labelSize),Object(r.f)(t.labelOffset)&&(Object(r.a)(t.labelOffset,"labelOffset"),n.labelOffset=t.labelOffset),Object(r.f)(t.zoomLevel)&&(Object(r.d)(t.zoomLevel,"zoomLevel"),n.zoomLevel=t.zoomLevel);var a=Object(i.a)(n);if(n.checkFn("locationFunc")){n.addFn(t.locationFunc.dataSourceIds,(function(e,n,i){a.location=t.locationFunc.handler(e,n,i)}))}if(n.checkFn("orientationFunc")){n.addFn(t.orientationFunc.dataSourceIds,(function(e,n,i){a.orientation=t.orientationFunc.handler(e,n,i)}))}if(n.checkFn("iconFunc")){n.addFn(t.iconFunc.dataSourceIds,(function(e,n,i){a.icon=t.iconFunc.handler(e,n,i)}))}if(n.checkFn("labelFunc")){n.addFn(t.labelFunc.dataSourceIds,(function(e,n,i){a.label=t.labelFunc.handler(e,n,i)}))}if(n.checkFn("labelColorFunc")){n.addFn(t.labelColorFunc.dataSourceIds,(function(e,n,i){a.labelColor=t.labelColorFunc.handler(e,n,i)}))}if(n.checkFn("labelSizeFunc")){n.addFn(t.labelSizeFunc.dataSourceIds,(function(e,n,i){a.labelSize=t.labelSizeFunc.handler(e,n,i)}))}return n}Object(a.a)(t,e);var n=t.prototype;return n.init=function(t){e.prototype.init.call(this,t),Object(r.g)(t)&&null!==this.location&&t.updateMarker(this,0,{})},n.setData=function(t,n,i,a){return!(!e.prototype.setData.call(this,t,n,i,a)||!Object(r.g)(i)||null===this.location)&&(i.updateMarker(this,n.timeStamp,a),!0)},t}(function(){function e(e){this.properties=e,this.id="styler-"+Object(r.h)(),this.dataSourceToStylerMap={},this.initEvents()}var t=e.prototype;return t.checkFn=function(e){var t=this.properties[e],n=Object(r.f)(t);return n&&(Object(r.a)(t.dataSourceIds,e+".dataSourceIds"),Object(r.b)(t.handler,e+".handler")),n},t.initEvents=function(){var e=this;o.a.observe(o.a.EVENT.DATASOURCE_UPDATE_TIME,(function(t){return e.clear()}))},t.clear=function(){},t.getId=function(){return this.id},t.select=function(e){},t.addFn=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];Object(r.g)(this.dataSourceToStylerMap[i])||(this.dataSourceToStylerMap[i]=[]),this.dataSourceToStylerMap[i].push(t)}},t.setData=function(e,t,n,i){if(e in this.dataSourceToStylerMap){for(var a=this.dataSourceToStylerMap[e],r=0;r<a.length;r++)for(var o=0;o<t.values.length;o++)a[r](t.values[o].data,t.values[o].timeStamp,i);return!0}return!1},t.getDataSourcesIds=function(){var e=[];for(var t in this.dataSourceToStylerMap)e.push(t);return e},t.init=function(){},e}());t.a=s},310:function(e,t,n){"use strict";var i=n(3),a=n(190),r=n(137),o=n(150),s=(n(56),n(459)),c=n(464),l=n(386),u=n(455),d=n(159),h=n(326),f=n(372),m=n(270),v=n(371),p=n(373),b=n(385),y=n(382),S=n(317),g=n(377),O=n(358),I=n(465),w=n(291),j=n(383),E=n(269),T=n(356),k=n.n(T),x=(n(57),function(e){function t(t,n,i){return e.call(this,t,n,i)||this}Object(i.a)(t,e);var n=t.prototype;return n.beforeAddingItems=function(e){this.initMap(e)},n.updateMarker=function(e){var t=0;e.getId()in this.stylerToObj?t=this.stylerToObj[e.getId()]:(t=this.addMarker({lat:e.location.y,lon:e.location.x,orientation:e.orientation.heading,color:e.color,icon:e.icon,anchor:e.iconAnchor,name:this.names[e.getId()]}),this.stylerToObj[e.getId()]=t);var n=this.markers[t],i=e.location.x,a=e.location.y;if(!isNaN(i)&&!isNaN(a)){var r=Object(d.m)([i,a],"EPSG:4326","EPSG:900913");n.getGeometry().setCoordinates(r)}if(null!==e.icon){var o=new O.c({image:new I.a({opacity:.75,anchor:e.iconAnchor,anchorYUnits:"pixels",anchorXUnits:"pixels",src:e.icon,rotation:e.orientation.heading*Math.PI/180})});n.setStyle(o)}},n.updatePolyline=function(e){var t=0;if(e.getId()in this.stylerToObj?t=this.stylerToObj[e.getId()]:(t=this.addPolyline({color:e.color,weight:e.weight,locations:e.locations,maxPoints:e.maxPoints,opacity:e.opacity,smoothFactor:e.smoothFactor,name:this.names[e.getId()]}),this.stylerToObj[e.getId()]=t),t in this.polylines){for(var n=this.polylines[t],i=[],a=0;a<e.locations.length;a++)i.push(Object(d.m)([e.locations[a].x,e.locations[a].y],"EPSG:4326","EPSG:900913"));n.setCoordinates(i)}},n.initMap=function(e){this.map=null;var t=null;this.first=!0;var n=[];this.markers={},this.polylines={};var i=this.getDefaultLayers(),a=19;if(Object(r.g)(e)){if(e.map)return void(this.map=e.map);e.maxZoom&&(a=e.maxZoom),e.initialView&&(t=new s.a({center:Object(d.m)([e.initialView.lon,e.initialView.lat],"EPSG:4326","EPSG:900913"),zoom:e.initialView.zoom,maxZoom:a})),e.autoZoomOnFirstMarker||(this.first=!1),e.overlayLayers&&(n=e.overlayLayers),e.baseLayers&&(i=e.baseLayers)}null===t&&(t=new s.a({center:Object(d.m)([0,0],"EPSG:4326","EPSG:900913"),zoom:5,maxZoom:a})),this.map=new c.a({target:this.divId,controls:Object(m.a)().extend([new v.a]),interactions:Object(h.a)({mouseWheelZoom:!1}).extend([new f.a,new E.a({constrainResolution:!0,duration:200})]),layers:[new u.a({title:"Base maps",layers:i}),new u.a({title:"Overlays",layers:n})],view:t});var l=new k.a({tipLabel:"Legend",groupSelectStyle:"children"});this.map.addControl(l),this.map.addControl(new p.a);var S=new w.a,g=this;S.getFeatures().on("add",(function(e){var t=e.element,n=[];for(var i in g.stylerToObj)if(g.stylerToObj[i]===t.getId()){var a=g.stylerIdToStyler[i];o.a.fire(o.a.EVENT.SELECT_VIEW,{dataSourcesIds:n.concat(a.getDataSourcesIds()),entityId:a.viewItem.entityId});break}})),this.vectorSource=new b.a({wrapX:!1,features:[]});var O=new y.a({source:this.vectorSource});this.map.addLayer(O),this.map.addInteraction(S),this.map.updateSize()},n.getDefaultLayers=function(){return[new l.a({source:new j.a})]},n.addMarker=function(e){if(Object(r.g)(this.map)&&null!==this.map){var t=new S.a(Object(d.m)([e.lon,e.lat],"EPSG:4326","EPSG:900913")),n=new g.a({geometry:t,name:"Marker"});if(Object(r.g)(e.icon)&&null!==e.icon){var i=new O.c({image:new I.a({opacity:.75,src:e.icon,rotation:e.orientation*Math.PI/180})});n.setStyle(i)}var a="view-marker-"+Object(r.h)();return n.setId(a),this.markers[a]=n,this.vectorSource.addFeature(n),this.first&&(this.first=!1,this.map.getView().setCenter(Object(d.m)([e.lon,e.lat],"EPSG:4326","EPSG:900913")),this.map.getView().setZoom(19)),a}return this.onResize(),null},n.removeViewItem=function(t){var n=this.stylerToObj[t.styler.id];if(e.prototype.removeViewItem.call(this,t),Object(r.g)(n)){var i=this.markers[n];Object(r.g)(i)&&this.vectorSource.removeFeature(i),delete this.markers[n]}},n.createMarkerFromStyler=function(e){if(e.getId()in this.stylerToObj)return this.stylerToObj[e.getId()];var t={lat:e.location.y,lon:e.location.x,orientation:e.orientation.heading,color:e.color,icon:e.icon,name:this.names[e.getId()]},n=new S.a(Object(d.m)([t.lon,t.lat],"EPSG:4326","EPSG:900913")),i=new g.a({geometry:n,name:"Marker"});if(null!==t.icon){var a=new O.c({image:new I.a({opacity:.75,src:t.icon,rotation:t.orientation*Math.PI/180})});i.setStyle(a)}var o="view-marker-"+Object(r.h)();return i.setId(o),this.markers[o]=i,this.stylerToObj[e.getId()]=o,o},n.addPolyline=function(e){for(var t=[],n=0;n<e.locations.length;n++)t.push(Object(d.m)([e.locations[n].x,e.locations[n].y],"EPSG:4326","EPSG:900913"));var i=new LineString(t),a=new g.a({geometry:i,name:"Line"}),o=new b.a({features:[a]}),s=new y.a({title:e.name,source:o,style:new O.c({fill:new Fill({color:e.color}),stroke:new Stroke({color:e.color,width:e.weight})})});this.map.addLayer(s);var c="view-polyline-"+Object(r.h)();return this.polylines[c]=i,c},n.onResize=function(){e.prototype.onResize.call(this),Object(r.g)(this.map)&&null!==this.map&&this.map.updateSize()},t}(a.a));t.a=x},462:function(e,t,n){"use strict";n.r(t);var i=n(3),a=n(0),r=n(191),o=n(192),s=n(310),c=n(458),l=n(457),u=n(137),d=function(e){function t(t){var n;return(n=e.call(this,t)||this).divId=Object(u.h)(),n}Object(i.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.dataSource=new r.a("android-GPS",{protocol:"ws",service:"SOS",endpointUrl:"sensiasoft.net:8181/sensorhub/sos",offeringID:"urn:android:device:060693280a28e015-sos",observedProperty:"http://sensorml.com/ont/swe/property/Location",startTime:"2015-02-16T07:58:32Z",endTime:"2015-02-16T08:09:00Z",replaySpeed:2});var e=new o.a({locationFunc:{dataSourceIds:[this.dataSource.getId()],handler:function(e){return{x:e.location.lon,y:e.location.lat}}},orientation:{heading:0},icon:this.props.base+"img/car-location.png",iconAnchor:[16,64],iconSize:[32,64]}),t=new c.a({source:new l.a({url:"https://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}.png",tilePixelRatio:2}),title:"Stadia",visible:!0}),n=new c.a({source:new l.a({url:"http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}.png",tilePixelRatio:2}),title:"Esri Sat",visible:!1});this.view=new s.a("ol-complex-map",[{styler:e,name:"Android Phone GPS"}],{autoZoomOnFirstMarker:!1,watch:!0,initialView:{lon:1.42376344,lat:43.61759948,zoom:15},baseLayers:[t],overlayLayers:[n]}),this.dataSource.connect()},n.componentWillUnmount=function(){this.dataSource.terminate(),this.view.destroy()},n.render=function(){return a.createElement("div",{style:{height:"500px"},id:"ol-complex-map"})},t}(a.Component);t.default=d}}]);