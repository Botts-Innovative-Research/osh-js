<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Source: osh/ui/view/map/CesiumView.js</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"monospaceLinks":false,"cleverLinks":false,"default":{"outputSourceFiles":true}};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html"></a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="Ajax">
            <span class="title">
                <a href="Ajax.html">Ajax</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Ajax#getId"><a href="Ajax.html#getId">getId</a></li>
            
                <li data-name="Ajax#getUrl"><a href="Ajax.html#getUrl">getUrl</a></li>
            
                <li data-name="Ajax#sendRequest"><a href="Ajax.html#sendRequest">sendRequest</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="Ajax#event:onError"><a href="Ajax.html#event:onError">onError</a></li>
            
                <li data-name="Ajax#event:onSuccess"><a href="Ajax.html#event:onSuccess">onSuccess</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="Buffer">
            <span class="title">
                <a href="Buffer.html">Buffer</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Buffer#addDataSource"><a href="Buffer.html#addDataSource">addDataSource</a></li>
            
                <li data-name="Buffer#addEntity"><a href="Buffer.html#addEntity">addEntity</a></li>
            
                <li data-name="Buffer#cancelAll"><a href="Buffer.html#cancelAll">cancelAll</a></li>
            
                <li data-name="Buffer#cancelDataSource"><a href="Buffer.html#cancelDataSource">cancelDataSource</a></li>
            
                <li data-name="Buffer#push"><a href="Buffer.html#push">push</a></li>
            
                <li data-name="Buffer#start"><a href="Buffer.html#start">start</a></li>
            
                <li data-name="Buffer#startAll"><a href="Buffer.html#startAll">startAll</a></li>
            
                <li data-name="Buffer#startDataSource"><a href="Buffer.html#startDataSource">startDataSource</a></li>
            
                <li data-name="Buffer#startObservers"><a href="Buffer.html#startObservers">startObservers</a></li>
            
                <li data-name="Buffer#stop"><a href="Buffer.html#stop">stop</a></li>
            
                <li data-name="Buffer#stopObservers"><a href="Buffer.html#stopObservers">stopObservers</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="CesiumView">
            <span class="title">
                <a href="CesiumView.html">CesiumView</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="CesiumView#addImageryProvider"><a href="CesiumView.html#addImageryProvider">addImageryProvider</a></li>
            
                <li data-name="CesiumView#addMarker"><a href="CesiumView.html#addMarker">addMarker</a></li>
            
                <li data-name="CesiumView#addViewItem"><a href="CesiumView.html#addViewItem">addViewItem</a></li>
            
                <li data-name="CesiumView#attachTo"><a href="CesiumView.html#attachTo">attachTo</a></li>
            
                <li data-name="CesiumView#getDataSourcesId"><a href="CesiumView.html#getDataSourcesId">getDataSourcesId</a></li>
            
                <li data-name="CesiumView#getDivId"><a href="CesiumView.html#getDivId">getDivId</a></li>
            
                <li data-name="CesiumView#getId"><a href="CesiumView.html#getId">getId</a></li>
            
                <li data-name="CesiumView#hide"><a href="CesiumView.html#hide">hide</a></li>
            
                <li data-name="CesiumView#init"><a href="CesiumView.html#init">init</a></li>
            
                <li data-name="CesiumView#removeViewItem"><a href="CesiumView.html#removeViewItem">removeViewItem</a></li>
            
                <li data-name="CesiumView#reset"><a href="CesiumView.html#reset">reset</a></li>
            
                <li data-name="CesiumView#selectDataView"><a href="CesiumView.html#selectDataView">selectDataView</a></li>
            
                <li data-name="CesiumView#setData"><a href="CesiumView.html#setData">setData</a></li>
            
                <li data-name="CesiumView#show"><a href="CesiumView.html#show">show</a></li>
            
                <li data-name="CesiumView#updateDrapedImage"><a href="CesiumView.html#updateDrapedImage">updateDrapedImage</a></li>
            
                <li data-name="CesiumView#updateMapMarker"><a href="CesiumView.html#updateMapMarker">updateMapMarker</a></li>
            
                <li data-name="CesiumView#updateMarker"><a href="CesiumView.html#updateMarker">updateMarker</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="CesiumView#event:beforeAddingItems"><a href="CesiumView.html#event:beforeAddingItems">beforeAddingItems</a></li>
            
                <li data-name="CesiumView#event:onResize"><a href="CesiumView.html#event:onResize">onResize</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="CesiumView#View">
            <span class="title">
                <a href="CesiumView_View.html">CesiumView#View</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Chart">
            <span class="title">
                <a href="Chart.html">Chart</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Chart#buildUrl"><a href="Chart.html#buildUrl">buildUrl</a></li>
            
                <li data-name="Chart#connect"><a href="Chart.html#connect">connect</a></li>
            
                <li data-name="Chart#disconnect"><a href="Chart.html#disconnect">disconnect</a></li>
            
                <li data-name="Chart#getId"><a href="Chart.html#getId">getId</a></li>
            
                <li data-name="Chart#getName"><a href="Chart.html#getName">getName</a></li>
            
                <li data-name="Chart#onData"><a href="Chart.html#onData">onData</a></li>
            
                <li data-name="Chart#parseData"><a href="Chart.html#parseData">parseData</a></li>
            
                <li data-name="Chart#parseTimeStamp"><a href="Chart.html#parseTimeStamp">parseTimeStamp</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="Chart#event:onMessage"><a href="Chart.html#event:onMessage">onMessage</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="ChartJsView">
            <span class="title">
                <a href="ChartJsView.html">ChartJsView</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ChartJsView#updateCurve"><a href="ChartJsView.html#updateCurve">updateCurve</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="DataConnector">
            <span class="title">
                <a href="DataConnector.html">DataConnector</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="DataConnector#getId"><a href="DataConnector.html#getId">getId</a></li>
            
                <li data-name="DataConnector#getUrl"><a href="DataConnector.html#getUrl">getUrl</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="DataReceiverController">
            <span class="title">
                <a href="DataReceiverController.html">DataReceiverController</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="DataReceiverController#addDataSource"><a href="DataReceiverController.html#addDataSource">addDataSource</a></li>
            
                <li data-name="DataReceiverController#addEntity"><a href="DataReceiverController.html#addEntity">addEntity</a></li>
            
                <li data-name="DataReceiverController#connect"><a href="DataReceiverController.html#connect">connect</a></li>
            
                <li data-name="DataReceiverController#connectAll"><a href="DataReceiverController.html#connectAll">connectAll</a></li>
            
                <li data-name="DataReceiverController#disconnect"><a href="DataReceiverController.html#disconnect">disconnect</a></li>
            
                <li data-name="DataReceiverController#updateDataSourceTime"><a href="DataReceiverController.html#updateDataSourceTime">updateDataSourceTime</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="DataSenderController">
            <span class="title">
                <a href="DataSenderController.html">DataSenderController</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="DataSenderController#addDataSource"><a href="DataSenderController.html#addDataSource">addDataSource</a></li>
            
                <li data-name="DataSenderController#sendRequest"><a href="DataSenderController.html#sendRequest">sendRequest</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="DataSink">
            <span class="title">
                <a href="DataSink.html">DataSink</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="DataSink#getId"><a href="DataSink.html#getId">getId</a></li>
            
                <li data-name="DataSink#getName"><a href="DataSink.html#getName">getName</a></li>
            
                <li data-name="DataSink#sendRequest"><a href="DataSink.html#sendRequest">sendRequest</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="DataSink#event:onError"><a href="DataSink.html#event:onError">onError</a></li>
            
                <li data-name="DataSink#event:onSuccess"><a href="DataSink.html#event:onSuccess">onSuccess</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="DataSource">
            <span class="title">
                <a href="DataSource.html">DataSource</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="DataSource#buildUrl"><a href="DataSource.html#buildUrl">buildUrl</a></li>
            
                <li data-name="DataSource#connect"><a href="DataSource.html#connect">connect</a></li>
            
                <li data-name="DataSource#disconnect"><a href="DataSource.html#disconnect">disconnect</a></li>
            
                <li data-name="DataSource#getId"><a href="DataSource.html#getId">getId</a></li>
            
                <li data-name="DataSource#getName"><a href="DataSource.html#getName">getName</a></li>
            
                <li data-name="DataSource#onData"><a href="DataSource.html#onData">onData</a></li>
            
                <li data-name="DataSource#parseData"><a href="DataSource.html#parseData">parseData</a></li>
            
                <li data-name="DataSource#parseTimeStamp"><a href="DataSource.html#parseTimeStamp">parseTimeStamp</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="DataSource#event:onMessage"><a href="DataSource.html#event:onMessage">onMessage</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="DiscoveryView">
            <span class="title">
                <a href="DiscoveryView.html">DiscoveryView</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="DiscoveryView#addViewItem"><a href="DiscoveryView.html#addViewItem">addViewItem</a></li>
            
                <li data-name="DiscoveryView#attachTo"><a href="DiscoveryView.html#attachTo">attachTo</a></li>
            
                <li data-name="DiscoveryView#getDataSourcesId"><a href="DiscoveryView.html#getDataSourcesId">getDataSourcesId</a></li>
            
                <li data-name="DiscoveryView#getDivId"><a href="DiscoveryView.html#getDivId">getDivId</a></li>
            
                <li data-name="DiscoveryView#getId"><a href="DiscoveryView.html#getId">getId</a></li>
            
                <li data-name="DiscoveryView#hide"><a href="DiscoveryView.html#hide">hide</a></li>
            
                <li data-name="DiscoveryView#init"><a href="DiscoveryView.html#init">init</a></li>
            
                <li data-name="DiscoveryView#removeViewItem"><a href="DiscoveryView.html#removeViewItem">removeViewItem</a></li>
            
                <li data-name="DiscoveryView#reset"><a href="DiscoveryView.html#reset">reset</a></li>
            
                <li data-name="DiscoveryView#selectDataView"><a href="DiscoveryView.html#selectDataView">selectDataView</a></li>
            
                <li data-name="DiscoveryView#setData"><a href="DiscoveryView.html#setData">setData</a></li>
            
                <li data-name="DiscoveryView#show"><a href="DiscoveryView.html#show">show</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="DiscoveryView#event:beforeAddingItems"><a href="DiscoveryView.html#event:beforeAddingItems">beforeAddingItems</a></li>
            
                <li data-name="DiscoveryView#event:onResize"><a href="DiscoveryView.html#event:onResize">onResize</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="DiscoveryView#View">
            <span class="title">
                <a href="DiscoveryView_View.html">DiscoveryView#View</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="EntityTreeView">
            <span class="title">
                <a href="EntityTreeView.html">EntityTreeView</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="EntityTreeView#addViewItem"><a href="EntityTreeView.html#addViewItem">addViewItem</a></li>
            
                <li data-name="EntityTreeView#attachTo"><a href="EntityTreeView.html#attachTo">attachTo</a></li>
            
                <li data-name="EntityTreeView#getDataSourcesId"><a href="EntityTreeView.html#getDataSourcesId">getDataSourcesId</a></li>
            
                <li data-name="EntityTreeView#getDivId"><a href="EntityTreeView.html#getDivId">getDivId</a></li>
            
                <li data-name="EntityTreeView#getId"><a href="EntityTreeView.html#getId">getId</a></li>
            
                <li data-name="EntityTreeView#hide"><a href="EntityTreeView.html#hide">hide</a></li>
            
                <li data-name="EntityTreeView#init"><a href="EntityTreeView.html#init">init</a></li>
            
                <li data-name="EntityTreeView#removeViewItem"><a href="EntityTreeView.html#removeViewItem">removeViewItem</a></li>
            
                <li data-name="EntityTreeView#reset"><a href="EntityTreeView.html#reset">reset</a></li>
            
                <li data-name="EntityTreeView#selectDataView"><a href="EntityTreeView.html#selectDataView">selectDataView</a></li>
            
                <li data-name="EntityTreeView#setData"><a href="EntityTreeView.html#setData">setData</a></li>
            
                <li data-name="EntityTreeView#show"><a href="EntityTreeView.html#show">show</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="EntityTreeView#event:beforeAddingItems"><a href="EntityTreeView.html#event:beforeAddingItems">beforeAddingItems</a></li>
            
                <li data-name="EntityTreeView#event:onResize"><a href="EntityTreeView.html#event:onResize">onResize</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="EntityTreeView#View">
            <span class="title">
                <a href="EntityTreeView_View.html">EntityTreeView#View</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="EulerOrientation">
            <span class="title">
                <a href="EulerOrientation.html">EulerOrientation</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="EulerOrientation#buildUrl"><a href="EulerOrientation.html#buildUrl">buildUrl</a></li>
            
                <li data-name="EulerOrientation#connect"><a href="EulerOrientation.html#connect">connect</a></li>
            
                <li data-name="EulerOrientation#disconnect"><a href="EulerOrientation.html#disconnect">disconnect</a></li>
            
                <li data-name="EulerOrientation#getId"><a href="EulerOrientation.html#getId">getId</a></li>
            
                <li data-name="EulerOrientation#getName"><a href="EulerOrientation.html#getName">getName</a></li>
            
                <li data-name="EulerOrientation#onData"><a href="EulerOrientation.html#onData">onData</a></li>
            
                <li data-name="EulerOrientation#parseData"><a href="EulerOrientation.html#parseData">parseData</a></li>
            
                <li data-name="EulerOrientation#parseTimeStamp"><a href="EulerOrientation.html#parseTimeStamp">parseTimeStamp</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="EulerOrientation#event:onMessage"><a href="EulerOrientation.html#event:onMessage">onMessage</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="EventManager">
            <span class="title">
                <a href="EventManager.html">EventManager</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="EventManager.EVENT"><a href="EventManager.html#.EVENT">EVENT</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="EventManager.fire"><a href="EventManager.html#.fire">fire</a></li>
            
                <li data-name="EventManager.observe"><a href="EventManager.html#.observe">observe</a></li>
            
                <li data-name="EventManager.observeDiv"><a href="EventManager.html#.observeDiv">observeDiv</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="EventMap">
            <span class="title">
                <a href="EventMap.html">EventMap</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="EventMap#fire"><a href="EventMap.html#fire">fire</a></li>
            
                <li data-name="EventMap#observe"><a href="EventMap.html#observe">observe</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="FFMPEGView">
            <span class="title">
                <a href="FFMPEGView.html">FFMPEGView</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="FFMPEGView#addViewItem"><a href="FFMPEGView.html#addViewItem">addViewItem</a></li>
            
                <li data-name="FFMPEGView#attachTo"><a href="FFMPEGView.html#attachTo">attachTo</a></li>
            
                <li data-name="FFMPEGView#getDataSourcesId"><a href="FFMPEGView.html#getDataSourcesId">getDataSourcesId</a></li>
            
                <li data-name="FFMPEGView#getDivId"><a href="FFMPEGView.html#getDivId">getDivId</a></li>
            
                <li data-name="FFMPEGView#getId"><a href="FFMPEGView.html#getId">getId</a></li>
            
                <li data-name="FFMPEGView#hide"><a href="FFMPEGView.html#hide">hide</a></li>
            
                <li data-name="FFMPEGView#init"><a href="FFMPEGView.html#init">init</a></li>
            
                <li data-name="FFMPEGView#removeViewItem"><a href="FFMPEGView.html#removeViewItem">removeViewItem</a></li>
            
                <li data-name="FFMPEGView#reset"><a href="FFMPEGView.html#reset">reset</a></li>
            
                <li data-name="FFMPEGView#selectDataView"><a href="FFMPEGView.html#selectDataView">selectDataView</a></li>
            
                <li data-name="FFMPEGView#setData"><a href="FFMPEGView.html#setData">setData</a></li>
            
                <li data-name="FFMPEGView#show"><a href="FFMPEGView.html#show">show</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="FFMPEGView#event:beforeAddingItems"><a href="FFMPEGView.html#event:beforeAddingItems">beforeAddingItems</a></li>
            
                <li data-name="FFMPEGView#event:onAfterDecoded"><a href="FFMPEGView.html#event:onAfterDecoded">onAfterDecoded</a></li>
            
                <li data-name="FFMPEGView#event:onResize"><a href="FFMPEGView.html#event:onResize">onResize</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="FFMPEGView#View">
            <span class="title">
                <a href="FFMPEGView_View.html">FFMPEGView#View</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="FoscamPtzTasking">
            <span class="title">
                <a href="FoscamPtzTasking.html">FoscamPtzTasking</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="FoscamPtzTasking#getCommandData"><a href="FoscamPtzTasking.html#getCommandData">getCommandData</a></li>
            
                <li data-name="FoscamPtzTasking#getId"><a href="FoscamPtzTasking.html#getId">getId</a></li>
            
                <li data-name="FoscamPtzTasking#getName"><a href="FoscamPtzTasking.html#getName">getName</a></li>
            
                <li data-name="FoscamPtzTasking#sendRequest"><a href="FoscamPtzTasking.html#sendRequest">sendRequest</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="FoscamPtzTasking#event:onError"><a href="FoscamPtzTasking.html#event:onError">onError</a></li>
            
                <li data-name="FoscamPtzTasking#event:onSuccess"><a href="FoscamPtzTasking.html#event:onSuccess">onSuccess</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="ImageDraping">
            <span class="title">
                <a href="ImageDraping.html">ImageDraping</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ImageDraping#addFn"><a href="ImageDraping.html#addFn">addFn</a></li>
            
                <li data-name="ImageDraping#clear"><a href="ImageDraping.html#clear">clear</a></li>
            
                <li data-name="ImageDraping#getDataSourcesIds"><a href="ImageDraping.html#getDataSourcesIds">getDataSourcesIds</a></li>
            
                <li data-name="ImageDraping#getId"><a href="ImageDraping.html#getId">getId</a></li>
            
                <li data-name="ImageDraping#init"><a href="ImageDraping.html#init">init</a></li>
            
                <li data-name="ImageDraping#select"><a href="ImageDraping.html#select">select</a></li>
            
                <li data-name="ImageDraping#setData"><a href="ImageDraping.html#setData">setData</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Json">
            <span class="title">
                <a href="Json.html">Json</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Json#buildUrl"><a href="Json.html#buildUrl">buildUrl</a></li>
            
                <li data-name="Json#connect"><a href="Json.html#connect">connect</a></li>
            
                <li data-name="Json#disconnect"><a href="Json.html#disconnect">disconnect</a></li>
            
                <li data-name="Json#getId"><a href="Json.html#getId">getId</a></li>
            
                <li data-name="Json#getName"><a href="Json.html#getName">getName</a></li>
            
                <li data-name="Json#onData"><a href="Json.html#onData">onData</a></li>
            
                <li data-name="Json#parseData"><a href="Json.html#parseData">parseData</a></li>
            
                <li data-name="Json#parseTimeStamp"><a href="Json.html#parseTimeStamp">parseTimeStamp</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="Json#event:onMessage"><a href="Json.html#event:onMessage">onMessage</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="LatLonAlt">
            <span class="title">
                <a href="LatLonAlt.html">LatLonAlt</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="LatLonAlt#buildUrl"><a href="LatLonAlt.html#buildUrl">buildUrl</a></li>
            
                <li data-name="LatLonAlt#connect"><a href="LatLonAlt.html#connect">connect</a></li>
            
                <li data-name="LatLonAlt#disconnect"><a href="LatLonAlt.html#disconnect">disconnect</a></li>
            
                <li data-name="LatLonAlt#getId"><a href="LatLonAlt.html#getId">getId</a></li>
            
                <li data-name="LatLonAlt#getName"><a href="LatLonAlt.html#getName">getName</a></li>
            
                <li data-name="LatLonAlt#onData"><a href="LatLonAlt.html#onData">onData</a></li>
            
                <li data-name="LatLonAlt#parseData"><a href="LatLonAlt.html#parseData">parseData</a></li>
            
                <li data-name="LatLonAlt#parseTimeStamp"><a href="LatLonAlt.html#parseTimeStamp">parseTimeStamp</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="LatLonAlt#event:onMessage"><a href="LatLonAlt.html#event:onMessage">onMessage</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="LeafletView">
            <span class="title">
                <a href="LeafletView.html">LeafletView</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="LeafletView#addMarker"><a href="LeafletView.html#addMarker">addMarker</a></li>
            
                <li data-name="LeafletView#addPolyline"><a href="LeafletView.html#addPolyline">addPolyline</a></li>
            
                <li data-name="LeafletView#addViewItem"><a href="LeafletView.html#addViewItem">addViewItem</a></li>
            
                <li data-name="LeafletView#attachTo"><a href="LeafletView.html#attachTo">attachTo</a></li>
            
                <li data-name="LeafletView#getDataSourcesId"><a href="LeafletView.html#getDataSourcesId">getDataSourcesId</a></li>
            
                <li data-name="LeafletView#getDefaultLayers"><a href="LeafletView.html#getDefaultLayers">getDefaultLayers</a></li>
            
                <li data-name="LeafletView#getDivId"><a href="LeafletView.html#getDivId">getDivId</a></li>
            
                <li data-name="LeafletView#getId"><a href="LeafletView.html#getId">getId</a></li>
            
                <li data-name="LeafletView#hide"><a href="LeafletView.html#hide">hide</a></li>
            
                <li data-name="LeafletView#init"><a href="LeafletView.html#init">init</a></li>
            
                <li data-name="LeafletView#removeViewItem"><a href="LeafletView.html#removeViewItem">removeViewItem</a></li>
            
                <li data-name="LeafletView#reset"><a href="LeafletView.html#reset">reset</a></li>
            
                <li data-name="LeafletView#selectDataView"><a href="LeafletView.html#selectDataView">selectDataView</a></li>
            
                <li data-name="LeafletView#setData"><a href="LeafletView.html#setData">setData</a></li>
            
                <li data-name="LeafletView#show"><a href="LeafletView.html#show">show</a></li>
            
                <li data-name="LeafletView#updateMarker"><a href="LeafletView.html#updateMarker">updateMarker</a></li>
            
                <li data-name="LeafletView#updatePolyline"><a href="LeafletView.html#updatePolyline">updatePolyline</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="LeafletView#event:beforeAddingItems"><a href="LeafletView.html#event:beforeAddingItems">beforeAddingItems</a></li>
            
                <li data-name="LeafletView#event:onResize"><a href="LeafletView.html#event:onResize">onResize</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="LeafletView#View">
            <span class="title">
                <a href="LeafletView_View.html">LeafletView#View</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="MjpegView">
            <span class="title">
                <a href="MjpegView.html">MjpegView</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="MjpegView#addViewItem"><a href="MjpegView.html#addViewItem">addViewItem</a></li>
            
                <li data-name="MjpegView#attachTo"><a href="MjpegView.html#attachTo">attachTo</a></li>
            
                <li data-name="MjpegView#getDataSourcesId"><a href="MjpegView.html#getDataSourcesId">getDataSourcesId</a></li>
            
                <li data-name="MjpegView#getDivId"><a href="MjpegView.html#getDivId">getDivId</a></li>
            
                <li data-name="MjpegView#getId"><a href="MjpegView.html#getId">getId</a></li>
            
                <li data-name="MjpegView#hide"><a href="MjpegView.html#hide">hide</a></li>
            
                <li data-name="MjpegView#init"><a href="MjpegView.html#init">init</a></li>
            
                <li data-name="MjpegView#removeViewItem"><a href="MjpegView.html#removeViewItem">removeViewItem</a></li>
            
                <li data-name="MjpegView#reset"><a href="MjpegView.html#reset">reset</a></li>
            
                <li data-name="MjpegView#selectDataView"><a href="MjpegView.html#selectDataView">selectDataView</a></li>
            
                <li data-name="MjpegView#setData"><a href="MjpegView.html#setData">setData</a></li>
            
                <li data-name="MjpegView#show"><a href="MjpegView.html#show">show</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="MjpegView#event:beforeAddingItems"><a href="MjpegView.html#event:beforeAddingItems">beforeAddingItems</a></li>
            
                <li data-name="MjpegView#event:onResize"><a href="MjpegView.html#event:onResize">onResize</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="MjpegView#View">
            <span class="title">
                <a href="MjpegView_View.html">MjpegView#View</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="module.exports">
            <span class="title">
                <a href="module.exports.html">module.exports</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="module.exports#addFn"><a href="module.exports.html#addFn">addFn</a></li>
            
                <li data-name="module.exports#buildUrl"><a href="module.exports.html#buildUrl">buildUrl</a></li>
            
                <li data-name="module.exports#clear"><a href="module.exports.html#clear">clear</a></li>
            
                <li data-name="module.exports#connect"><a href="module.exports.html#connect">connect</a></li>
            
                <li data-name="module.exports#disconnect"><a href="module.exports.html#disconnect">disconnect</a></li>
            
                <li data-name="module.exports#getDataSourcesIds"><a href="module.exports.html#getDataSourcesIds">getDataSourcesIds</a></li>
            
                <li data-name="module.exports#getId"><a href="module.exports.html#getId">getId</a></li>
            
                <li data-name="module.exports#getName"><a href="module.exports.html#getName">getName</a></li>
            
                <li data-name="module.exports#init"><a href="module.exports.html#init">init</a></li>
            
                <li data-name="module.exports#onData"><a href="module.exports.html#onData">onData</a></li>
            
                <li data-name="module.exports#parseData"><a href="module.exports.html#parseData">parseData</a></li>
            
                <li data-name="module.exports#parseTimeStamp"><a href="module.exports.html#parseTimeStamp">parseTimeStamp</a></li>
            
                <li data-name="module.exports#select"><a href="module.exports.html#select">select</a></li>
            
                <li data-name="module.exports#setData"><a href="module.exports.html#setData">setData</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="module.exports#event:onMessage"><a href="module.exports.html#event:onMessage">onMessage</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="module.exports">
            <span class="title">
                <a href="module.exports.html">module.exports</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="module.exports#addFn"><a href="module.exports.html#addFn">addFn</a></li>
            
                <li data-name="module.exports#buildUrl"><a href="module.exports.html#buildUrl">buildUrl</a></li>
            
                <li data-name="module.exports#clear"><a href="module.exports.html#clear">clear</a></li>
            
                <li data-name="module.exports#connect"><a href="module.exports.html#connect">connect</a></li>
            
                <li data-name="module.exports#disconnect"><a href="module.exports.html#disconnect">disconnect</a></li>
            
                <li data-name="module.exports#getDataSourcesIds"><a href="module.exports.html#getDataSourcesIds">getDataSourcesIds</a></li>
            
                <li data-name="module.exports#getId"><a href="module.exports.html#getId">getId</a></li>
            
                <li data-name="module.exports#getName"><a href="module.exports.html#getName">getName</a></li>
            
                <li data-name="module.exports#init"><a href="module.exports.html#init">init</a></li>
            
                <li data-name="module.exports#onData"><a href="module.exports.html#onData">onData</a></li>
            
                <li data-name="module.exports#parseData"><a href="module.exports.html#parseData">parseData</a></li>
            
                <li data-name="module.exports#parseTimeStamp"><a href="module.exports.html#parseTimeStamp">parseTimeStamp</a></li>
            
                <li data-name="module.exports#select"><a href="module.exports.html#select">select</a></li>
            
                <li data-name="module.exports#setData"><a href="module.exports.html#setData">setData</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="module.exports#event:onMessage"><a href="module.exports.html#event:onMessage">onMessage</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="Nexrad">
            <span class="title">
                <a href="Nexrad.html">Nexrad</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Nexrad#addFn"><a href="Nexrad.html#addFn">addFn</a></li>
            
                <li data-name="Nexrad#clear"><a href="Nexrad.html#clear">clear</a></li>
            
                <li data-name="Nexrad#getDataSourcesIds"><a href="Nexrad.html#getDataSourcesIds">getDataSourcesIds</a></li>
            
                <li data-name="Nexrad#getId"><a href="Nexrad.html#getId">getId</a></li>
            
                <li data-name="Nexrad#init"><a href="Nexrad.html#init">init</a></li>
            
                <li data-name="Nexrad#select"><a href="Nexrad.html#select">select</a></li>
            
                <li data-name="Nexrad#setData"><a href="Nexrad.html#setData">setData</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="OpenLayerView">
            <span class="title">
                <a href="OpenLayerView.html">OpenLayerView</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="OpenLayerView#addMarker"><a href="OpenLayerView.html#addMarker">addMarker</a></li>
            
                <li data-name="OpenLayerView#addPolyline"><a href="OpenLayerView.html#addPolyline">addPolyline</a></li>
            
                <li data-name="OpenLayerView#addViewItem"><a href="OpenLayerView.html#addViewItem">addViewItem</a></li>
            
                <li data-name="OpenLayerView#attachTo"><a href="OpenLayerView.html#attachTo">attachTo</a></li>
            
                <li data-name="OpenLayerView#getDataSourcesId"><a href="OpenLayerView.html#getDataSourcesId">getDataSourcesId</a></li>
            
                <li data-name="OpenLayerView#getDefaultLayers"><a href="OpenLayerView.html#getDefaultLayers">getDefaultLayers</a></li>
            
                <li data-name="OpenLayerView#getDivId"><a href="OpenLayerView.html#getDivId">getDivId</a></li>
            
                <li data-name="OpenLayerView#getId"><a href="OpenLayerView.html#getId">getId</a></li>
            
                <li data-name="OpenLayerView#hide"><a href="OpenLayerView.html#hide">hide</a></li>
            
                <li data-name="OpenLayerView#init"><a href="OpenLayerView.html#init">init</a></li>
            
                <li data-name="OpenLayerView#removeViewItem"><a href="OpenLayerView.html#removeViewItem">removeViewItem</a></li>
            
                <li data-name="OpenLayerView#reset"><a href="OpenLayerView.html#reset">reset</a></li>
            
                <li data-name="OpenLayerView#selectDataView"><a href="OpenLayerView.html#selectDataView">selectDataView</a></li>
            
                <li data-name="OpenLayerView#setData"><a href="OpenLayerView.html#setData">setData</a></li>
            
                <li data-name="OpenLayerView#show"><a href="OpenLayerView.html#show">show</a></li>
            
                <li data-name="OpenLayerView#updateMarker"><a href="OpenLayerView.html#updateMarker">updateMarker</a></li>
            
                <li data-name="OpenLayerView#updatePolyline"><a href="OpenLayerView.html#updatePolyline">updatePolyline</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="OpenLayerView#event:beforeAddingItems"><a href="OpenLayerView.html#event:beforeAddingItems">beforeAddingItems</a></li>
            
                <li data-name="OpenLayerView#event:onResize"><a href="OpenLayerView.html#event:onResize">onResize</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="OpenLayerView#View">
            <span class="title">
                <a href="OpenLayerView_View.html">OpenLayerView#View</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="OrientationQuaternion">
            <span class="title">
                <a href="OrientationQuaternion.html">OrientationQuaternion</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="OrientationQuaternion#buildUrl"><a href="OrientationQuaternion.html#buildUrl">buildUrl</a></li>
            
                <li data-name="OrientationQuaternion#connect"><a href="OrientationQuaternion.html#connect">connect</a></li>
            
                <li data-name="OrientationQuaternion#disconnect"><a href="OrientationQuaternion.html#disconnect">disconnect</a></li>
            
                <li data-name="OrientationQuaternion#getId"><a href="OrientationQuaternion.html#getId">getId</a></li>
            
                <li data-name="OrientationQuaternion#getName"><a href="OrientationQuaternion.html#getName">getName</a></li>
            
                <li data-name="OrientationQuaternion#onData"><a href="OrientationQuaternion.html#onData">onData</a></li>
            
                <li data-name="OrientationQuaternion#parseData"><a href="OrientationQuaternion.html#parseData">parseData</a></li>
            
                <li data-name="OrientationQuaternion#parseTimeStamp"><a href="OrientationQuaternion.html#parseTimeStamp">parseTimeStamp</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="OrientationQuaternion#event:onMessage"><a href="OrientationQuaternion.html#event:onMessage">onMessage</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="PointMarker">
            <span class="title">
                <a href="PointMarker.html">PointMarker</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="PointMarker#addFn"><a href="PointMarker.html#addFn">addFn</a></li>
            
                <li data-name="PointMarker#clear"><a href="PointMarker.html#clear">clear</a></li>
            
                <li data-name="PointMarker#getDataSourcesIds"><a href="PointMarker.html#getDataSourcesIds">getDataSourcesIds</a></li>
            
                <li data-name="PointMarker#getId"><a href="PointMarker.html#getId">getId</a></li>
            
                <li data-name="PointMarker#init"><a href="PointMarker.html#init">init</a></li>
            
                <li data-name="PointMarker#select"><a href="PointMarker.html#select">select</a></li>
            
                <li data-name="PointMarker#setData"><a href="PointMarker.html#setData">setData</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Polyline">
            <span class="title">
                <a href="Polyline.html">Polyline</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Polyline#addFn"><a href="Polyline.html#addFn">addFn</a></li>
            
                <li data-name="Polyline#clear"><a href="Polyline.html#clear">clear</a></li>
            
                <li data-name="Polyline#getDataSourcesIds"><a href="Polyline.html#getDataSourcesIds">getDataSourcesIds</a></li>
            
                <li data-name="Polyline#getId"><a href="Polyline.html#getId">getId</a></li>
            
                <li data-name="Polyline#init"><a href="Polyline.html#init">init</a></li>
            
                <li data-name="Polyline#select"><a href="Polyline.html#select">select</a></li>
            
                <li data-name="Polyline#setData"><a href="Polyline.html#setData">setData</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="PtzTasking">
            <span class="title">
                <a href="PtzTasking.html">PtzTasking</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="PtzTasking#getId"><a href="PtzTasking.html#getId">getId</a></li>
            
                <li data-name="PtzTasking#getName"><a href="PtzTasking.html#getName">getName</a></li>
            
                <li data-name="PtzTasking#sendRequest"><a href="PtzTasking.html#sendRequest">sendRequest</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="PtzTasking#event:onError"><a href="PtzTasking.html#event:onError">onError</a></li>
            
                <li data-name="PtzTasking#event:onSuccess"><a href="PtzTasking.html#event:onSuccess">onSuccess</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="PtzTaskingView">
            <span class="title">
                <a href="PtzTaskingView.html">PtzTaskingView</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="PtzTaskingView#addViewItem"><a href="PtzTaskingView.html#addViewItem">addViewItem</a></li>
            
                <li data-name="PtzTaskingView#attachTo"><a href="PtzTaskingView.html#attachTo">attachTo</a></li>
            
                <li data-name="PtzTaskingView#getDataSourcesId"><a href="PtzTaskingView.html#getDataSourcesId">getDataSourcesId</a></li>
            
                <li data-name="PtzTaskingView#getDivId"><a href="PtzTaskingView.html#getDivId">getDivId</a></li>
            
                <li data-name="PtzTaskingView#getId"><a href="PtzTaskingView.html#getId">getId</a></li>
            
                <li data-name="PtzTaskingView#hide"><a href="PtzTaskingView.html#hide">hide</a></li>
            
                <li data-name="PtzTaskingView#init"><a href="PtzTaskingView.html#init">init</a></li>
            
                <li data-name="PtzTaskingView#removeViewItem"><a href="PtzTaskingView.html#removeViewItem">removeViewItem</a></li>
            
                <li data-name="PtzTaskingView#reset"><a href="PtzTaskingView.html#reset">reset</a></li>
            
                <li data-name="PtzTaskingView#selectDataView"><a href="PtzTaskingView.html#selectDataView">selectDataView</a></li>
            
                <li data-name="PtzTaskingView#setData"><a href="PtzTaskingView.html#setData">setData</a></li>
            
                <li data-name="PtzTaskingView#show"><a href="PtzTaskingView.html#show">show</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="PtzTaskingView#event:beforeAddingItems"><a href="PtzTaskingView.html#event:beforeAddingItems">beforeAddingItems</a></li>
            
                <li data-name="PtzTaskingView#event:onChange"><a href="PtzTaskingView.html#event:onChange">onChange</a></li>
            
                <li data-name="PtzTaskingView#event:onResize"><a href="PtzTaskingView.html#event:onResize">onResize</a></li>
            
                <li data-name="PtzTaskingView#event:onSelectedPresets"><a href="PtzTaskingView.html#event:onSelectedPresets">onSelectedPresets</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="PtzTaskingView#View">
            <span class="title">
                <a href="PtzTaskingView_View.html">PtzTaskingView#View</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="RangeSliderView">
            <span class="title">
                <a href="RangeSliderView.html">RangeSliderView</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="RangeSliderView#activate"><a href="RangeSliderView.html#activate">activate</a></li>
            
                <li data-name="RangeSliderView#addViewItem"><a href="RangeSliderView.html#addViewItem">addViewItem</a></li>
            
                <li data-name="RangeSliderView#attachTo"><a href="RangeSliderView.html#attachTo">attachTo</a></li>
            
                <li data-name="RangeSliderView#deactivate"><a href="RangeSliderView.html#deactivate">deactivate</a></li>
            
                <li data-name="RangeSliderView#getDataSourcesId"><a href="RangeSliderView.html#getDataSourcesId">getDataSourcesId</a></li>
            
                <li data-name="RangeSliderView#getDivId"><a href="RangeSliderView.html#getDivId">getDivId</a></li>
            
                <li data-name="RangeSliderView#getId"><a href="RangeSliderView.html#getId">getId</a></li>
            
                <li data-name="RangeSliderView#hide"><a href="RangeSliderView.html#hide">hide</a></li>
            
                <li data-name="RangeSliderView#init"><a href="RangeSliderView.html#init">init</a></li>
            
                <li data-name="RangeSliderView#removeViewItem"><a href="RangeSliderView.html#removeViewItem">removeViewItem</a></li>
            
                <li data-name="RangeSliderView#reset"><a href="RangeSliderView.html#reset">reset</a></li>
            
                <li data-name="RangeSliderView#selectDataView"><a href="RangeSliderView.html#selectDataView">selectDataView</a></li>
            
                <li data-name="RangeSliderView#setData"><a href="RangeSliderView.html#setData">setData</a></li>
            
                <li data-name="RangeSliderView#show"><a href="RangeSliderView.html#show">show</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="RangeSliderView#event:beforeAddingItems"><a href="RangeSliderView.html#event:beforeAddingItems">beforeAddingItems</a></li>
            
                <li data-name="RangeSliderView#event:onResize"><a href="RangeSliderView.html#event:onResize">onResize</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="RangeSliderView#View">
            <span class="title">
                <a href="RangeSliderView_View.html">RangeSliderView#View</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Server">
            <span class="title">
                <a href="Server.html">Server</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Server#getCapabilities"><a href="Server.html#getCapabilities">getCapabilities</a></li>
            
                <li data-name="Server#getDescribeSensor"><a href="Server.html#getDescribeSensor">getDescribeSensor</a></li>
            
                <li data-name="Server#getFeatureOfInterest"><a href="Server.html#getFeatureOfInterest">getFeatureOfInterest</a></li>
            
                <li data-name="Server#getFeatureOfInterestById"><a href="Server.html#getFeatureOfInterestById">getFeatureOfInterestById</a></li>
            
                <li data-name="Server#getResultTemplate"><a href="Server.html#getResultTemplate">getResultTemplate</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Styler">
            <span class="title">
                <a href="Styler.html">Styler</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Styler#addFn"><a href="Styler.html#addFn">addFn</a></li>
            
                <li data-name="Styler#clear"><a href="Styler.html#clear">clear</a></li>
            
                <li data-name="Styler#getDataSourcesIds"><a href="Styler.html#getDataSourcesIds">getDataSourcesIds</a></li>
            
                <li data-name="Styler#getId"><a href="Styler.html#getId">getId</a></li>
            
                <li data-name="Styler#init"><a href="Styler.html#init">init</a></li>
            
                <li data-name="Styler#select"><a href="Styler.html#select">select</a></li>
            
                <li data-name="Styler#setData"><a href="Styler.html#setData">setData</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="SWEXmlStreamParser">
            <span class="title">
                <a href="SWEXmlStreamParser.html">SWEXmlStreamParser</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="SWEXmlStreamParser#setXml"><a href="SWEXmlStreamParser.html#setXml">setXml</a></li>
            
                <li data-name="SWEXmlStreamParser#toJson"><a href="SWEXmlStreamParser.html#toJson">toJson</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="UAHWeather">
            <span class="title">
                <a href="UAHWeather.html">UAHWeather</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="UAHWeather#buildUrl"><a href="UAHWeather.html#buildUrl">buildUrl</a></li>
            
                <li data-name="UAHWeather#connect"><a href="UAHWeather.html#connect">connect</a></li>
            
                <li data-name="UAHWeather#disconnect"><a href="UAHWeather.html#disconnect">disconnect</a></li>
            
                <li data-name="UAHWeather#getId"><a href="UAHWeather.html#getId">getId</a></li>
            
                <li data-name="UAHWeather#getName"><a href="UAHWeather.html#getName">getName</a></li>
            
                <li data-name="UAHWeather#onData"><a href="UAHWeather.html#onData">onData</a></li>
            
                <li data-name="UAHWeather#parseData"><a href="UAHWeather.html#parseData">parseData</a></li>
            
                <li data-name="UAHWeather#parseTimeStamp"><a href="UAHWeather.html#parseTimeStamp">parseTimeStamp</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="UAHWeather#event:onMessage"><a href="UAHWeather.html#event:onMessage">onMessage</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="UavMapTasking">
            <span class="title">
                <a href="UavMapTasking.html">UavMapTasking</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="UavMapTasking#buildLandRequest"><a href="UavMapTasking.html#buildLandRequest">buildLandRequest</a></li>
            
                <li data-name="UavMapTasking#buildLookAtRequest"><a href="UavMapTasking.html#buildLookAtRequest">buildLookAtRequest</a></li>
            
                <li data-name="UavMapTasking#buildOrbitRequest"><a href="UavMapTasking.html#buildOrbitRequest">buildOrbitRequest</a></li>
            
                <li data-name="UavMapTasking#buildTakeOffRequest"><a href="UavMapTasking.html#buildTakeOffRequest">buildTakeOffRequest</a></li>
            
                <li data-name="UavMapTasking#getId"><a href="UavMapTasking.html#getId">getId</a></li>
            
                <li data-name="UavMapTasking#getName"><a href="UavMapTasking.html#getName">getName</a></li>
            
                <li data-name="UavMapTasking#sendRequest"><a href="UavMapTasking.html#sendRequest">sendRequest</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="UavMapTasking#event:onError"><a href="UavMapTasking.html#event:onError">onError</a></li>
            
                <li data-name="UavMapTasking#event:onSuccess"><a href="UavMapTasking.html#event:onSuccess">onSuccess</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="VideoH264">
            <span class="title">
                <a href="VideoH264.html">VideoH264</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="VideoH264#buildUrl"><a href="VideoH264.html#buildUrl">buildUrl</a></li>
            
                <li data-name="VideoH264#connect"><a href="VideoH264.html#connect">connect</a></li>
            
                <li data-name="VideoH264#disconnect"><a href="VideoH264.html#disconnect">disconnect</a></li>
            
                <li data-name="VideoH264#getId"><a href="VideoH264.html#getId">getId</a></li>
            
                <li data-name="VideoH264#getName"><a href="VideoH264.html#getName">getName</a></li>
            
                <li data-name="VideoH264#onData"><a href="VideoH264.html#onData">onData</a></li>
            
                <li data-name="VideoH264#parseData"><a href="VideoH264.html#parseData">parseData</a></li>
            
                <li data-name="VideoH264#parseTimeStamp"><a href="VideoH264.html#parseTimeStamp">parseTimeStamp</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="VideoH264#event:onMessage"><a href="VideoH264.html#event:onMessage">onMessage</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="VideoMjpeg">
            <span class="title">
                <a href="VideoMjpeg.html">VideoMjpeg</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="VideoMjpeg#buildUrl"><a href="VideoMjpeg.html#buildUrl">buildUrl</a></li>
            
                <li data-name="VideoMjpeg#connect"><a href="VideoMjpeg.html#connect">connect</a></li>
            
                <li data-name="VideoMjpeg#disconnect"><a href="VideoMjpeg.html#disconnect">disconnect</a></li>
            
                <li data-name="VideoMjpeg#getId"><a href="VideoMjpeg.html#getId">getId</a></li>
            
                <li data-name="VideoMjpeg#getName"><a href="VideoMjpeg.html#getName">getName</a></li>
            
                <li data-name="VideoMjpeg#onData"><a href="VideoMjpeg.html#onData">onData</a></li>
            
                <li data-name="VideoMjpeg#parseData"><a href="VideoMjpeg.html#parseData">parseData</a></li>
            
                <li data-name="VideoMjpeg#parseTimeStamp"><a href="VideoMjpeg.html#parseTimeStamp">parseTimeStamp</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="VideoMjpeg#event:onMessage"><a href="VideoMjpeg.html#event:onMessage">onMessage</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="View#View">
            <span class="title">
                <a href="View_View.html">View#View</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="WebSocketConnector">
            <span class="title">
                <a href="WebSocketConnector.html">WebSocketConnector</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="WebSocketConnector#close"><a href="WebSocketConnector.html#close">close</a></li>
            
                <li data-name="WebSocketConnector#connect"><a href="WebSocketConnector.html#connect">connect</a></li>
            
                <li data-name="WebSocketConnector#disconnect"><a href="WebSocketConnector.html#disconnect">disconnect</a></li>
            
                <li data-name="WebSocketConnector#getId"><a href="WebSocketConnector.html#getId">getId</a></li>
            
                <li data-name="WebSocketConnector#getUrl"><a href="WebSocketConnector.html#getUrl">getUrl</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="WebSocketConnector#event:onMessage"><a href="WebSocketConnector.html#event:onMessage">onMessage</a></li>
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="osh_ui_view_map_CesiumView.js.html">Source: osh/ui/view/map/CesiumView.js</h1>
        


    
    <section>
        <article>
            <pre class="prettyprint source "><code>/***************************** BEGIN LICENSE BLOCK ***************************

 The contents of this file are subject to the Mozilla Public License, v. 2.0.
 If a copy of the MPL was not distributed with this file, You can obtain one
 at http://mozilla.org/MPL/2.0/.

 Software distributed under the License is distributed on an "AS IS" basis,
 WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
 for the specific language governing rights and limitations under the License.

 Copyright (C) 2015-2020 Sensia Software LLC. All Rights Reserved.

 Author: Mathieu Dhainaut &lt;mathieu.dhainaut@gmail.com>
 Author: Alex Robin &lt;alex.robin@sensiasoft.com>

 ******************************* END LICENSE BLOCK ***************************/

import {View} from "../View";
import {isDefined, randomUUID} from "../../../utils/Utils";
import EventManager from "../../../events/EventManager";

import {
  when,
  Cartographic,
  Cartesian3,
  Cartesian2,
  knockout,
  Color,
  HorizontalOrigin,
  VerticalOrigin,
  HeightReference,
  Math,
  Transforms,
  Matrix3,
  Matrix4,
  MaterialAppearance,
  Material,
  sampleTerrain,
  GeometryInstance,
  RectangleGeometry,
  Rectangle,
  Primitive,
  createDefaultImageryProviderViewModels,
  Viewer,
  WebMapServiceImageryProvider,
  EllipsoidTerrainProvider,
  NearFarScalar,
  HeadingPitchRoll,
  HeadingPitchRange,
  Ellipsoid, defined,
  EncodedCartesian3
} from 'cesium';

import ImageDrapingVS from "./shaders/ImageDrapingVS.js";
import ImageDrapingFS from "./shaders/ImageDrapingFS.js";
import "cesium/Build/Cesium/Widgets/widgets.css";

/**
 * This class is in charge of displaying GPS/orientation data by adding a marker to the Cesium object.
 * @extends View
 * @example
 let cesiumMapView = new CesiumView("",
 [{
	styler :  pointMarker,
	name : "Android Phone GPS",
	entityId : androidEntity.id
 },
 {
    styler : new Polyline({
        locationFunc : {
            dataSourceIds : [androidPhoneGpsDataSource.getId()],
            handler : function(rec) {
                return {
                    x : rec.lon,
                    y : rec.lat,
                    z : rec.alt
                };
            }
        },
        color : 'rgba(0,0,255,0.5)',
        weight : 10,
        opacity : .5,
        smoothFactor : 1,
        maxPoints : 200
    }),
    name : "Android Phone GPS Path",
    entityId : androidEntity.id
 }]
 );
 */
class CesiumView extends View {

  /**
   * Create a View.
   * @param {String} parentElementDivId - The div element to attach to
   * @param {Object[]} viewItems - The initial view items to add
   * @param {String} viewItems.name - The name of the view item
   * @param {Styler} viewItems.styler - The styler object representing the view item
   * @param {Object} options - the properties of the view
   *
   */
  constructor(parentElementDivId, viewItems, properties) {
    super(parentElementDivId, viewItems, properties);

    let cssClass = document.getElementById(this.divId).className;
    document.getElementById(this.divId).setAttribute("class", cssClass + " " + this.css);

    this.imageDrapingPrimitive = null;
    this.imageDrapingPrimitiveReady = false;
    this.frameCount = 0;

    this.captureCanvas = document.createElement('canvas');
    this.captureCanvas.width = 640;
    this.captureCanvas.height = 480;
  }

  /**
   * Updates the marker associated to the styler.
   * @param {Styler} styler - The styler allowing the update of the marker
   * @param {Object} options -
   * @param {Object} options.location -
   * @param {Number} options.location.x -
   * @param {Number} options.location.y -
   * @param {Number} options.location.z -
   * @param {Number} options.orientation -
   * @param {String} options.icon -
   * @param {Number[]} options.iconAnchor - [OffsetX, OffsetY] ex: [10,10]
   * @param {String} options.label -
   * @param {String} options.labelColor -
   * @param {Number} options.labelOffset -
   * @param {Boolean} options.selected -
   * @param {Number} timeStamp -
   *
   */
  updateMarker(styler, timeStamp, options) {
    let markerId = 0;

    if (!(styler.getId() in this.stylerToObj)) {
      markerId = this.addMarker({
        lat: styler.location.y,
        lon: styler.location.x,
        alt: styler.location.z,
        orientation: styler.orientation,
        icon: styler.icon,
        iconAnchor: styler.iconAnchor,
        label: styler.label,
        labelColor: styler.labelColor,
        labelSize: styler.labelSize,
        labelOffset: styler.labelOffset,
        name: styler.viewItem.name,
        description: styler.viewItem.description,
        timeStamp: timeStamp,
        selected: ((isDefined(options.selected)) ? options.selected : false)
      });

      this.stylerToObj[styler.getId()] = markerId;
    } else {
      markerId = this.stylerToObj[styler.getId()];
    }

    this.updateMapMarker(markerId, {
      lat: styler.location.y,
      lon: styler.location.x,
      alt: styler.location.z,
      orientation: styler.orientation,
      icon: styler.icon,
      label: styler.label,
      labelColor: styler.labelColor,
      labelSize: styler.labelSize,
      timeStamp: timeStamp,
      defaultToTerrainElevation: styler.defaultToTerrainElevation,
      selected: ((isDefined(options.selected)) ? options.selected : false)
    });
  }

  /**
   * Updates the marker associated to the styler.
   * @param {ImageDraping} styler - The styler allowing the update of the marker
   *
   */
  updateDrapedImage(styler, timeStamp, options, snapshot) {

    var llaPos = styler.platformLocation;
    var camPos = Cartesian3.fromDegrees(llaPos.x, llaPos.y, llaPos.z);

    var DTR = Math.PI/180;
    var attitude = styler.platformOrientation;
    var gimbal = styler.gimbalOrientation;

    ///////////////////////////////////////////////////////////////////////////////////
    // compute rotation matrix to transform lookrays from camera frame to ECEF frame //
    ///////////////////////////////////////////////////////////////////////////////////
    var nedTransform = Transforms.northEastDownToFixedFrame(camPos);
    var camRot = new Matrix3();
    Matrix4.getMatrix3(nedTransform, camRot);
    var rotM = new Matrix3();

    // UAV heading, pitch, roll (given in NED frame)
    var uavHeading = Matrix3.fromRotationZ(attitude.heading * DTR, rotM);
    Matrix3.multiply(camRot, uavHeading, camRot);
    var uavPitch = Matrix3.fromRotationY(attitude.pitch * DTR, rotM);
    Matrix3.multiply(camRot, uavPitch, camRot);
    var uavRoll = Matrix3.fromRotationX(attitude.roll * DTR, rotM);
    Matrix3.multiply(camRot, uavRoll, camRot);

    // gimbal angles (on solo gimbal, order is yaw, roll, pitch!)
    var gimbalYaw = Matrix3.fromRotationZ(gimbal.heading * DTR, rotM);
    Matrix3.multiply(camRot, gimbalYaw, camRot);
    var gimbalRoll = Matrix3.fromRotationX(gimbal.roll * DTR, rotM);
    Matrix3.multiply(camRot, gimbalRoll, camRot);
    var gimbalPitch = Matrix3.fromRotationY((90 + gimbal.pitch) * DTR, rotM);
    Matrix3.multiply(camRot, gimbalPitch, camRot);

    // transform to camera frame
    var img2cam = Matrix3.fromRotationZ(90 * DTR, rotM);
    Matrix3.multiply(camRot, img2cam, camRot);

    ////////////////////////////////////////////////////////////////////////////////////

    var camProj = styler.cameraModel.camProj;
    var camDistR = styler.cameraModel.camDistR;
    var camDistT = styler.cameraModel.camDistT;

    var imgSrc = styler.imageSrc;

    {
      // snapshot
      if (snapshot) {
        var ctx = this.captureCanvas.getContext('2d');
        ctx.drawImage(imgSrc, 0, 0, this.captureCanvas.width, this.captureCanvas.height);
        imgSrc = this.captureCanvas;
      }

      var encCamPos = EncodedCartesian3.fromCartesian(camPos);
      var appearance = new MaterialAppearance({
        material: new Material({
          fabric: {
            type: 'Image',
            uniforms: {
              image: imgSrc,
              camPosHigh: encCamPos.high,
              camPosLow: encCamPos.low,
              camAtt: Matrix3.toArray(Matrix3.transpose(camRot, new Matrix3())),
              camProj: Matrix3.toArray(camProj),
              camDistR: camDistR,
              camDistT: camDistT
            }
          }
        }),
        vertexShaderSource: ImageDrapingVS,
        fragmentShaderSource: ImageDrapingFS
      });

      if (this.imageDrapingPrimitive === null || snapshot) {
        if (this.imageDrapingPrimitive === null) {
          this.imageDrapingPrimitive = {};
        }

        var promise = sampleTerrain(this.viewer.terrainProvider, 11, [Cartographic.fromDegrees(llaPos.x, llaPos.y)]);
        var that = this;
        when(promise, function(updatedPositions) {
          //console.log(updatedPositions[0]);
          var newImageDrapingPrimitive = that.viewer.scene.primitives.add(new Primitive({
            geometryInstances: new GeometryInstance({
              geometry: new RectangleGeometry({
                rectangle: Rectangle.fromDegrees(llaPos.x-0.1, llaPos.y-0.1, llaPos.x+0.1, llaPos.y+0.1),
                height: updatedPositions[0].height,
                extrudedHeight: llaPos.z-1
              })
            }),
            appearance: appearance
          }));

          if (!snapshot) {
            that.imageDrapingPrimitive = newImageDrapingPrimitive;
          }

          that.viewer.scene.primitives.raiseToTop(that.imageDrapingPrimitive);
          that.imageDrapingPrimitiveReady = true;
        });

      } else if (this.imageDrapingPrimitiveReady) {
        this.imageDrapingPrimitive.appearance = appearance;
      }
    }
    this.frameCount++;
  }

  //---------- MAP SETUP --------------//
  beforeAddingItems(options) {
    this.markers = {};
    this.first = true;

    let imageryProviders = createDefaultImageryProviderViewModels();
    this.viewer = new Viewer(this.divId, {
      baseLayerPicker: true,
      imageryProviderViewModels: imageryProviders,
      selectedImageryProviderViewModel: imageryProviders[6],
      timeline: false,
      homeButton: false,
      navigationInstructionsInitiallyVisible: false,
      navigationHelpButton: false,
      geocoder: true,
      fullscreenButton: false,
      showRenderLoopErrors: true,
      animation: false,
      scene3DOnly: true // for draw layer
    });

    this.viewer.terrainProvider = new EllipsoidTerrainProvider();

    this.viewer.scene.copyGlobeDepth = true;
    this.viewer.scene._environmentState.useGlobeDepthFramebuffer = true;

    let self = this;
    knockout.getObservable(this.viewer, '_selectedEntity').subscribe(function (entity) {
      //change icon
      if (defined(entity)) {
        let dataSrcIds = [];
        let entityId;
        for (let stylerId in self.stylerToObj) {
          if (self.stylerToObj[stylerId] === entity._dsid) {
            for (let i = 0; i &lt; self.stylers.length; i++) {
              if (self.stylers[i].getId() === stylerId) {
                dataSrcIds = dataSrcIds.concat(self.stylers[i].getDataSourcesIds());
                entityId = self.stylers[i].viewItem.entityId;
                break;
              }
            }
          }
        }

        EventManager.fire(EventManager.EVENT.SELECT_VIEW, {
          dataSourcesIds: dataSrcIds,
          entityId: entityId
        });
      } else {
        EventManager.fire(EventManager.EVENT.SELECT_VIEW, {
          dataSourcesIds: [],
          entityId: null
        });
      }
    }.bind(this));
  }

  /**
   * Add a marker to the map.
   * @param {Object} properties
   * @param {Number} properties.lon
   * @param {Number} properties.lat
   * @param {String} properties.icon - the icon path
   * @param {String} properties.label - label of the tooltip
   * @param {String} properties.description - description of the marker to display into the tooltip
   * @param {Object} properties.orientation.heading - orientation of the icon in degree
   * @return {string} the id of the new created marker
   */
  addMarker(properties) {

    let imgIcon = 'images/cameralook.png';
    if(properties.icon !== null) {
      imgIcon = properties.icon;
    }
    let isModel = imgIcon.endsWith('.glb');
    let name = properties.label ? properties.label : 'Selected Marker';
    let geom;
    let color = properties.color ? Color.fromCssColorString(properties.color) : Color.YELLOW;
    let description = (properties.description) ? properties.description : null;

    if (isModel)
    {
      geom = {
        name: name,
        description: description,
        position: Cartesian3.fromDegrees(0, 0, 0),
        model: {
          uri: imgIcon,
          scale: 4,
          modelM: Matrix4.IDENTITY.clone(),
          color: color
        }
      };
    }
    else
    {
      let rot = 0;
      if (properties.orientation !== 'undefined') {
        rot = properties.orientation.heading;
      }
      geom = {
        name: name,
        description: description,
        position : Cartesian3.fromDegrees(0, 0, 0),
        billboard : {
          image : imgIcon,
          alignedAxis : Cartesian3.UNIT_Z, // axis is in ENU frame, Z means rotation is from north
          rotation : Math.toRadians(rot),
          scaleByDistance : new NearFarScalar(4, 1, 5e5, 0.2), // set icon scale by distance in meters (near distance, near scale, far distance, far scale)
          horizontalOrigin : HorizontalOrigin.CENTER,
          eyeOffset : new Cartesian3(0,0,-1) // make sure icon always displays in front
        }
      };
    }

    if (properties.hasOwnProperty('description')) {
      geom.description = properties.description;
    }

    let entity = this.viewer.entities.add(geom);
    let id = 'view-marker-'+randomUUID();
    entity._dsid = id;
    this.markers[id] = entity;

    return id;
  }

  /**
   * Updates the marker associated to the styler.
   * @param {String} id - The styler allowing the update of the marker
   * @param {Object} properties -
   * @param {Object} properties.lon -
   * @param {Object} properties.lat -
   * @param {Object} properties.alt -
   * @param {Object} properties.orientation -
   * @param {Object} properties.icon -
   * @param {Object} properties.defaultToTerrainElevation -
   * @param {Object} properties.selected -
   */
  updateMapMarker(id, properties) {
    let lon = properties.lon;
    let lat = properties.lat;
    let alt = properties.alt;
    let orient = properties.orientation;
    let imgIcon = properties.icon;
    let defaultToTerrainElevation = properties.defaultToTerrainElevation;

    if (!isNaN(lon) &amp;&amp; !isNaN(lat)) {
      let marker = this.markers[id];

      // get ground altitude if non specified
      if (typeof (alt) === "undefined" || isNaN(alt)) {
        alt = this.getAltitude(lat, lon);
        if (alt > 1)
          alt += 0.3;
      }

      // update position
      let pos = Cartesian3.fromDegrees(lon, lat, alt);
      marker.position = pos;

      // update orientation
      if (typeof(orient) !== 'undefined') {
        let DTR = Math.PI/180.0;
        let heading = orient.heading;
        let pitch = 0.0;
        let roll = 0.0;
        let quat = Transforms.headingPitchRollQuaternion(pos, new HeadingPitchRoll(heading*DTR, /*roll*DTR*/0.0, pitch*DTR)); // inverse roll and pitch to go from NED to ENU
        marker.orientation = quat;
        if (marker.billboard) {
          marker.billboard.rotation = Math.toRadians(heading);
        }
      }

      // update icon or model
      if (marker.billboard) {
        if (defaultToTerrainElevation) {
          marker.billboard.heightReference = HeightReference.CLAMP_TO_GROUND;
        }
        marker.billboard.image = imgIcon;
      }
      else if (marker.model)  {
        if (defaultToTerrainElevation) {
          marker.model.heightReference = HeightReference.CLAMP_TO_GROUND;
        }
        marker.model.uri = imgIcon;
      }

      // zoom map if first marker update
      if (this.first) {
        this.viewer.zoomTo(this.viewer.entities, new HeadingPitchRange(Math.toRadians(0), Math.toRadians(-90), 2000));
        this.first = false;
      }

      if (properties.selected) {
        this.viewer.selectedEntity = marker;
      }
    }
  }

  /**
   *
   * @private
   */
  getAltitude(lat, lon) {
    let position = Cartesian3.fromDegrees(lon, lat, 0, this.viewer.scene.globe.ellipsoid, new Cartesian3());
    let altitude = this.viewer.scene.globe.getHeight(Ellipsoid.WGS84.cartesianToCartographic(position));

    if (isDefined(altitude) || altitude &lt;= 0) {
      altitude = 0.1;
    }
    return altitude;
  }

  /**
   *
   * @param type
   * @param url
   * @param layers
   * @param imageFormat
   * @param options
   * @return {*}
   */
  addImageryProvider(type, url, layers, imageFormat, options) {
    let minLOD = 0;
    let maxLOD;

    if (options.hasOwnProperty('minLOD')){
      minLOD = options.minLOD;
    }
    if (options.hasOwnProperty('maxLOD')){
      maxLOD = options.maxLOD;
    }

    let imageryProvider;
    if (type === 'wms') {
      imageryProvider = new WebMapServiceImageryProvider({
        url: url,
        layers: layers,
        minimumLevel: minLOD,
        maximumLevel: maxLOD,
        parameters: {
          transparent: 'true',
          format: 'image/' + imageFormat
        }
      });
    }
    // imageryProvider.alpha = 0.5;
    this.viewer.imageryLayers.addImageryProvider(imageryProvider);
    return imageryProvider;
  }
}

export default  CesiumView;
</code></pre>
        </article>
    </section>






        

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.4</a> on Thu Apr 30 2020 02:05:21 GMT+0200 (CEST)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/main.js"></script>
</body>
</html>
