{"map":"{\"version\":3,\"sources\":[\"WorkerName.a114cabac1df52ebc43f.js\"],\"names\":[\"modules\",\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"__webpack_exports__\",\"Math\",\"pow\",\"isDefined\",\"v\",\"randomUUID\",\"replace\",\"random\",\"toString\",\"parsers_DataSourceParser\",\"[object Object]\",\"properties\",\"url\",\"protocol\",\"endpointUrl\",\"service\",\"responseFormat\",\"customUrlParams\",\"keys\",\"length\",\"endsWith\",\"slice\",\"TimeSeriesParser_parser\",\"super\",\"buildUrl\",\"offeringID\",\"observedProperty\",\"stTime\",\"lastTimeStamp\",\"startTime\",\"this\",\"lastStartTime\",\"endTime\",\"replaySpeed\",\"SosGetResultAudio_parser\",\"data\",\"DataView\",\"getFloat64\",\"sampleRate\",\"getUint32\",\"nbSamples\",\"pktLength\",\"frameData\",\"Uint8Array\",\"byteLength\",\"foiId\",\"of\",\"Status\",\"protocol_DataConnector\",\"id\",\"reconnectTimeout\",\"status\",\"reconnectionInterval\",\"clearInterval\",\"checkStatus\",\"checkAndClearReconnection\",\"timeout\",\"disconnect\",\"connect\",\"onChangeStatus\",\"protocol_WebSocketConnector\",\"interval\",\"lastReceiveTime\",\"init\",\"closed\",\"ws\",\"WebSocket\",\"getUrl\",\"binaryType\",\"console\",\"warn\",\"onopen\",\"event\",\"onmessage\",\"Date\",\"now\",\"onMessage\",\"onerror\",\"error\",\"createReconnection\",\"onclose\",\"reason\",\"code\",\"onReconnect\",\"setInterval\",\"delta\",\"readyState\",\"CLOSED\",\"close\",\"OPEN\",\"protocol_Ajax\",\"method\",\"responseType\",\"request\",\"extraUrl\",\"self\",\"xmlhttp\",\"XMLHttpRequest\",\"withCredentials\",\"open\",\"onload\",\"oEvent\",\"response\",\"ontimeout\",\"e\",\"log\",\"send\",\"setRequestHeader\",\"onreadystatechange\",\"onSuccess\",\"responseText\",\"onError\",\"sendRequest\",\"protocol_TopicConnector\",\"broadcastChannel\",\"BroadcastChannel\",\"opened\",\"reconnect\",\"fullDisconnect\",\"removeInterval\",\"EventType\",\"protocol_FileConnector\",\"paths\",\"urls\",\"fetch\",\"workers_DataSourceHandler\",\"parser\",\"connector\",\"values\",\"propertiesStr\",\"topic\",\"dataSourceId\",\"JSON\",\"parse\",\"timeShift\",\"bufferingTime\",\"timeOut\",\"batchSize\",\"createDataConnector\",\"startsWith\",\"setReconnectTimeout\",\"Promise\",\"resolve\",\"parseData\",\"Array\",\"isArray\",\"push\",\"flush\",\"isConnected\",\"flushAll\",\"postMessage\",\"type\",\"nbElements\",\"splice\",\"message\",\"worker\",\"createConnector\",\"setTopic\",\"updateProperties\",\"dataSourceHandler\",\"timeBroadcastChannel\",\"lastStartTimeCst\",\"setUrl\",\"toISOString\",\"timeStamp\",\"parseTimeStamp\",\"timestamp\",\"lastTimestamp\",\"handleMessage\",\"getLastTimeStamp\",\"setTimeTopic\",\"timeTopic\"],\"mappings\":\"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\"}","code":"!function(t){var e={};function s(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=e,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,\"a\",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p=\"\",s(s.s=0)}([function(t,e,s){\"use strict\";s.r(e);Math.pow(2,53);function n(t){return null!=t}function i(){return\"xxxxxxxx-xxxx-xxxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,(function(t){let e=16*Math.random()|0;return(\"x\"===t?e:3&e|8).toString(16)}))}var o=class{buildUrl(t){let e=\"\";if(e+=t.protocol+\"://\",e+=t.endpointUrl+\"?\",e+=\"service=\"+t.service,e+=\"&version=2.0&\",t.responseFormat&&(e+=\"&responseFormat=\"+t.responseFormat),n(t.customUrlParams)&&Object.keys(t.customUrlParams).length>0){e+=\"&\";for(let s in t.customUrlParams)e+=s+\"=\"+t.customUrlParams[s]+\"&\";e.endsWith(\"&\")&&(e=e.slice(0,-1))}return e}};var a=class extends o{buildUrl(t){let e=super.buildUrl(t);e+=\"&request=GetResult\",e+=\"&offering=\"+t.offeringID,e+=\"&observedProperty=\"+t.observedProperty;const s=n(t.lastTimeStamp)?t.lastTimeStamp:t.startTime;return this.lastStartTime=t.startTime,e+=\"&temporalFilter=phenomenonTime,\"+s+\"/\"+t.endTime,t.replaySpeed&&(e+=\"&replaySpeed=\"+t.replaySpeed),e}};var r=class extends a{parseTimeStamp(t){return 1e3*new DataView(t).getFloat64(0,!1)}parseData(t){return{sampleRate:new DataView(t).getUint32(8,!1),nbSamples:new DataView(t).getUint32(12,!1),pktLength:new DataView(t).getUint32(16,!1),frameData:new Uint8Array(t.slice(20,t.byteLength))}}buildUrl(t){let e=super.buildUrl(t);return t.foiId&&\"\"!==t.of&&(e+=\"&featureOfInterest=\"+t.foiId),e}};const c=\"connecting\",h=\"connected\",l=\"disconnected\";var u=class{constructor(t){this.url=t,this.id=\"DataConnector-\"+i(),this.reconnectTimeout=12e4,this.status=l,this.reconnectionInterval=-1}checkAndClearReconnection(){-1!==this.reconnectionInterval&&(clearInterval(this.reconnectionInterval),this.reconnectionInterval=-1)}disconnect(){this.checkStatus(l),this.checkAndClearReconnection()}setUrl(t){this.url=t}getId(){return this.id}getUrl(){return this.url}setReconnectTimeout(t){this.reconnectTimeout=t}onReconnect(){return!0}connect(){}forceReconnect(){this.disconnect(),this.connect()}onChangeStatus(t){}checkStatus(t){t!==this.status&&(this.onChangeStatus(t),this.status=t)}onDisconnect(){}onConnect(){}};var d=class extends u{constructor(t){super(t),this.interval=-1,this.lastReceiveTime=0}async connect(){this.init||(this.closed=!1,this.init=!0,this.ws=new WebSocket(this.getUrl()),this.ws.binaryType=\"arraybuffer\",this.checkStatus(c),console.warn(\"WebSocket stream connecting\"),this.ws.onopen=function(t){this.checkAndClearReconnection(),this.checkStatus(h),console.warn(\"WebSocket stream connected\")}.bind(this),this.ws.onmessage=function(t){this.lastReceiveTime=Date.now(),t.data.byteLength>0&&this.onMessage(t.data)}.bind(this),this.ws.onerror=function(t){console.error(\"WebSocket stream error\"),this.checkStatus(l),this.init=!1,this.lastReceiveTime=-1,this.createReconnection()}.bind(this),this.ws.onclose=t=>{this.checkStatus(l),console.warn(\"WebSocket stream closed: \",t.reason,t.code),this.init=!1,1e3===t.code||this.closed||this.createReconnection()})}createReconnection(){!this.closed&&-1===this.reconnectionInterval&&this.onReconnect()&&(this.reconnectionInterval=setInterval(function(){let t=Date.now()-this.lastReceiveTime;(-1===this.lastReceiveTime||t>=this.reconnectTimeout)&&(console.warn(\"trying to reconnect\",this.url),this.connect())}.bind(this),this.reconnectTimeout))}disconnect(){super.disconnect(),this.init=!1,this.closed=!0,null!=this.ws&&this.ws.readyState!==WebSocket.CLOSED&&this.ws.close()}onMessage(t){}isConnected(){return null!=this.ws&&this.ws.readyState===WebSocket.OPEN}};var p=class extends u{constructor(t,e){super(t),this.method=\"POST\",this.responseType=\"arraybuffer\",n(e)&&(e.method&&(this.method=e.method),e.responseType&&(this.responseType=e.responseType))}sendRequest(t,e){let s=this,i=new XMLHttpRequest;i.withCredentials=!0,i.timeout=6e4,null===t?(n(e)?i.open(\"GET\",this.getUrl()+\"?\"+e,!0):i.open(\"GET\",this.getUrl(),!0),i.responseType=this.responseType,i.onload=t=>{i.response&&s.onMessage(i.response),s.checkStatus(l)},i.ontimeout=t=>{console.log(\"Timeout\"),s.checkStatus(l)},s.checkStatus(h),i.send(null)):(i.open(\"POST\",this.getUrl(),!0),i.setRequestHeader(\"Content-Type\",\"text/xml\"),i.send(t),s.checkStatus(h),i.onreadystatechange=()=>{i.readyState<4||4===i.readyState&&(200===i.status&&i.status<300?s.onSuccess(i.responseText):s.onError(\"\"),s.checkStatus(l))})}onError(t){}onSuccess(t){}connect(){this.sendRequest(null)}isConnected(){return!1}};var m=class extends u{constructor(t){super(t),this.lastReceiveTime=-1,this.interval=-1,this.broadcastChannel=null}connect(){null===this.broadcastChannel&&(this.broadcastChannel=new BroadcastChannel(this.getUrl()),this.broadcastChannel.onmessage=t=>{this.lastReceiveTime=Date.now(),this.onMessage(t.data.data)},this.broadcastChannel.onerror=t=>{console.error(\"BroadcastChannel stream error: \"+t),this.broadcastChannel.close(),this.init=!1,this.lastReceiveTime=-1,this.opened=!1},this.opened=!0,-1===this.interval&&(this.interval=setInterval(function(){let t=Date.now()-this.lastReceiveTime;(-1===this.lastReceiveTime||t>=this.reconnectTimeout)&&(console.warn(`trying to reconnect after ${this.reconnectTimeout} ..`),this.reconnect())}.bind(this),this.reconnectTimeout)))}disconnect(){this.fullDisconnect(!0)}fullDisconnect(t){null!=this.broadcastChannel&&(this.broadcastChannel.close(),this.broadcastChannel=null),t&&clearInterval(this.interval),this.opened=!1}reconnect(){this.onReconnect(),this.init&&this.fullDisconnect(!1),this.connect()}onMessage(t){}close(){this.disconnect()}isConnected(){return null!==this.broadcastChannel&&this.opened}};const S=\"data\",f=\"status\";var g=class extends u{constructor(t){super(t),this.opened=!1}async connect(){if(!this.opened){this.opened=!0,this.onChangeStatus(h);const t=this.getUrl();for(let e of t)this.onMessage(await fetch(e));this.onChangeStatus(l),this.opened=!1}}isConnected(){return this.opened}};var T=class{constructor(t){this.parser=t,this.connector=null,this.reconnectTimeout=1e4,this.values=[]}createConnector(t,e,s){this.dataSourceId=s,null!==this.connector&&(this.connector.disconnect(),this.connector=null),this.broadcastChannel=new BroadcastChannel(e);const i=JSON.parse(t);n(i.timeShift)&&(this.timeShift=i.timeShift),n(i.bufferingTime)&&(this.bufferingTime=i.bufferingTime),n(i.timeOut)&&(this.timeOut=i.timeOut),n(i.reconnectTimeout)&&(this.reconnectTimeout=i.reconnectTimeout),\"now\"===i.startTime?this.batchSize=1:(n(i.replaySpeed)&&(n(i.batchSize)||(this.batchSize=1)),n(i.batchSize)&&(this.batchSize=i.batchSize)),this.properties=i,this.createDataConnector(this.properties)}createDataConnector(t){const e=this.parser.buildUrl({...t,timeShift:this.timeShift});t.protocol.startsWith(\"ws\")?this.connector=new d(e):t.protocol.startsWith(\"http\")?(this.connector=new p(e),this.connector.responseType=t.responseType||\"arraybuffer\"):t.protocol.startsWith(\"topic\")?this.connector=new m(e):t.protocol.startsWith(\"file\")&&(this.connector=new g(e,t)),null!==this.connector&&(this.connector.setReconnectTimeout(this.reconnectTimeout),this.connector.onMessage=this.onMessage.bind(this),this.connector.onChangeStatus=this.onChangeStatus.bind(this))}setTopic(t){n(this.broadcastChannel)&&this.broadcastChannel.close(),this.broadcastChannel=new BroadcastChannel(t),this.topic=t}connect(){null!==this.connector&&this.connector.connect()}disconnect(){null!==this.connector&&this.connector.disconnect()}async onMessage(t){const e=await Promise.resolve(this.parser.parseData(t));if(Array.isArray(e))for(let t=0;t<e.length;t++)this.values.push({data:e[t]}),n(this.batchSize)&&this.values.length>=this.batchSize&&this.flush();else this.values.push({data:e});this.isConnected()?n(this.batchSize)&&0!==this.values.length&&this.values.length>=this.batchSize&&this.flush():this.flushAll()}onChangeStatus(t){t===l&&this.flushAll(),this.broadcastChannel.postMessage({type:f,status:t,dataSourceId:this.dataSourceId})}updateProperties(t){this.disconnect(),this.createDataConnector({...this.properties,...t}),this.connect()}flushAll(){for(;this.values.length>0;)this.flush()}flush(){let t=this.values.length;n(this.batchSize)&&this.values.length>this.batchSize&&(t=this.batchSize),this.broadcastChannel.postMessage({dataSourceId:this.dataSourceId,type:S,values:this.values.splice(0,t)})}isConnected(){return null!==this.connector&&this.connector.isConnected()}handleMessage(t,e){\"init\"===t.message?this.createConnector(t.properties,t.topic,t.id):\"connect\"===t.message?this.connect():\"disconnect\"===t.message?this.disconnect():\"topic\"===t.message?this.setTopic(t.topic):\"update-url\"===t.message?this.updateProperties(t.data):\"is-connected\"===t.message&&e.postMessage({message:\"is-connected\",data:this.isConnected()})}};const b=new class extends T{constructor(t){super(t),this.lastTimeStamp=null,this.lastStartTime=\"now\",this.timeShift=0,this.timeBroadcastChannel=null}createDataConnector(t){super.createDataConnector({...t,timeShift:this.timeShift});const e=this.parser.lastStartTime;this.connector.onReconnect=()=>(\"now\"!==e&&this.connector.setUrl(this.parser.buildUrl({...t,lastTimeStamp:n(this.lastTimeStamp)?new Date(this.lastTimeStamp).toISOString():t.startTime})),!0)}async onMessage(t){const e=await Promise.resolve(this.parser.parseTimeStamp(t)+this.timeShift),s=await Promise.resolve(this.parser.parseData(t));if(Array.isArray(s))for(let t=0;t<s.length;t++)this.values.push({data:s[t],timeStamp:e});else this.values.push({data:s,timeStamp:e});this.lastTimeStamp=e,(\"now\"===this.parser.lastStartTime||n(this.batchSize)&&this.values.length>=this.batchSize)&&(this.flush(),null!==this.timeBroadcastChannel&&this.timeBroadcastChannel.postMessage({timestamp:this.lastTimeStamp}))}getLastTimeStamp(){return this.lastTimeStamp}updateProperties(t){this.disconnect();let e=new Date(this.lastTimeStamp).toISOString();t.hasOwnProperty(\"startTime\")?e=t.startTime:\"now\"===this.properties.startTime&&(e=\"now\"),this.createDataConnector({...this.properties,...t,lastTimeStamp:e}),n(t)&&n(t.reconnect)&&t.reconnect&&this.connect()}handleMessage(t,e){if(super.handleMessage(t,e),\"last-timestamp\"===t.message){const t=this.getLastTimeStamp();e.postMessage({message:\"last-timestamp\",data:t})}else\"topic\"===t.message&&(this.setTimeTopic(t.timeTopic),super.setTopic(t.topic))}setTimeTopic(t){null!==this.timeBroadcastChannel&&this.timeBroadcastChannel.close(),this.timeBroadcastChannel=new BroadcastChannel(t)}}(new r);self.onmessage=t=>{b.handleMessage(t.data,self)}}]);","extractedComments":[]}