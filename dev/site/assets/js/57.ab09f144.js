(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{338:function(t,e,s){"use strict";s.r(e);var a=s(0),o=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"protocols"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#protocols"}},[t._v("#")]),t._v(" Protocols")]),t._v(" "),e("p",[t._v("Protocols define how DataSources should connect to retrieve their data. The main properties passed in the\nDataSource are used, and even depend on the connector used.")]),t._v(" "),e("p",[t._v("Connectors are created and used inside WebWorker so that the main thread is not blocked.")]),t._v(" "),e("h2",{attrs:{id:"how-it-works"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-it-works"}},[t._v("#")]),t._v(" How it works")]),t._v(" "),e("p",[t._v("Connectors, whatever their type, are only intended to create a connection (when it is a remote access to a server)\nor to open a stream (to a file for example). For this, it is necessary to define a certain number of properties in the DataSource.\nFor ease of use, their implementation is hidden and their configuration will be done via the DataSources.")]),t._v(" "),e("p",[t._v("Once the connector retrieves the data, it sends the data to the Broadcast channel of the DataSource that will serve\nthe DataSynchronizer or View.")]),t._v(" "),e("h1",{attrs:{id:"types"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#types"}},[t._v("#")]),t._v(" Types")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Property")]),t._v(" "),e("th",[t._v("Name")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("ws")]),t._v(" "),e("td",[t._v("WebSocket")]),t._v(" "),e("td",[t._v("WebSocket connector")])]),t._v(" "),e("tr",[e("td",[t._v("http")]),t._v(" "),e("td",[t._v("HTTP")]),t._v(" "),e("td",[t._v("Http connector")])]),t._v(" "),e("tr",[e("td",[t._v("topic")]),t._v(" "),e("td",[t._v("Topic")]),t._v(" "),e("td",[t._v("Broadcast channel connector")])]),t._v(" "),e("tr",[e("td",[t._v("file")]),t._v(" "),e("td",[t._v("File")]),t._v(" "),e("td",[t._v("File connector")])]),t._v(" "),e("tr",[e("td",[t._v("mqtt")]),t._v(" "),e("td",[t._v("MQTT")]),t._v(" "),e("td",[t._v("MQTT connector")])])])]),t._v(" "),e("p",[t._v("These connectors have some common properties and some more specific ones")]),t._v(" "),e("DocumentationLoad",{attrs:{path:"/guide/api/DataConnector.html"}}),t._v(" "),e("h2",{attrs:{id:"websocket-protocol-ws"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#websocket-protocol-ws"}},[t._v("#")]),t._v(" WebSocket protocol: '"),e("em",[e("strong",[t._v("ws")])]),t._v("'")]),t._v(" "),e("p",[t._v("The WebSocket connector is used to open a connection to a WebSocket feed.")]),t._v(" "),e("p",[t._v("Within the Toolkit, some options of the dataSources allow to define the remote address of the server, some properties\ndepend on the SOS standard that the OSH server needs to retrieve the data.")]),t._v(" "),e("p",[e("RouterLink",{attrs:{to:"/guide/datasources/sos/swejson.html#example"}},[t._v("See an example")])],1),t._v(" "),e("h2",{attrs:{id:"http-protocol-http"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http-protocol-http"}},[t._v("#")]),t._v(" HTTP protocol: '"),e("em",[e("strong",[t._v("http")])]),t._v("'")]),t._v(" "),e("p",[t._v("The HTTP connector is used to open a connection to a HTTP feed.")]),t._v(" "),e("p",[t._v("Within the Toolkit, some options of the dataSources allow to define the remote address of the server, some properties\ndepend on the SOS standard that the OSH server needs to retrieve the data.")]),t._v(" "),e("h2",{attrs:{id:"mqtt-protocol-mqtt"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mqtt-protocol-mqtt"}},[t._v("#")]),t._v(" MQTT protocol: '"),e("em",[e("strong",[t._v("mqtt")])]),t._v("'")]),t._v(" "),e("p",[t._v("The MQTT connector is used to open a connection to a MQTT feed.")]),t._v(" "),e("p",[t._v("The Toolkit uses a utility class to connect to the MQTT Server. This utility class "),e("code",[t._v("MqttProvider")]),t._v(" is based on the MQTT.js lib\n"),e("a",{attrs:{href:"https://github.com/mqttjs/MQTT.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/mqttjs/MQTT.js"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("It should be noted that for the moment, and given the current architecture of the Toolkit, the MQTT connector is launched\nin a WebWorker. Thus, it is not possible to mutualize the connections to the server between different DataSouces.")]),t._v(" "),e("h2",{attrs:{id:"topic-protocol-topic"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#topic-protocol-topic"}},[t._v("#")]),t._v(" Topic protocol: '"),e("em",[e("strong",[t._v("topic")])]),t._v("'")]),t._v(" "),e("p",[t._v("The Topic connector is used to listen to a BroadcastChannel given a specific topic name.")]),t._v(" "),e("p",[t._v("Example:")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" SosGetResult "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'osh-js/core/datasource/SosGetResult'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SosGetResult")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Example'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("replaySpeed")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Example'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("protocol")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'topic'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("topicName")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'channel-test'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h2",{attrs:{id:"file-protocol-file"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#file-protocol-file"}},[t._v("#")]),t._v(" File protocol: '"),e("em",[e("strong",[t._v("file")])]),t._v("'")]),t._v(" "),e("p",[t._v("The File connector is used to read a file.")]),t._v(" "),e("p",[t._v("It uses the "),e("a",{attrs:{href:"https://loaders.gl/",target:"_blank",rel:"noopener noreferrer"}},[t._v("loaders.gl"),e("OutboundLink")],1),t._v(" library to parse different file types")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" File "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'osh-js/core/datasource/File'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("File")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Example'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Example'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("paths")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://opensensorhub.github.io/osh-js/dev/demos/earthquakes/data/earthquakes.1.csv'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[e("em",[t._v("Note: By default, the DataSource File object defines the 'file' protocol.\nIt is therefore not necessary to define it in its properties.")])])],1)}),[],!1,null,null,null);e.default=o.exports}}]);