define(["./Transforms-62a339c3","./Matrix2-92b7fb9d","./RuntimeError-4fdc4459","./when-8166c7dd","./ComponentDatatype-9ed50558","./ArcType-13a53523","./arrayRemoveDuplicates-198208a4","./EllipsoidGeodesic-133bd147","./EllipsoidRhumbLine-51654311","./EncodedCartesian3-4a314cb8","./GeometryAttribute-6f4c3b93","./IntersectionTests-4f28a69c","./Plane-049255eb","./WebMercatorProjection-6ac42c0a","./combine-a5c4cc47","./WebGLConstants-0664004c"],(function(e,a,t,r,i,n,s,o,l,u,c,C,p,d,h,g){"use strict";function f(t){t=r.defaultValue(t,r.defaultValue.EMPTY_OBJECT),this._ellipsoid=r.defaultValue(t.ellipsoid,a.Ellipsoid.WGS84),this._rectangle=r.defaultValue(t.rectangle,a.Rectangle.MAX_VALUE),this._projection=new e.GeographicProjection(this._ellipsoid),this._numberOfLevelZeroTilesX=r.defaultValue(t.numberOfLevelZeroTilesX,2),this._numberOfLevelZeroTilesY=r.defaultValue(t.numberOfLevelZeroTilesY,1)}Object.defineProperties(f.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}}}),f.prototype.getNumberOfXTilesAtLevel=function(e){return this._numberOfLevelZeroTilesX<<e},f.prototype.getNumberOfYTilesAtLevel=function(e){return this._numberOfLevelZeroTilesY<<e},f.prototype.rectangleToNativeRectangle=function(e,n){t.Check.defined("rectangle",e);var s=i.CesiumMath.toDegrees(e.west),o=i.CesiumMath.toDegrees(e.south),l=i.CesiumMath.toDegrees(e.east),u=i.CesiumMath.toDegrees(e.north);return r.defined(n)?(n.west=s,n.south=o,n.east=l,n.north=u,n):new a.Rectangle(s,o,l,u)},f.prototype.tileXYToNativeRectangle=function(e,a,t,r){var n=this.tileXYToRectangle(e,a,t,r);return n.west=i.CesiumMath.toDegrees(n.west),n.south=i.CesiumMath.toDegrees(n.south),n.east=i.CesiumMath.toDegrees(n.east),n.north=i.CesiumMath.toDegrees(n.north),n},f.prototype.tileXYToRectangle=function(e,t,i,n){var s=this._rectangle,o=this.getNumberOfXTilesAtLevel(i),l=this.getNumberOfYTilesAtLevel(i),u=s.width/o,c=e*u+s.west,C=(e+1)*u+s.west,p=s.height/l,d=s.north-t*p,h=s.north-(t+1)*p;return r.defined(n)||(n=new a.Rectangle(c,h,C,d)),n.west=c,n.south=h,n.east=C,n.north=d,n},f.prototype.positionToTileXY=function(e,t,n){var s=this._rectangle;if(a.Rectangle.contains(s,e)){var o=this.getNumberOfXTilesAtLevel(t),l=this.getNumberOfYTilesAtLevel(t),u=s.width/o,c=s.height/l,C=e.longitude;s.east<s.west&&(C+=i.CesiumMath.TWO_PI);var p=(C-s.west)/u|0;p>=o&&(p=o-1);var d=(s.north-e.latitude)/c|0;return d>=l&&(d=l-1),r.defined(n)?(n.x=p,n.y=d,n):new a.Cartesian2(p,d)}};var m=new a.Cartesian3,w=new a.Cartesian3,v=new a.Cartographic,y=new a.Cartesian3,T=new a.Cartesian3,E=new e.BoundingSphere,M=new f,_=[new a.Cartographic,new a.Cartographic,new a.Cartographic,new a.Cartographic],O=new a.Cartesian2,b={};function A(e){a.Cartographic.fromRadians(e.east,e.north,0,_[0]),a.Cartographic.fromRadians(e.west,e.north,0,_[1]),a.Cartographic.fromRadians(e.east,e.south,0,_[2]),a.Cartographic.fromRadians(e.west,e.south,0,_[3]);var t,r=0,i=0,n=0,s=0,o=b._terrainHeightsMaxLevel;for(t=0;t<=o;++t){for(var l=!1,u=0;u<4;++u){var c=_[u];if(M.positionToTileXY(c,t,O),0===u)n=O.x,s=O.y;else if(n!==O.x||s!==O.y){l=!0;break}}if(l)break;r=n,i=s}if(0!==t)return{x:r,y:i,level:t>o?o:t-1}}b.initialize=function(){var a=b._initPromise;return r.defined(a)||(a=e.Resource.fetchJson(e.buildModuleUrl("Assets/approximateTerrainHeights.json")).then((function(e){b._terrainHeights=e})),b._initPromise=a),a},b.getMinimumMaximumHeights=function(e,i){if(t.Check.defined("rectangle",e),!r.defined(b._terrainHeights))throw new t.DeveloperError("You must call ApproximateTerrainHeights.initialize and wait for the promise to resolve before using this function");i=r.defaultValue(i,a.Ellipsoid.WGS84);var n=A(e),s=b._defaultMinTerrainHeight,o=b._defaultMaxTerrainHeight;if(r.defined(n)){var l=n.level+"-"+n.x+"-"+n.y,u=b._terrainHeights[l];r.defined(u)&&(s=u[0],o=u[1]),i.cartographicToCartesian(a.Rectangle.northeast(e,v),m),i.cartographicToCartesian(a.Rectangle.southwest(e,v),w),a.Cartesian3.midpoint(w,m,y);var c=i.scaleToGeodeticSurface(y,T);if(r.defined(c)){var C=a.Cartesian3.distance(y,c);s=Math.min(s,-C)}else s=b._defaultMinTerrainHeight}return{minimumTerrainHeight:s=Math.max(b._defaultMinTerrainHeight,s),maximumTerrainHeight:o}},b.getBoundingSphere=function(i,n){if(t.Check.defined("rectangle",i),!r.defined(b._terrainHeights))throw new t.DeveloperError("You must call ApproximateTerrainHeights.initialize and wait for the promise to resolve before using this function");n=r.defaultValue(n,a.Ellipsoid.WGS84);var s=A(i),o=b._defaultMaxTerrainHeight;if(r.defined(s)){var l=s.level+"-"+s.x+"-"+s.y,u=b._terrainHeights[l];r.defined(u)&&(o=u[1])}var c=e.BoundingSphere.fromRectangle3D(i,n,0);return e.BoundingSphere.fromRectangle3D(i,n,o,E),e.BoundingSphere.union(c,E,c)},b._terrainHeightsMaxLevel=6,b._defaultMaxTerrainHeight=9e3,b._defaultMinTerrainHeight=-1e5,b._terrainHeights=void 0,b._initPromise=void 0,Object.defineProperties(b,{initialized:{get:function(){return r.defined(b._terrainHeights)}}});var k=[e.GeographicProjection,d.WebMercatorProjection],P=k.length,S=Math.cos(i.CesiumMath.toRadians(30)),L=Math.cos(i.CesiumMath.toRadians(150));function x(e){var i=(e=r.defaultValue(e,r.defaultValue.EMPTY_OBJECT)).positions;if(!r.defined(i)||i.length<2)throw new t.DeveloperError("At least two positions are required.");if(r.defined(e.arcType)&&e.arcType!==n.ArcType.GEODESIC&&e.arcType!==n.ArcType.RHUMB)throw new t.DeveloperError("Valid options for arcType are ArcType.GEODESIC and ArcType.RHUMB.");this.width=r.defaultValue(e.width,1),this._positions=i,this.granularity=r.defaultValue(e.granularity,9999),this.loop=r.defaultValue(e.loop,!1),this.arcType=r.defaultValue(e.arcType,n.ArcType.GEODESIC),this._ellipsoid=a.Ellipsoid.WGS84,this._projectionIndex=0,this._workerName="createGroundPolylineGeometry",this._scene3DOnly=!1}Object.defineProperties(x.prototype,{packedLength:{get:function(){return 1+3*this._positions.length+1+1+1+a.Ellipsoid.packedLength+1+1}}}),x.setProjectionAndEllipsoid=function(e,a){for(var t=0,r=0;r<P;r++)if(a instanceof k[r]){t=r;break}e._projectionIndex=t,e._ellipsoid=a.ellipsoid};var I=new a.Cartesian3,D=new a.Cartesian3,N=new a.Cartesian3;function R(e,t,r,i,n){var s=Y(i,e,0,I),o=Y(i,e,r,D),l=Y(i,t,0,N),u=q(o,s,D),c=q(l,s,N);return a.Cartesian3.cross(c,u,n),a.Cartesian3.normalize(n,n)}var H=new a.Cartographic,z=new a.Cartesian3,B=new a.Cartesian3,G=new a.Cartesian3;function j(e,t,r,i,s,u,c,C,p,d,h){if(0!==s){var g;u===n.ArcType.GEODESIC?g=new o.EllipsoidGeodesic(e,t,c):u===n.ArcType.RHUMB&&(g=new l.EllipsoidRhumbLine(e,t,c));var f=g.surfaceDistance;if(!(f<s))for(var m=R(e,t,i,c,G),w=Math.ceil(f/s),v=f/w,y=v,T=w-1,E=C.length,M=0;M<T;M++){var _=g.interpolateUsingSurfaceDistance(y,H),O=Y(c,_,r,z),b=Y(c,_,i,B);a.Cartesian3.pack(m,C,E),a.Cartesian3.pack(O,p,E),a.Cartesian3.pack(b,d,E),h.push(_.latitude),h.push(_.longitude),E+=3,y+=v}}}var V=new a.Cartographic;function Y(e,t,r,i){return a.Cartographic.clone(t,V),V.height=r,a.Cartographic.toCartesian(V,e,i)}function q(e,t,r){return a.Cartesian3.subtract(e,t,r),a.Cartesian3.normalize(r,r),r}function F(e,t,r,i){return i=q(e,t,i),i=a.Cartesian3.cross(i,r,i),i=a.Cartesian3.normalize(i,i),a.Cartesian3.cross(r,i,i)}x.pack=function(e,i,n){t.Check.typeOf.object("value",e),t.Check.defined("array",i);var s=r.defaultValue(n,0),o=e._positions,l=o.length;i[s++]=l;for(var u=0;u<l;++u){var c=o[u];a.Cartesian3.pack(c,i,s),s+=3}return i[s++]=e.granularity,i[s++]=e.loop?1:0,i[s++]=e.arcType,a.Ellipsoid.pack(e._ellipsoid,i,s),s+=a.Ellipsoid.packedLength,i[s++]=e._projectionIndex,i[s++]=e._scene3DOnly?1:0,i},x.unpack=function(e,i,n){t.Check.defined("array",e);for(var s=r.defaultValue(i,0),o=e[s++],l=new Array(o),u=0;u<o;u++)l[u]=a.Cartesian3.unpack(e,s),s+=3;var c=e[s++],C=1===e[s++],p=e[s++],d=a.Ellipsoid.unpack(e,s);s+=a.Ellipsoid.packedLength;var h=e[s++],g=1===e[s++];return r.defined(n)||(n=new x({positions:l})),n._positions=l,n.granularity=c,n.loop=C,n.arcType=p,n._ellipsoid=d,n._projectionIndex=h,n._scene3DOnly=g,n};var X=new a.Cartesian3,U=new a.Cartesian3,W=new a.Cartesian3,Z=new a.Cartesian3;function J(e,t,r,n,s){var o=q(r,t,Z),l=F(e,t,o,X),u=F(n,t,o,U);if(i.CesiumMath.equalsEpsilon(a.Cartesian3.dot(l,u),-1,i.CesiumMath.EPSILON5))return s=a.Cartesian3.cross(o,l,s),a.Cartesian3.normalize(s,s);s=a.Cartesian3.add(u,l,s),s=a.Cartesian3.normalize(s,s);var c=a.Cartesian3.cross(o,s,W);return a.Cartesian3.dot(u,c)<0&&(s=a.Cartesian3.negate(s,s)),s}var Q=p.Plane.fromPointNormal(a.Cartesian3.ZERO,a.Cartesian3.UNIT_Y),K=new a.Cartesian3,$=new a.Cartesian3,ee=new a.Cartesian3,ae=new a.Cartesian3,te=new a.Cartesian3,re=new a.Cartesian3,ie=new a.Cartographic,ne=new a.Cartographic,se=new a.Cartographic;x.createGeometry=function(t){var o,p,d,h,g,f,m=!t._scene3DOnly,w=t.loop,v=t._ellipsoid,y=t.granularity,T=t.arcType,E=new k[t._projectionIndex](v),M=1e3,_=t._positions,O=_.length;2===O&&(w=!1);var A,P,L,x=new l.EllipsoidRhumbLine(void 0,void 0,v),I=[_[0]];for(p=0;p<O-1;p++)d=_[p],h=_[p+1],A=C.IntersectionTests.lineSegmentPlane(d,h,Q,re),!r.defined(A)||a.Cartesian3.equalsEpsilon(A,d,i.CesiumMath.EPSILON7)||a.Cartesian3.equalsEpsilon(A,h,i.CesiumMath.EPSILON7)||(t.arcType===n.ArcType.GEODESIC?I.push(a.Cartesian3.clone(A)):t.arcType===n.ArcType.RHUMB&&(L=v.cartesianToCartographic(A,ie).longitude,g=v.cartesianToCartographic(d,ie),f=v.cartesianToCartographic(h,ne),x.setEndPoints(g,f),P=x.findIntersectionWithLongitude(L,se),A=v.cartographicToCartesian(P,re),!r.defined(A)||a.Cartesian3.equalsEpsilon(A,d,i.CesiumMath.EPSILON7)||a.Cartesian3.equalsEpsilon(A,h,i.CesiumMath.EPSILON7)||I.push(a.Cartesian3.clone(A)))),I.push(h);w&&(d=_[O-1],h=_[0],A=C.IntersectionTests.lineSegmentPlane(d,h,Q,re),!r.defined(A)||a.Cartesian3.equalsEpsilon(A,d,i.CesiumMath.EPSILON7)||a.Cartesian3.equalsEpsilon(A,h,i.CesiumMath.EPSILON7)||(t.arcType===n.ArcType.GEODESIC?I.push(a.Cartesian3.clone(A)):t.arcType===n.ArcType.RHUMB&&(L=v.cartesianToCartographic(A,ie).longitude,g=v.cartesianToCartographic(d,ie),f=v.cartesianToCartographic(h,ne),x.setEndPoints(g,f),P=x.findIntersectionWithLongitude(L,se),A=v.cartographicToCartesian(P,re),!r.defined(A)||a.Cartesian3.equalsEpsilon(A,d,i.CesiumMath.EPSILON7)||a.Cartesian3.equalsEpsilon(A,h,i.CesiumMath.EPSILON7)||I.push(a.Cartesian3.clone(A)))));var D=I.length,N=new Array(D);for(p=0;p<D;p++){var H=a.Cartographic.fromCartesian(I[p],v);H.height=0,N[p]=H}if(!((D=(N=s.arrayRemoveDuplicates(N,a.Cartographic.equalsEpsilon)).length)<2)){var z=[],B=[],G=[],V=[],F=K,X=$,U=ee,W=ae,Z=te,oe=N[0],le=N[1];for(F=Y(v,N[D-1],0,F),W=Y(v,le,0,W),X=Y(v,oe,0,X),U=Y(v,oe,M,U),Z=w?J(F,X,U,W,Z):R(oe,le,M,v,Z),a.Cartesian3.pack(Z,B,0),a.Cartesian3.pack(X,G,0),a.Cartesian3.pack(U,V,0),z.push(oe.latitude),z.push(oe.longitude),j(oe,le,0,M,y,T,v,B,G,V,z),p=1;p<D-1;++p){F=a.Cartesian3.clone(X,F),X=a.Cartesian3.clone(W,X);var ue=N[p];Y(v,ue,M,U),Y(v,N[p+1],0,W),J(F,X,U,W,Z),o=B.length,a.Cartesian3.pack(Z,B,o),a.Cartesian3.pack(X,G,o),a.Cartesian3.pack(U,V,o),z.push(ue.latitude),z.push(ue.longitude),j(N[p],N[p+1],0,M,y,T,v,B,G,V,z)}var Ce=N[D-1],pe=N[D-2];if(X=Y(v,Ce,0,X),U=Y(v,Ce,M,U),w){var de=N[0];Z=J(F=Y(v,pe,0,F),X,U,W=Y(v,de,0,W),Z)}else Z=R(pe,Ce,M,v,Z);if(o=B.length,a.Cartesian3.pack(Z,B,o),a.Cartesian3.pack(X,G,o),a.Cartesian3.pack(U,V,o),z.push(Ce.latitude),z.push(Ce.longitude),w){for(j(Ce,oe,0,M,y,T,v,B,G,V,z),o=B.length,p=0;p<3;++p)B[o+p]=B[p],G[o+p]=G[p],V[o+p]=V[p];z.push(oe.latitude),z.push(oe.longitude)}return function(t,r,n,s,o,l,C){var p,d,h,g,f,m,w=r._ellipsoid,v=n.length/3-1,y=8*v,T=4*y,E=36*v,M=y>65535?new Uint32Array(E):new Uint16Array(E),_=new Float64Array(3*y),O=new Float32Array(T),A=new Float32Array(T),k=new Float32Array(T),P=new Float32Array(T),L=new Float32Array(T);C&&(h=new Float32Array(T),g=new Float32Array(T),f=new Float32Array(T),m=new Float32Array(2*y));var x=l.length/2,I=0,D=Te;D.height=0;var N=Ee;N.height=0;var R=Me,H=_e;if(C)for(d=0,p=1;p<x;p++)D.latitude=l[d],D.longitude=l[d+1],N.latitude=l[d+2],N.longitude=l[d+3],R=r.project(D,R),H=r.project(N,H),I+=a.Cartesian3.distance(R,H),d+=2;var z=s.length/3;H=a.Cartesian3.unpack(s,0,H);var B,G=0;for(d=3,p=1;p<z;p++)R=a.Cartesian3.clone(H,R),H=a.Cartesian3.unpack(s,d,H),G+=a.Cartesian3.distance(R,H),d+=3;d=3;var j=0,V=0,Y=0,F=0,X=!1,U=a.Cartesian3.unpack(n,0,be),W=a.Cartesian3.unpack(s,0,_e),Z=a.Cartesian3.unpack(o,0,ke);t&&ce(Z,a.Cartesian3.unpack(n,n.length-6,Oe),U,W)&&(Z=a.Cartesian3.negate(Z,Z));var J=0,Q=0,K=0;for(p=0;p<v;p++){var $,ee,ae,te,re=a.Cartesian3.clone(U,Oe),ie=a.Cartesian3.clone(W,Me),ne=a.Cartesian3.clone(Z,Ae);if(X&&(ne=a.Cartesian3.negate(ne,ne)),U=a.Cartesian3.unpack(n,d,be),W=a.Cartesian3.unpack(s,d,_e),X=ce(Z=a.Cartesian3.unpack(o,d,ke),re,U,W),D.latitude=l[j],D.longitude=l[j+1],N.latitude=l[j+2],N.longitude=l[j+3],C){var se=ye(D,N);$=r.project(D,Ne);var oe=q(ee=r.project(N,Re),$,Ue);oe.y=Math.abs(oe.y),ae=He,te=ze,0===se||a.Cartesian3.dot(oe,a.Cartesian3.UNIT_Y)>S?(ae=he(r,D,ne,$,He),te=he(r,N,Z,ee,ze)):1===se?(te=he(r,N,Z,ee,ze),ae.x=0,ae.y=i.CesiumMath.sign(D.longitude-Math.abs(N.longitude)),ae.z=0):(ae=he(r,D,ne,$,He),te.x=0,te.y=i.CesiumMath.sign(D.longitude-N.longitude),te.z=0)}var le=a.Cartesian3.distance(ie,W),ue=u.EncodedCartesian3.fromCartesian(re,Fe),Ce=a.Cartesian3.subtract(U,re,Be),pe=a.Cartesian3.normalize(Ce,Ve),de=a.Cartesian3.subtract(ie,re,Ge);de=a.Cartesian3.normalize(de,de);var ge=a.Cartesian3.cross(pe,de,Ve);ge=a.Cartesian3.normalize(ge,ge);var fe=a.Cartesian3.cross(de,ne,Ye);fe=a.Cartesian3.normalize(fe,fe);var we=a.Cartesian3.subtract(W,U,je);we=a.Cartesian3.normalize(we,we);var ea=a.Cartesian3.cross(Z,we,qe);ea=a.Cartesian3.normalize(ea,ea);var aa,ta,ra,ia=le/G,na=J/G,sa=0,oa=0,la=0;if(C){sa=a.Cartesian3.distance($,ee),aa=u.EncodedCartesian3.fromCartesian($,Xe),ta=a.Cartesian3.subtract(ee,$,Ue);var ua=(ra=a.Cartesian3.normalize(ta,We)).x;ra.x=ra.y,ra.y=-ua,oa=sa/I,la=Q/I}for(B=0;B<8;B++){var ca=F+4*B,Ca=V+2*B,pa=ca+3,da=B<4?1:-1,ha=2===B||3===B||6===B||7===B?1:-1;a.Cartesian3.pack(ue.high,O,ca),O[pa]=Ce.x,a.Cartesian3.pack(ue.low,A,ca),A[pa]=Ce.y,a.Cartesian3.pack(fe,k,ca),k[pa]=Ce.z,a.Cartesian3.pack(ea,P,ca),P[pa]=ia*da,a.Cartesian3.pack(ge,L,ca);var ga=na*ha;0===ga&&ha<0&&(ga=9),L[pa]=ga,C&&(h[ca]=aa.high.x,h[ca+1]=aa.high.y,h[ca+2]=aa.low.x,h[ca+3]=aa.low.y,f[ca]=-ae.y,f[ca+1]=ae.x,f[ca+2]=te.y,f[ca+3]=-te.x,g[ca]=ta.x,g[ca+1]=ta.y,g[ca+2]=ra.x,g[ca+3]=ra.y,m[Ca]=oa*da,0==(ga=la*ha)&&ha<0&&(ga=9),m[Ca+1]=ga)}var fa=Ie,ma=De,wa=Le,va=xe,ya=a.Rectangle.fromCartographicArray(Pe,Se),Ta=b.getMinimumMaximumHeights(ya,w),Ea=Ta.minimumTerrainHeight,Ma=Ta.maximumTerrainHeight;K+=Ea,K+=Ma,me(re,ie,Ea,Ma,fa,wa),me(U,W,Ea,Ma,ma,va);var _a=a.Cartesian3.multiplyByScalar(ge,i.CesiumMath.EPSILON5,Ze);a.Cartesian3.add(fa,_a,fa),a.Cartesian3.add(ma,_a,ma),a.Cartesian3.add(wa,_a,wa),a.Cartesian3.add(va,_a,va),ve(fa,ma),ve(wa,va),a.Cartesian3.pack(fa,_,Y),a.Cartesian3.pack(ma,_,Y+3),a.Cartesian3.pack(va,_,Y+6),a.Cartesian3.pack(wa,_,Y+9),_a=a.Cartesian3.multiplyByScalar(ge,-2*i.CesiumMath.EPSILON5,Ze),a.Cartesian3.add(fa,_a,fa),a.Cartesian3.add(ma,_a,ma),a.Cartesian3.add(wa,_a,wa),a.Cartesian3.add(va,_a,va),ve(fa,ma),ve(wa,va),a.Cartesian3.pack(fa,_,Y+12),a.Cartesian3.pack(ma,_,Y+15),a.Cartesian3.pack(va,_,Y+18),a.Cartesian3.pack(wa,_,Y+21),j+=2,d+=3,V+=16,Y+=24,F+=32,J+=le,Q+=sa}d=0;var Oa=0;for(p=0;p<v;p++){for(B=0;B<Ke;B++)M[d+B]=Qe[B]+Oa;Oa+=8,d+=Ke}var ba=Je;e.BoundingSphere.fromVertices(n,a.Cartesian3.ZERO,3,ba[0]),e.BoundingSphere.fromVertices(s,a.Cartesian3.ZERO,3,ba[1]);var Aa=e.BoundingSphere.fromBoundingSpheres(ba);Aa.radius+=K/(2*v);var ka={position:new c.GeometryAttribute({componentDatatype:i.ComponentDatatype.DOUBLE,componentsPerAttribute:3,normalize:!1,values:_}),startHiAndForwardOffsetX:$e(O),startLoAndForwardOffsetY:$e(A),startNormalAndForwardOffsetZ:$e(k),endNormalAndTextureCoordinateNormalizationX:$e(P),rightNormalAndTextureCoordinateNormalizationY:$e(L)};return C&&(ka.startHiLo2D=$e(h),ka.offsetAndRight2D=$e(g),ka.startEndNormals2D=$e(f),ka.texcoordNormalization2D=new c.GeometryAttribute({componentDatatype:i.ComponentDatatype.FLOAT,componentsPerAttribute:2,normalize:!1,values:m})),new c.Geometry({attributes:ka,indices:M,boundingSphere:Aa})}(w,E,G,V,B,z,m)}};var oe=new a.Cartesian3,le=new a.Matrix3,ue=new e.Quaternion;function ce(t,r,n,s){var o=q(n,r,oe),l=a.Cartesian3.dot(o,t);if(l>S||l<L){var u=q(s,n,Z),c=l<L?i.CesiumMath.PI_OVER_TWO:-i.CesiumMath.PI_OVER_TWO,C=e.Quaternion.fromAxisAngle(u,c,ue),p=a.Matrix3.fromQuaternion(C,le);return a.Matrix3.multiplyByVector(p,t,t),!0}return!1}var Ce=new a.Cartographic,pe=new a.Cartesian3,de=new a.Cartesian3;function he(e,t,r,n,s){var o=a.Cartographic.toCartesian(t,e._ellipsoid,pe),l=a.Cartesian3.add(o,r,de),u=!1,c=e._ellipsoid,C=c.cartesianToCartographic(l,Ce);Math.abs(t.longitude-C.longitude)>i.CesiumMath.PI_OVER_TWO&&(u=!0,l=a.Cartesian3.subtract(o,r,de),C=c.cartesianToCartographic(l,Ce)),C.height=0;var p=e.project(C,s);return(s=a.Cartesian3.subtract(p,n,s)).z=0,s=a.Cartesian3.normalize(s,s),u&&a.Cartesian3.negate(s,s),s}var ge=new a.Cartesian3,fe=new a.Cartesian3;function me(e,t,r,i,n,s){var o=a.Cartesian3.subtract(t,e,ge);a.Cartesian3.normalize(o,o);var l=r-0,u=a.Cartesian3.multiplyByScalar(o,l,fe);a.Cartesian3.add(e,u,n);var c=i-1e3;u=a.Cartesian3.multiplyByScalar(o,c,fe),a.Cartesian3.add(t,u,s)}var we=new a.Cartesian3;function ve(e,t){var r=p.Plane.getPointDistance(Q,e),n=p.Plane.getPointDistance(Q,t),s=we;i.CesiumMath.equalsEpsilon(r,0,i.CesiumMath.EPSILON2)?(s=q(t,e,s),a.Cartesian3.multiplyByScalar(s,i.CesiumMath.EPSILON2,s),a.Cartesian3.add(e,s,e)):i.CesiumMath.equalsEpsilon(n,0,i.CesiumMath.EPSILON2)&&(s=q(e,t,s),a.Cartesian3.multiplyByScalar(s,i.CesiumMath.EPSILON2,s),a.Cartesian3.add(t,s,t))}function ye(e,a){var t=Math.abs(e.longitude),r=Math.abs(a.longitude);if(i.CesiumMath.equalsEpsilon(t,i.CesiumMath.PI,i.CesiumMath.EPSILON11)){var n=i.CesiumMath.sign(a.longitude);return e.longitude=n*(t-i.CesiumMath.EPSILON11),1}if(i.CesiumMath.equalsEpsilon(r,i.CesiumMath.PI,i.CesiumMath.EPSILON11)){var s=i.CesiumMath.sign(e.longitude);return a.longitude=s*(r-i.CesiumMath.EPSILON11),2}return 0}var Te=new a.Cartographic,Ee=new a.Cartographic,Me=new a.Cartesian3,_e=new a.Cartesian3,Oe=new a.Cartesian3,be=new a.Cartesian3,Ae=new a.Cartesian3,ke=new a.Cartesian3,Pe=[Te,Ee],Se=new a.Rectangle,Le=new a.Cartesian3,xe=new a.Cartesian3,Ie=new a.Cartesian3,De=new a.Cartesian3,Ne=new a.Cartesian3,Re=new a.Cartesian3,He=new a.Cartesian3,ze=new a.Cartesian3,Be=new a.Cartesian3,Ge=new a.Cartesian3,je=new a.Cartesian3,Ve=new a.Cartesian3,Ye=new a.Cartesian3,qe=new a.Cartesian3,Fe=new u.EncodedCartesian3,Xe=new u.EncodedCartesian3,Ue=new a.Cartesian3,We=new a.Cartesian3,Ze=new a.Cartesian3,Je=[new e.BoundingSphere,new e.BoundingSphere],Qe=[0,2,1,0,3,2,0,7,3,0,4,7,0,5,4,0,1,5,5,7,4,5,6,7,5,2,6,5,1,2,3,6,2,3,7,6],Ke=Qe.length;function $e(e){return new c.GeometryAttribute({componentDatatype:i.ComponentDatatype.FLOAT,componentsPerAttribute:4,normalize:!1,values:e})}return x._projectNormal=he,function(e,a){return b.initialize().then((function(){return r.defined(a)&&(e=x.unpack(e,a)),x.createGeometry(e)}))}}));