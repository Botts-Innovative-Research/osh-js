!function(Q){var B={};function I(F){if(B[F])return B[F].exports;var U=B[F]={i:F,l:!1,exports:{}};return Q[F].call(U.exports,U,U.exports,I),U.l=!0,U.exports}I.m=Q,I.c=B,I.d=function(Q,B,F){I.o(Q,B)||Object.defineProperty(Q,B,{enumerable:!0,get:F})},I.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},I.t=function(Q,B){if(1&B&&(Q=I(Q)),8&B)return Q;if(4&B&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var F=Object.create(null);if(I.r(F),Object.defineProperty(F,"default",{enumerable:!0,value:Q}),2&B&&"string"!=typeof Q)for(var U in Q)I.d(F,U,function(B){return Q[B]}.bind(null,U));return F},I.n=function(Q){var B=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return I.d(B,"a",B),B},I.o=function(Q,B){return Object.prototype.hasOwnProperty.call(Q,B)},I.p="",I(I.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/utils/Utils.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n/** * @module Utils */\n\n/** Maximum value of a long */\nconst MAX_LONG = Math.pow(2, 53) + 1;\n/**\n * Global helper method to test if a letiable or object attribute is defined\n */\n\nfunction isDefined(v) {\n  return typeof v !== 'undefined' && v !== null;\n}\n/**\n Global helper method to test if a letiable or object attribute has a value,\n that is it is defined and non null\n */\n\nfunction hasValue(v) {\n  return isDefined(v) && v !== null;\n}\n/**\n Global helper method to transform hex color into RGBA\n */\n\nfunction hex2rgb(hex) {\n  const [r, g, b] = hex.match(/\\w\\w/g).map(x => parseInt(x, 16));\n  return [r, g, b];\n}\n/**\n Global helper method to test if a letiable or object attribute is of a particular type\n */\n\nfunction hasType(v, expectedType) {\n  let hasVal = hasValue(v);\n  return hasVal && typeof v === expectedType;\n}\n/**\n Global helper method to test if a letiable or object attribute is an object\n */\n\nfunction isObject(v, letName) {\n  return hasType(v, 'object', letName);\n}\n/**\n Global helper method to test if a letiable or object attribute is an array\n */\n\nfunction isArray(v) {\n  return isDefined(v) && Array.isArray(v);\n}\n/**\n Global helper method to test if a letiable or object attribute is a function\n */\n\nfunction isFunction(v, letName) {\n  return hasType(v, 'function', letName);\n}\n/**\n Assert that a letiable or object attribute is defined\n **/\n\nfunction assertDefined(v, letName = 'letiable') {\n  if (!isDefined(v)) {\n    throw letName + \" must be defined\";\n  }\n\n  return v;\n}\n/**\n Assert that a letiable or object attribute is defined and non-null\n **/\n\nfunction assertType(v, expectedType, letName = 'letiable') {\n  assertDefined(v, letName);\n\n  if (typeof v !== expectedType) {\n    throw letName + \" must be of type \" + expectedType;\n  }\n\n  return v;\n}\n/**\n Assert that a letiable or object attribute is a string\n **/\n\nfunction assertBoolean(v, letName) {\n  return assertType(v, 'boolean', letName);\n}\n/**\n Assert that a letiable or object attribute is a string\n **/\n\nfunction assertString(v, letName) {\n  return assertType(v, 'string', letName);\n}\n/**\n Assert that a letiable or object attribute is a number\n **/\n\nfunction assertNumber(v, letName) {\n  return assertType(v, 'number', letName);\n}\n/**\n Assert that a letiable or object attribute is a number\n **/\n\nfunction assertPositive(v, letName) {\n  assertNumber(v, letName);\n\n  if (v <= 0) {\n    throw letName + \" must be a positive number\";\n  }\n}\n/**\n Assert that a letiable or object attribute is an object\n **/\n\nfunction assertObject(v, letName) {\n  return assertType(v, 'object', letName);\n}\n/**\n Assert that a letiable or object attribute is an object\n **/\n\nfunction assertArray(v, letName = 'letiable') {\n  assertDefined(v, letName);\n\n  if (!Array.isArray(v)) {\n    throw letName + \" must be an array\";\n  }\n\n  return v;\n}\n/**\n Assert that a letiable or object attribute is a function\n **/\n\nfunction assertFunction(v, letName) {\n  return assertType(v, 'function', letName);\n}\n/**\n Assert that a letiable or object attribute is defined and non-null\n **/\n\nfunction assertHasValue(v, letName = 'letiable') {\n  assertDefined(v, letName);\n\n  if (!hasValue(v)) {\n    throw letName + \" must not be null\";\n  }\n\n  return v;\n}\n/**\n *\n * @return {String}\n */\n\nfunction randomUUID() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    let r = Math.random() * 16 | 0,\n        v = c === 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\n/**\n * This function stamps/embeds a UUID into an object and returns the UUID generated for it\n * @return {String}\n */\n\nfunction stampUUID(obj) {\n  obj._osh_id = obj._osh_id || randomUUID();\n  return obj._osh_id;\n} //buffer is an ArrayBuffer object, the offset if specified in bytes, and the type is a string\n//corresponding to an OGC data type.\n//See http://def.seegrid.csiro.au/sissvoc/ogc-def/resource?uri=http://www.opengis.net/def/dataType/OGC/0/\n\n/**\n *\n * @param buffer\n * @param offset\n * @param type\n * @return {*}\n */\n\nfunction ParseBytes(buffer, offset, type) {\n  let view = new DataView(buffer); //Note: There exist types not listed in the map below that have OGC definitions, but no appropriate\n  //methods or corresponding types available for parsing in javascript. They are float128, float16, signedLong,\n  //and unsignedLong\n\n  let typeMap = {\n    double: function (offset) {\n      return {\n        val: view.getFloat64(offset),\n        bytes: 8\n      };\n    },\n    float64: function (offset) {\n      return {\n        val: view.getFloat64(offset),\n        bytes: 8\n      };\n    },\n    float32: function (offset) {\n      return {\n        val: view.getFloat32(offset),\n        bytes: 4\n      };\n    },\n    signedByte: function (offset) {\n      return {\n        val: view.getInt8(offset),\n        bytes: 1\n      };\n    },\n    signedInt: function (offset) {\n      return {\n        val: view.getInt32(offset),\n        bytes: 4\n      };\n    },\n    signedShort: function (offset) {\n      return {\n        val: view.getInt16(offset),\n        bytes: 2\n      };\n    },\n    unsignedByte: function (offset) {\n      return {\n        val: view.getUint8(offset),\n        bytes: 1\n      };\n    },\n    unsignedInt: function (offset) {\n      return {\n        val: view.getUint32(offset),\n        bytes: 4\n      };\n    },\n    unsignedShort: function (offset) {\n      return {\n        val: view.getUint16(offset),\n        bytes: 2\n      };\n    } //TODO: string-utf-8:\n\n  };\n  return typeMap[type](offset);\n} //This function recursivley iterates over the resultStructure to fill in\n//values read from data which should be an ArrayBuffer containing the payload from a websocket\n\n/**\n *\n * @param struct\n * @param data\n * @param offsetBytes\n * @return {*}\n */\n\nfunction ReadData(struct, data, offsetBytes) {\n  let offset = offsetBytes;\n\n  for (let i = 0; i < struct.fields.length; i++) {\n    let currFieldStruct = struct.fields[i];\n\n    if (isDefined(currFieldStruct.type) && currFieldStruct.type !== null) {\n      let ret = ParseBytes(data, offset, currFieldStruct.type);\n      currFieldStruct.val = ret.val;\n      offset += ret.bytes;\n    } else if (isDefined(currFieldStruct.count) && currFieldStruct.count !== null) {\n      //check if count is a reference to another letiable\n      if (isNaN(currFieldStruct.count)) {\n        let id = currFieldStruct.count;\n        let fieldName = struct.id2FieldMap[id];\n        currFieldStruct.count = struct.findFieldByName(fieldName).val;\n      }\n\n      for (let c = 0; c < currFieldStruct.count; c++) {\n        for (let j = 0; j < currFieldStruct.fields.length; j++) {\n          let field = JSON.parse(JSON.stringify(currFieldStruct.fields[j]));\n          offset = ReadData(field, data, offset);\n          currFieldStruct.val.push(field);\n        }\n      }\n    }\n  }\n\n  return offset;\n}\n/**\n *\n * @param resultStructure\n * @return {{}}\n */\n\nfunction GetResultObject(resultStructure) {\n  //TODO: handle cases for nested arrays / matrix data types\n  let result = {};\n\n  for (let i = 0; i < resultStructure.fields.length; i++) {\n    if (isDefined(resultStructure.fields[i].count)) {\n      result[resultStructure.fields[i].name] = [];\n\n      for (let c = 0; c < resultStructure.fields[i].count; c++) {\n        let item = {};\n\n        for (let k = 0; k < resultStructure.fields[i].val[c].fields.length; k++) {\n          item[resultStructure.fields[i].val[c].fields[k].name] = resultStructure.fields[i].val[c].fields[k].val;\n        }\n\n        result[resultStructure.fields[i].name].push(item);\n      }\n    } else {\n      result[resultStructure.fields[i].name] = resultStructure.fields[i].val;\n    }\n  }\n\n  return result;\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isOpera() {\n  return !!window.opr && !!opr.addons || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isFirefox() {\n  return typeof InstallTrigger !== 'undefined';\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isSafari() {\n  return Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0;\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isChrome() {\n  return !!window.chrome && !!window.chrome.webstore;\n}\n/**\n *\n * @return {*|boolean}\n */\n\nfunction isBlink() {\n  return (isChrome || isOpera) && !!window.CSS;\n}\n/**\n *\n * @param a\n * @param b\n * @return {boolean}\n */\n\nfunction isArrayIntersect(a, b) {\n  return a.filter(function (element) {\n    return b.indexOf(element) > -1;\n  }).length > 0;\n}\n/**\n *\n * @param o\n * @return {boolean}\n */\n\nfunction isElement(o) {\n  return typeof HTMLElement === \"object\" ? o instanceof HTMLElement : //DOM2\n  o && typeof o === \"object\" && o !== null && o.nodeType === 1 && typeof o.nodeName === \"string\";\n}\n/**\n *\n * @return {*}\n */\n\nfunction isWebWorker() {\n  return isDefined(Worker);\n}\n/**\n *\n * @param div\n */\n\nfunction takeScreenShot(div) {}\n/**\n * Remove a css class from a the div given as argument.\n * @param div the div to remove the class from\n * @param css the css class to remove\n */\n\nfunction removeCss(div, css) {\n  let divCss = div.className;\n  css = divCss.replace(css, \"\");\n  div.className = css;\n}\n/**\n * Add a css class to a the div given as argument.\n * @param div the div to add the class to\n * @param css the css class to add\n */\n\nfunction addCss(div, css) {\n  div.setAttribute(\"class\", div.className + \" \" + css);\n}\n/**\n * Removes the last character of a {string} object.\n * @param {string} value - The input {string}\n * @return {string} The value without the last character\n */\n\nfunction removeLastCharIfExist(value) {\n  if (!isDefined(undefined) || value === null || value.length === 0 || !value.endsWith(\"/\")) {\n    return value;\n  }\n\n  return value.substring(0, value.length - 1);\n}\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/datareceiver/parsers/DataSourceParser.js\n\n\nclass DataSourceParser_DataSourceParser {\n  /**\n   * Builds the full url.\n   * @protected\n   * @param {Object} properties\n   * @param {String} properties.protocol the connector protocol\n   * @param {String} properties.endpointUrl the endpoint url\n   * @param {String} properties.service the service\n   * @param {String} properties.offeringID the offeringID\n   * @param {String} properties.observedProperty the observed property\n   * @param {String} properties.startTime the start time (ISO format)\n   * @param {String} properties.endTime the end time (ISO format)\n   * @param {Number} properties.replaySpeed the replay factor\n   * @param {Number} properties.responseFormat the response format (e.g video/mp4)\n   * @param {Date} properties.lastTimeStamp - the last timestamp to start at this time (ISO String)\n   * @param {Object} properties.customUrlParams - the encoding options\n   * @param {Number} properties.customUrlParams.video_bitrate - define a custom bitrate (in b/s)\n   * @param {Number} properties.customUrlParams.video_scale - define a custom scale, 0.0 < value < 1.0\n   * @param {Number} properties.customUrlParams.video_width - define a custom width\n   * @param {Number} properties.customUrlParams.video_height - define a custom height\n   * @return {String} the full url\n   */\n  buildUrl(properties) {\n    let url = \"\"; // adds protocol\n\n    url += properties.protocol + \"://\"; // adds endpoint url\n\n    url += properties.endpointUrl + \"?\"; // adds service\n\n    url += \"service=\" + properties.service + \"&\"; // adds version\n\n    url += \"version=2.0&\"; // adds request\n\n    url += \"request=GetResult&\"; // adds offering\n\n    url += \"offering=\" + properties.offeringID + \"&\"; // adds feature of interest urn\n\n    if (properties.foiURN && properties.foiURN !== '') {\n      url += 'featureOfInterest=' + properties.foiURN + '&';\n    } // adds observedProperty\n\n\n    url += \"observedProperty=\" + properties.observedProperty + \"&\"; // adds temporalFilter\n\n    const stTime = isDefined(properties.lastTimeStamp) ? properties.lastTimeStamp : properties.startTime;\n    this.lastStartTime = properties.startTime;\n    let endTime = properties.endTime;\n    url += \"temporalFilter=phenomenonTime,\" + stTime + \"/\" + endTime + \"&\";\n\n    if (properties.replaySpeed) {\n      // adds replaySpeed\n      url += \"replaySpeed=\" + properties.replaySpeed;\n    } // adds responseFormat (optional)\n\n\n    if (properties.responseFormat) {\n      url += \"&responseFormat=\" + properties.responseFormat;\n    }\n\n    if (isDefined(properties.customUrlParams) && Object.keys(properties.customUrlParams).length > 0) {\n      url += '&';\n\n      for (let key in properties.customUrlParams) {\n        url += key + '=' + properties.customUrlParams[key] + '&';\n      }\n\n      if (url.endsWith('&')) {\n        url = url.slice(0, -1);\n      }\n    }\n\n    return url;\n  }\n\n}\n\n/* harmony default export */ var parsers_DataSourceParser = (DataSourceParser_DataSourceParser);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/datareceiver/parsers/SweJson.parser.js\n\n\nclass SweJson_parser_SweJsonParser extends parsers_DataSourceParser {\n  /**\n   * Extracts timestamp from the message. The timestamp corresponds to the 'time' attribute of the JSON object.\n   * @param {String} data - the data to parse\n   * @return {Number} the extracted timestamp\n   */\n  parseTimeStamp(data) {\n    let rec = String.fromCharCode.apply(null, new Uint8Array(data));\n    return new Date(JSON.parse(rec)['time']).getTime();\n  }\n  /**\n   * Extract data from the message. The data are corresponding to the whole list of attributes of the JSON object\n   * excepting the 'time' one.\n   * @param {Object} data - the data to parse\n   * @return {Object} the parsed data\n   * @example\n   * {\n   *   location : {\n   *    lat:43.61758626,\n   *    lon: 1.42376557,\n   *    alt:100\n   *   }\n   * }\n   */\n\n\n  parseData(data) {\n    let rec = JSON.parse(String.fromCharCode.apply(null, new Uint8Array(data)));\n    let result = {};\n\n    for (let key in rec) {\n      if (key !== 'time') {\n        result[key] = rec[key];\n      }\n    }\n\n    return result;\n  }\n\n  buildUrl(properties) {\n    return super.buildUrl({ ...properties,\n      responseFormat: 'application/json'\n    });\n  }\n\n}\n\n/* harmony default export */ var SweJson_parser = (SweJson_parser_SweJsonParser);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/dataconnector/Status.js\n/**\n * Enum for connection status.\n * @readonly\n * @enum {{name: string}}\n */\nconst Status = {\n  CONNECTED: \"connected\",\n  DISCONNECTED: \"disconnected\"\n};\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/dataconnector/DataConnector.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * The DataConnector is the abstract class used to create different connectors.\n */\n\nclass DataConnector_DataConnector {\n  /**\n   * @param {String} url - The full url used to connect to the data stream\n   */\n  constructor(url) {\n    this.url = url;\n    this.id = \"DataConnector-\" + randomUUID();\n    this.reconnectTimeout = 1000 * 60 * 2; //2 min\n\n    this.status = Status.DISCONNECTED;\n    this.reconnectionInterval = -1;\n  }\n\n  checkAndClearReconnection() {\n    if (this.reconnectionInterval !== -1) {\n      clearInterval(this.reconnectionInterval);\n      this.reconnectionInterval = -1;\n    }\n  }\n\n  disconnect() {\n    this.checkStatus(Status.DISCONNECTED);\n    this.checkAndClearReconnection();\n  }\n  /**\n   * Sets the url\n   * @param url\n   */\n\n\n  setUrl(url) {\n    this.url = url;\n  }\n  /**\n   * The data connector default id.\n   * @return {String}\n   */\n\n\n  getId() {\n    return this.id;\n  }\n  /**\n   * The stream url.\n   * @return {String}\n   */\n\n\n  getUrl() {\n    return this.url;\n  }\n  /**\n   * Sets the reconnection timeout\n   * @param {Number} timeout - delay in milliseconds before reconnecting dataSource\n   */\n\n\n  setReconnectTimeout(timeout) {\n    this.reconnectTimeout = timeout;\n  }\n\n  onReconnect() {\n    return true;\n  }\n\n  connect() {}\n\n  forceReconnect() {\n    this.disconnect();\n    this.connect();\n  }\n  /**\n   * Called when the connection STATUS changes\n   * @param {Status} status - the new status\n   */\n\n\n  onChangeStatus(status) {}\n  /**\n   * Check a change of the status and call the corresponding callbacks if necessary\n   * @param {Status} status - the currentStatus\n   */\n\n\n  checkStatus(status) {\n    if (status !== this.status) {\n      this.onChangeStatus(status);\n      this.status = status;\n    }\n  }\n  /**\n   * Called when the connector has been disconnected\n   */\n\n\n  onDisconnect() {}\n  /**\n   * Called when the connector has been connected\n   */\n\n\n  onConnect() {}\n\n}\n\n/* harmony default export */ var dataconnector_DataConnector = (DataConnector_DataConnector);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/dataconnector/WebSocketConnector.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n\n/**\n * Defines the WebSocketConnector to connect to a remote server by creating a WebSocket channel.\n * @extends DataConnector\n * @example\n * import WebSocketConnector from 'osh/dataconnector/WebSocketConnector.js';\n *\n * let url = ...;\n * let connector = new WebSocketConnector(url);\n *\n * // connect\n * connector.connect();\n *\n * // disconnect\n * connector.disconnect();\n *\n * // close\n * connector.close();\n *\n */\n\nclass WebSocketConnector_WebSocketConnector extends dataconnector_DataConnector {\n  /**\n   *\n   * @param properties -\n   */\n  constructor(properties) {\n    super(properties);\n    this.interval = -1;\n    this.lastReceiveTime = 0;\n  }\n  /**\n   * Connect to the webSocket. If the system supports WebWorker, it will automatically creates one otherwise use\n   * the main thread.\n   */\n\n\n  async connect() {\n    if (!this.init) {\n      this.closed = false;\n      this.init = true; //creates Web Socket\n\n      this.ws = new WebSocket(this.getUrl());\n      this.ws.binaryType = 'arraybuffer';\n\n      this.ws.onmessage = function (event) {\n        this.checkAndClearReconnection();\n        this.checkStatus(Status.CONNECTED);\n        this.lastReceiveTime = Date.now(); //callback data on message received\n\n        if (event.data.byteLength > 0) {\n          this.onMessage(event.data);\n        }\n      }.bind(this); // closes socket if any errors occur\n\n\n      this.ws.onerror = function (event) {\n        console.error('WebSocket stream error');\n        this.checkStatus(Status.DISCONNECTED);\n        this.init = false;\n        this.lastReceiveTime = -1;\n        this.createReconnection();\n      }.bind(this);\n\n      this.ws.onclose = event => {\n        this.checkStatus(Status.DISCONNECTED);\n        console.warn('WebSocket stream closed: ', event.reason, event.code);\n        this.init = false;\n\n        if (event.code !== 1000 && !this.closed) {\n          this.createReconnection();\n        }\n      };\n    }\n  }\n\n  createReconnection() {\n    if (!this.closed && this.reconnectionInterval === -1 && this.onReconnect()) {\n      this.reconnectionInterval = setInterval(function () {\n        let delta = Date.now() - this.lastReceiveTime; // -1 means the WS went in error\n\n        if (this.lastReceiveTime === -1 || delta >= this.reconnectTimeout) {\n          console.warn('trying to reconnect', this.url);\n          this.connect();\n        }\n      }.bind(this), this.reconnectTimeout);\n    }\n  }\n  /**\n   * Disconnects and close the websocket.\n   */\n\n\n  disconnect() {\n    super.disconnect();\n    this.init = false;\n    this.closed = true;\n\n    if (this.ws != null && this.ws.readyState !== WebSocket.CLOSED) {\n      this.ws.close();\n    }\n  }\n  /**\n   * The onMessage method used by the websocket to callback the data\n   * @param data the callback data\n   * @event\n   */\n\n\n  onMessage(data) {}\n\n  isConnected() {\n    return this.ws != null && this.ws.readyState === WebSocket.OPEN;\n  }\n\n}\n\n/* harmony default export */ var dataconnector_WebSocketConnector = (WebSocketConnector_WebSocketConnector);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/dataconnector/Ajax.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * Defines the AjaxConnector to connect to a remote server by making AjaxRequest.\n * @extends DataConnector\n * @example\n * import Ajax from 'osh/dataconnector/Ajax.js';\n *\n * let request = ...;\n * let connector = new Ajax(url);\n *\n * // handle onSuccess\n * connector.onSuccess = function(event) {\n *  // does something\n * }\n *\n * connector.onError = function(event) {\n *  // does something\n * }\n *\n * // send request\n * connector.sendRequest(request);\n *\n */\n\nclass Ajax_Ajax extends dataconnector_DataConnector {\n  /**\n   * Creates Ajax.\n   * @param {String} url -\n   * @param {Object} properties -\n   * @param {String} properties.method -\n   * @param {String} properties.responseType -\n   */\n  constructor(url, properties) {\n    super(url);\n    this.method = \"POST\";\n    this.responseType = \"arraybuffer\";\n\n    if (isDefined(properties)) {\n      if (properties.method) {\n        this.method = properties.method;\n      }\n\n      if (properties.responseType) {\n        this.responseType = properties.responseType;\n      }\n    }\n  }\n  /**\n   * Sends the request to the defined server.\n   * @param {String} request - The Http request\n   * @param {String} extraUrl - get query parameters\n   */\n\n\n  sendRequest(request, extraUrl) {\n    let self = this;\n    let xmlhttp = new XMLHttpRequest();\n    xmlhttp.withCredentials = true;\n    xmlhttp.timeout = 60000;\n\n    if (request === null) {\n      if (isDefined(extraUrl)) {\n        xmlhttp.open(\"GET\", this.getUrl() + \"?\" + extraUrl, true);\n      } else {\n        xmlhttp.open(\"GET\", this.getUrl(), true);\n      }\n\n      xmlhttp.responseType = this.responseType;\n\n      xmlhttp.onload = oEvent => {\n        if (xmlhttp.response) {\n          self.onMessage(xmlhttp.response);\n        }\n      };\n\n      xmlhttp.ontimeout = e => {\n        console.log(\"Timeout\");\n      };\n\n      xmlhttp.send(null);\n    } else {\n      xmlhttp.open(\"POST\", this.getUrl(), true);\n      xmlhttp.setRequestHeader('Content-Type', 'text/xml');\n      xmlhttp.send(request);\n\n      xmlhttp.onreadystatechange = () => {\n        if (xmlhttp.readyState < 4) {// while waiting response from server\n        } else if (xmlhttp.readyState === 4) {\n          // 4 = Response from server has been completely loaded.\n          if (xmlhttp.status === 200 && xmlhttp.status < 300) {\n            // http status between 200 to 299 are all successful\n            self.onSuccess(xmlhttp.responseText);\n          } else {\n            self.onError(\"\");\n          }\n        }\n      };\n    }\n  }\n  /**\n   * This is the callback method in case of getting error connection.\n   * @param event The error details\n   * @event\n   */\n\n\n  onError(event) {}\n  /**\n   * This is the callback method in case of getting success connection.\n   * @param event\n   * @event\n   */\n\n\n  onSuccess(event) {}\n  /**\n   * Sends the request\n   * @private\n   */\n\n\n  connect() {\n    this.sendRequest(null);\n  }\n\n}\n\n/* harmony default export */ var dataconnector_Ajax = (Ajax_Ajax);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/dataconnector/TopicConnector.js\n\n\nclass TopicConnector_TopicConnector extends dataconnector_DataConnector {\n  /**\n   *\n   * @param properties -\n   */\n  constructor(properties) {\n    super(properties);\n    this.lastReceiveTime = -1;\n    this.interval = -1;\n    this.broadcastChannel = null;\n  }\n  /**\n   * Connect to the broadcastChannel.\n   */\n\n\n  connect() {\n    if (this.broadcastChannel === null) {\n      //creates broadcastChannel\n      this.broadcastChannel = new BroadcastChannel(this.getUrl());\n\n      this.broadcastChannel.onmessage = event => {\n        this.lastReceiveTime = Date.now(); //callback data on message received\n\n        this.onMessage(event.data.data);\n      }; // closes socket if any errors occur\n\n\n      this.broadcastChannel.onerror = event => {\n        console.error('BroadcastChannel stream error: ' + event);\n        this.broadcastChannel.close();\n        this.init = false;\n        this.lastReceiveTime = -1;\n      }; //init the reconnect handler\n\n\n      if (this.interval === -1) {\n        this.interval = setInterval(function () {\n          let delta = Date.now() - this.lastReceiveTime; // -1 means the WS went in error\n\n          if (this.lastReceiveTime === -1 || delta >= this.reconnectTimeout) {\n            console.warn(`trying to reconnect after ${this.reconnectTimeout} ..`);\n            this.reconnect();\n          }\n        }.bind(this), this.reconnectTimeout);\n      }\n    }\n  }\n  /**\n   * Disconnects the websocket.\n   */\n\n\n  disconnect() {\n    this.fullDisconnect(true);\n  }\n  /**\n   * Fully disconnect the websocket connection by sending a close message to the webWorker.\n   * @param {Boolean} removeInterval  - force removing the interval\n   */\n\n\n  fullDisconnect(removeInterval) {\n    if (this.broadcastChannel != null) {\n      this.broadcastChannel.close();\n      this.broadcastChannel = null;\n    }\n\n    if (removeInterval) {\n      clearInterval(this.interval);\n    }\n  }\n  /**\n   * Try to reconnect if the connexion if closed\n   */\n\n\n  reconnect() {\n    this.onReconnect();\n\n    if (this.init) {\n      this.fullDisconnect(false);\n    }\n\n    this.connect();\n  }\n  /**\n   * The onMessage method used by the websocket to callback the data\n   * @param data the callback data\n   * @event\n   */\n\n\n  onMessage(data) {}\n  /**\n   * Closes the webSocket.\n   */\n\n\n  close() {\n    this.disconnect();\n  }\n\n}\n\n/* harmony default export */ var dataconnector_TopicConnector = (TopicConnector_TopicConnector);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/event/EventType.js\nconst EventType = {\n  DATA: 'data',\n  STATUS: 'status'\n};\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/datareceiver/workers/DataSourceHandler.js\n\n\n\n\n\n\n\nclass DataSourceHandler_DataSourceHandler {\n  constructor(parser) {\n    this.parser = parser;\n    this.connector = null;\n    this.lastTimeStamp = null;\n    this.lastStartTime = 'now';\n    this.timeShift = 0;\n    this.reconnectTimeout = 1000 * 10; // 10 secs\n\n    this.values = [];\n  }\n\n  createConnector(propertiesStr, topic, dataSourceId) {\n    this.dataSourceId = dataSourceId; // check for existing connector\n\n    if (this.connector !== null) {\n      this.connector.disconnect();\n      this.connector = null;\n    }\n\n    this.broadcastChannel = new BroadcastChannel(topic);\n    const properties = JSON.parse(propertiesStr);\n\n    if (isDefined(properties.fetch)) {\n      this.fetch = properties.fetch;\n    }\n\n    if (isDefined(properties.timeShift)) {\n      this.timeShift = properties.timeShift;\n    }\n\n    if (isDefined(properties.bufferingTime)) {\n      this.bufferingTime = properties.bufferingTime;\n    }\n\n    if (isDefined(properties.timeOut)) {\n      this.timeOut = properties.timeOut;\n    }\n\n    if (isDefined(properties.reconnectTimeout)) {\n      this.reconnectTimeout = properties.reconnectTimeout;\n    }\n\n    if (properties.startTime === 'now') {\n      this.batchSize = 1;\n    } else {\n      if (isDefined(properties.replaySpeed)) {\n        if (!isDefined(properties.batchSize)) {\n          this.batchSize = 1;\n        }\n      }\n\n      if (isDefined(properties.batchSize)) {\n        this.batchSize = properties.batchSize;\n      }\n    }\n\n    this.properties = properties;\n    this.createDataConnector(this.properties);\n  }\n  /**\n   * @private\n   */\n\n\n  createDataConnector(properties) {\n    const url = this.parser.buildUrl({ ...properties,\n      timeShift: this.timeShift\n    }); // checks if type is WebSocketConnector\n\n    if (properties.protocol.startsWith('ws')) {\n      this.connector = new dataconnector_WebSocketConnector(url); // connects the callback\n\n      this.connector.onMessage = this.onMessage.bind(this); // set the reconnectTimeout\n\n      this.connector.setReconnectTimeout(this.reconnectTimeout);\n    } else if (properties.protocol.startsWith('http')) {\n      this.connector = new dataconnector_Ajax(url);\n      this.connector.responseType = 'arraybuffer'; // connects the callback\n\n      this.connector.onMessage = this.onMessage.bind(this); // set the reconnectTimeout\n\n      this.connector.setReconnectTimeout(this.reconnectTimeout);\n    } else if (properties.protocol.startsWith('topic')) {\n      this.connector = new dataconnector_TopicConnector(url); // connects the callback\n\n      this.connector.onMessage = this.onMessage.bind(this); // set the reconnectTimeout\n\n      this.connector.setReconnectTimeout(this.reconnectTimeout);\n    }\n\n    const lastStartTimeCst = this.parser.lastStartTime;\n    const lastProperties = properties;\n\n    if (this.connector !== null) {\n      // bind change connection STATUS\n      this.connector.onChangeStatus = this.onChangeStatus.bind(this);\n\n      this.connector.onReconnect = () => {\n        // if not real time, preserve last timestamp to reconnect at the last time received\n        // for that, we update the URL with the new last time received\n        if (lastStartTimeCst !== 'now') {\n          this.connector.setUrl(this.parser.buildUrl({ ...properties,\n            lastTimeStamp: isDefined(this.lastTimeStamp) ? new Date(this.lastTimeStamp).toISOString() : properties.startTime\n          }));\n        }\n\n        return true;\n      };\n    }\n  }\n  /**\n   * Sets the current topic to listen\n   * @param {String} topic - the topic to listen\n   */\n\n\n  setTopic(topic) {\n    if (this.broadcastChannel !== null) {\n      this.broadcastChannel.close();\n    }\n\n    this.broadcastChannel = new BroadcastChannel(topic);\n    this.topic = topic;\n  }\n\n  connect() {\n    if (this.connector !== null) {\n      this.connector.connect();\n    }\n  }\n\n  disconnect() {\n    if (this.connector !== null) {\n      this.connector.disconnect();\n    }\n  }\n\n  onMessage(event) {\n    const timeStamp = this.parser.parseTimeStamp(event) + this.timeShift;\n    const data = this.parser.parseData(event);\n    this.values.push({\n      data: data,\n      timeStamp: timeStamp\n    });\n    this.lastTimeStamp = timeStamp;\n\n    if (isDefined(this.batchSize) && this.values.length >= this.batchSize) {\n      this.flush();\n    }\n  }\n  /**\n   * Send a change status event into the broadcast channel\n   * @param {Status} status - the new status\n   */\n\n\n  onChangeStatus(status) {\n    if (status === Status.DISCONNECTED) {\n      this.flush();\n    }\n\n    this.broadcastChannel.postMessage({\n      type: EventType.STATUS,\n      status: status,\n      dataSourceId: this.dataSourceId\n    });\n  }\n\n  getLastTimeStamp() {\n    return this.lastTimeStamp;\n  }\n\n  updateUrl(properties) {\n    this.disconnect();\n    let lastTimestamp = new Date(this.lastTimeStamp).toISOString();\n\n    if (properties.hasOwnProperty('startTime')) {\n      lastTimestamp = properties.startTime;\n    } else if (this.properties.startTime === 'now') {\n      //handle RealTime\n      lastTimestamp = 'now';\n    }\n\n    this.createDataConnector({ ...this.properties,\n      ...properties,\n      lastTimeStamp: lastTimestamp\n    });\n    this.connect();\n  }\n\n  flush() {\n    this.broadcastChannel.postMessage({\n      dataSourceId: this.dataSourceId,\n      type: EventType.DATA,\n      values: this.values.splice(0, this.values.length)\n    });\n  }\n\n  handleMessage(message, worker) {\n    if (message.message === 'init') {\n      this.createConnector(message.properties, message.topic, message.id);\n    } else if (message.message === 'connect') {\n      this.connect();\n    } else if (message.message === 'disconnect') {\n      this.disconnect();\n    } else if (message.message === 'topic') {\n      this.setTopic(message.topic);\n    } else if (message.message === 'last-timestamp') {\n      const lastTimeStamp = this.getLastTimeStamp();\n      worker.postMessage({\n        message: 'last-timestamp',\n        data: lastTimeStamp\n      });\n    } else if (message.message === 'update-url') {\n      this.updateUrl(message.data);\n    } else if (message.message === 'is-connected') {\n      worker.postMessage({\n        message: 'is-connected',\n        data: this.connector === null ? false : this.connector.isConnected()\n      });\n    }\n  }\n\n}\n\n/* harmony default export */ var workers_DataSourceHandler = (DataSourceHandler_DataSourceHandler);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/datareceiver/workers/SweJson.worker.js\n\n\n\nconst dataSourceHandler = new workers_DataSourceHandler(new SweJson_parser());\n\nself.onmessage = (event) => {\n    dataSourceHandler.handleMessage(event.data, self);\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL3V0aWxzL1V0aWxzLmpzPzI0M2EiLCJ3ZWJwYWNrOi8vLy9ob21lL25ldnJvL1Byb2dzL3Byb2dzLWxvY2FsL2dpdC1yZXBvL09TSC9vc2gtanMvc291cmNlL29zaC9kYXRhcmVjZWl2ZXIvcGFyc2Vycy9EYXRhU291cmNlUGFyc2VyLmpzPzYwZmYiLCJ3ZWJwYWNrOi8vLy9ob21lL25ldnJvL1Byb2dzL3Byb2dzLWxvY2FsL2dpdC1yZXBvL09TSC9vc2gtanMvc291cmNlL29zaC9kYXRhcmVjZWl2ZXIvcGFyc2Vycy9Td2VKc29uLnBhcnNlci5qcz83YjU3Iiwid2VicGFjazovLy8vaG9tZS9uZXZyby9Qcm9ncy9wcm9ncy1sb2NhbC9naXQtcmVwby9PU0gvb3NoLWpzL3NvdXJjZS9vc2gvZGF0YWNvbm5lY3Rvci9TdGF0dXMuanM/MDk4NyIsIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL2RhdGFjb25uZWN0b3IvRGF0YUNvbm5lY3Rvci5qcz9jODM2Iiwid2VicGFjazovLy8vaG9tZS9uZXZyby9Qcm9ncy9wcm9ncy1sb2NhbC9naXQtcmVwby9PU0gvb3NoLWpzL3NvdXJjZS9vc2gvZGF0YWNvbm5lY3Rvci9XZWJTb2NrZXRDb25uZWN0b3IuanM/MDU1YiIsIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL2RhdGFjb25uZWN0b3IvQWpheC5qcz8xZmFkIiwid2VicGFjazovLy8vaG9tZS9uZXZyby9Qcm9ncy9wcm9ncy1sb2NhbC9naXQtcmVwby9PU0gvb3NoLWpzL3NvdXJjZS9vc2gvZGF0YWNvbm5lY3Rvci9Ub3BpY0Nvbm5lY3Rvci5qcz80ODFlIiwid2VicGFjazovLy8vaG9tZS9uZXZyby9Qcm9ncy9wcm9ncy1sb2NhbC9naXQtcmVwby9PU0gvb3NoLWpzL3NvdXJjZS9vc2gvZXZlbnQvRXZlbnRUeXBlLmpzPzEyZTEiLCJ3ZWJwYWNrOi8vLy9ob21lL25ldnJvL1Byb2dzL3Byb2dzLWxvY2FsL2dpdC1yZXBvL09TSC9vc2gtanMvc291cmNlL29zaC9kYXRhcmVjZWl2ZXIvd29ya2Vycy9EYXRhU291cmNlSGFuZGxlci5qcz9jNGIyIiwid2VicGFjazovLy8vaG9tZS9uZXZyby9Qcm9ncy9wcm9ncy1sb2NhbC9naXQtcmVwby9PU0gvb3NoLWpzL3NvdXJjZS9vc2gvZGF0YXJlY2VpdmVyL3dvcmtlcnMvU3dlSnNvbi53b3JrZXIuanM/Mjg0MyJdLCJuYW1lcyI6WyJNQVhfTE9ORyIsIk1hdGgiLCJwb3ciLCJpc0RlZmluZWQiLCJ2IiwiaGFzVmFsdWUiLCJoZXgycmdiIiwiaGV4IiwiciIsImciLCJiIiwibWF0Y2giLCJtYXAiLCJ4IiwicGFyc2VJbnQiLCJoYXNUeXBlIiwiZXhwZWN0ZWRUeXBlIiwiaGFzVmFsIiwiaXNPYmplY3QiLCJsZXROYW1lIiwiaXNBcnJheSIsIkFycmF5IiwiaXNGdW5jdGlvbiIsImFzc2VydERlZmluZWQiLCJhc3NlcnRUeXBlIiwiYXNzZXJ0Qm9vbGVhbiIsImFzc2VydFN0cmluZyIsImFzc2VydE51bWJlciIsImFzc2VydFBvc2l0aXZlIiwiYXNzZXJ0T2JqZWN0IiwiYXNzZXJ0QXJyYXkiLCJhc3NlcnRGdW5jdGlvbiIsImFzc2VydEhhc1ZhbHVlIiwicmFuZG9tVVVJRCIsInJlcGxhY2UiLCJjIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdGFtcFVVSUQiLCJvYmoiLCJfb3NoX2lkIiwiUGFyc2VCeXRlcyIsImJ1ZmZlciIsIm9mZnNldCIsInR5cGUiLCJ2aWV3IiwiRGF0YVZpZXciLCJ0eXBlTWFwIiwiZG91YmxlIiwidmFsIiwiZ2V0RmxvYXQ2NCIsImJ5dGVzIiwiZmxvYXQ2NCIsImZsb2F0MzIiLCJnZXRGbG9hdDMyIiwic2lnbmVkQnl0ZSIsImdldEludDgiLCJzaWduZWRJbnQiLCJnZXRJbnQzMiIsInNpZ25lZFNob3J0IiwiZ2V0SW50MTYiLCJ1bnNpZ25lZEJ5dGUiLCJnZXRVaW50OCIsInVuc2lnbmVkSW50IiwiZ2V0VWludDMyIiwidW5zaWduZWRTaG9ydCIsImdldFVpbnQxNiIsIlJlYWREYXRhIiwic3RydWN0IiwiZGF0YSIsIm9mZnNldEJ5dGVzIiwiaSIsImZpZWxkcyIsImxlbmd0aCIsImN1cnJGaWVsZFN0cnVjdCIsInJldCIsImNvdW50IiwiaXNOYU4iLCJpZCIsImZpZWxkTmFtZSIsImlkMkZpZWxkTWFwIiwiZmluZEZpZWxkQnlOYW1lIiwiaiIsImZpZWxkIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwicHVzaCIsIkdldFJlc3VsdE9iamVjdCIsInJlc3VsdFN0cnVjdHVyZSIsInJlc3VsdCIsIm5hbWUiLCJpdGVtIiwiayIsImlzT3BlcmEiLCJ3aW5kb3ciLCJvcHIiLCJhZGRvbnMiLCJvcGVyYSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImluZGV4T2YiLCJpc0ZpcmVmb3giLCJJbnN0YWxsVHJpZ2dlciIsImlzU2FmYXJpIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiY2FsbCIsIkhUTUxFbGVtZW50IiwiaXNDaHJvbWUiLCJjaHJvbWUiLCJ3ZWJzdG9yZSIsImlzQmxpbmsiLCJDU1MiLCJpc0FycmF5SW50ZXJzZWN0IiwiYSIsImZpbHRlciIsImVsZW1lbnQiLCJpc0VsZW1lbnQiLCJvIiwibm9kZVR5cGUiLCJub2RlTmFtZSIsImlzV2ViV29ya2VyIiwiV29ya2VyIiwidGFrZVNjcmVlblNob3QiLCJkaXYiLCJyZW1vdmVDc3MiLCJjc3MiLCJkaXZDc3MiLCJjbGFzc05hbWUiLCJhZGRDc3MiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVMYXN0Q2hhcklmRXhpc3QiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsImVuZHNXaXRoIiwic3Vic3RyaW5nIiwiRGF0YVNvdXJjZVBhcnNlciIsImJ1aWxkVXJsIiwicHJvcGVydGllcyIsInVybCIsInByb3RvY29sIiwiZW5kcG9pbnRVcmwiLCJzZXJ2aWNlIiwib2ZmZXJpbmdJRCIsImZvaVVSTiIsIm9ic2VydmVkUHJvcGVydHkiLCJzdFRpbWUiLCJsYXN0VGltZVN0YW1wIiwic3RhcnRUaW1lIiwibGFzdFN0YXJ0VGltZSIsImVuZFRpbWUiLCJyZXBsYXlTcGVlZCIsInJlc3BvbnNlRm9ybWF0IiwiY3VzdG9tVXJsUGFyYW1zIiwia2V5cyIsImtleSIsInNsaWNlIiwiU3dlSnNvblBhcnNlciIsInBhcnNlVGltZVN0YW1wIiwicmVjIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiYXBwbHkiLCJVaW50OEFycmF5IiwiRGF0ZSIsImdldFRpbWUiLCJwYXJzZURhdGEiLCJTdGF0dXMiLCJDT05ORUNURUQiLCJESVNDT05ORUNURUQiLCJEYXRhQ29ubmVjdG9yIiwiY29uc3RydWN0b3IiLCJyZWNvbm5lY3RUaW1lb3V0Iiwic3RhdHVzIiwicmVjb25uZWN0aW9uSW50ZXJ2YWwiLCJjaGVja0FuZENsZWFyUmVjb25uZWN0aW9uIiwiY2xlYXJJbnRlcnZhbCIsImRpc2Nvbm5lY3QiLCJjaGVja1N0YXR1cyIsInNldFVybCIsImdldElkIiwiZ2V0VXJsIiwic2V0UmVjb25uZWN0VGltZW91dCIsInRpbWVvdXQiLCJvblJlY29ubmVjdCIsImNvbm5lY3QiLCJmb3JjZVJlY29ubmVjdCIsIm9uQ2hhbmdlU3RhdHVzIiwib25EaXNjb25uZWN0Iiwib25Db25uZWN0IiwiV2ViU29ja2V0Q29ubmVjdG9yIiwiaW50ZXJ2YWwiLCJsYXN0UmVjZWl2ZVRpbWUiLCJpbml0IiwiY2xvc2VkIiwid3MiLCJXZWJTb2NrZXQiLCJiaW5hcnlUeXBlIiwib25tZXNzYWdlIiwiZXZlbnQiLCJub3ciLCJieXRlTGVuZ3RoIiwib25NZXNzYWdlIiwiYmluZCIsIm9uZXJyb3IiLCJjb25zb2xlIiwiZXJyb3IiLCJjcmVhdGVSZWNvbm5lY3Rpb24iLCJvbmNsb3NlIiwid2FybiIsInJlYXNvbiIsImNvZGUiLCJzZXRJbnRlcnZhbCIsImRlbHRhIiwicmVhZHlTdGF0ZSIsIkNMT1NFRCIsImNsb3NlIiwiaXNDb25uZWN0ZWQiLCJPUEVOIiwiQWpheCIsIm1ldGhvZCIsInJlc3BvbnNlVHlwZSIsInNlbmRSZXF1ZXN0IiwicmVxdWVzdCIsImV4dHJhVXJsIiwic2VsZiIsInhtbGh0dHAiLCJYTUxIdHRwUmVxdWVzdCIsIndpdGhDcmVkZW50aWFscyIsIm9wZW4iLCJvbmxvYWQiLCJvRXZlbnQiLCJyZXNwb25zZSIsIm9udGltZW91dCIsImUiLCJsb2ciLCJzZW5kIiwic2V0UmVxdWVzdEhlYWRlciIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsIm9uU3VjY2VzcyIsInJlc3BvbnNlVGV4dCIsIm9uRXJyb3IiLCJUb3BpY0Nvbm5lY3RvciIsImJyb2FkY2FzdENoYW5uZWwiLCJCcm9hZGNhc3RDaGFubmVsIiwicmVjb25uZWN0IiwiZnVsbERpc2Nvbm5lY3QiLCJyZW1vdmVJbnRlcnZhbCIsIkV2ZW50VHlwZSIsIkRBVEEiLCJTVEFUVVMiLCJEYXRhU291cmNlSGFuZGxlciIsInBhcnNlciIsImNvbm5lY3RvciIsInRpbWVTaGlmdCIsInZhbHVlcyIsImNyZWF0ZUNvbm5lY3RvciIsInByb3BlcnRpZXNTdHIiLCJ0b3BpYyIsImRhdGFTb3VyY2VJZCIsImZldGNoIiwiYnVmZmVyaW5nVGltZSIsInRpbWVPdXQiLCJiYXRjaFNpemUiLCJjcmVhdGVEYXRhQ29ubmVjdG9yIiwic3RhcnRzV2l0aCIsImxhc3RTdGFydFRpbWVDc3QiLCJsYXN0UHJvcGVydGllcyIsInRvSVNPU3RyaW5nIiwic2V0VG9waWMiLCJ0aW1lU3RhbXAiLCJmbHVzaCIsInBvc3RNZXNzYWdlIiwiZ2V0TGFzdFRpbWVTdGFtcCIsInVwZGF0ZVVybCIsImxhc3RUaW1lc3RhbXAiLCJoYXNPd25Qcm9wZXJ0eSIsInNwbGljZSIsImhhbmRsZU1lc3NhZ2UiLCJtZXNzYWdlIiwid29ya2VyIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7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QUFDQSxPQUFSLEtBQW9CLFNBQXhCLEVBQW1DO0FBQ3RDLFdBQUs5RixPQUFMO0FBQ0gsS0FGTSxNQUVBLElBQUk4RixPQUFPLENBQUNBLE9BQVIsS0FBb0IsWUFBeEIsRUFBc0M7QUFDekMsV0FBS3RHLFVBQUw7QUFDSCxLQUZNLE1BRUEsSUFBSXNHLE9BQU8sQ0FBQ0EsT0FBUixLQUFvQixPQUF4QixFQUFpQztBQUNwQyxXQUFLVixRQUFMLENBQWNVLE9BQU8sQ0FBQ3JCLEtBQXRCO0FBQ0gsS0FGTSxNQUVBLElBQUlxQixPQUFPLENBQUNBLE9BQVIsS0FBb0IsZ0JBQXhCLEVBQTBDO0FBQzdDLFlBQU1wSSxhQUFhLEdBQUcsS0FBSzhILGdCQUFMLEVBQXRCO0FBQ0FPLFlBQU0sQ0FBQ1IsV0FBUCxDQUFtQjtBQUNmTyxlQUFPLEVBQUUsZ0JBRE07QUFFZm5OLFlBQUksRUFBRStFO0FBRlMsT0FBbkI7QUFJSCxLQU5NLE1BTUMsSUFBSW9JLE9BQU8sQ0FBQ0EsT0FBUixLQUFvQixZQUF4QixFQUFzQztBQUMxQyxXQUFLTCxTQUFMLENBQWVLLE9BQU8sQ0FBQ25OLElBQXZCO0FBQ0gsS0FGTyxNQUVELElBQUltTixPQUFPLENBQUNBLE9BQVIsS0FBb0IsY0FBeEIsRUFBd0M7QUFDM0NDLFlBQU0sQ0FBQ1IsV0FBUCxDQUFtQjtBQUNmTyxlQUFPLEVBQUUsY0FETTtBQUVmbk4sWUFBSSxFQUFHLEtBQUt5TCxTQUFMLEtBQW1CLElBQXBCLEdBQTJCLEtBQTNCLEdBQWtDLEtBQUtBLFNBQUwsQ0FBZXBDLFdBQWY7QUFGekIsT0FBbkI7QUFJSDtBQUNKOztBQS9ObUI7O0FBaU9Ua0MsaUdBQWYsRTs7QUN4T3NEO0FBQ0M7O0FBRXZELDhCQUE4Qix5QkFBaUIsS0FBSyxjQUFhOztBQUVqRTtBQUNBO0FBQ0EiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSwgdi4gMi4wLlxuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZVxuIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cblxuIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcyxcbiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2VcbiBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyByaWdodHMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4gQ29weXJpZ2h0IChDKSAyMDE1LTIwMjAgTWF0aGlldSBEaGFpbmF1dC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuIEF1dGhvcjogTWF0aGlldSBEaGFpbmF1dCA8bWF0aGlldS5kaGFpbmF1dEBnbWFpbC5jb20+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqICogQG1vZHVsZSBVdGlscyAqL1xuXG4vKiogTWF4aW11bSB2YWx1ZSBvZiBhIGxvbmcgKi9cbmV4cG9ydCBjb25zdCBNQVhfTE9ORyA9IE1hdGgucG93KDIsIDUzKSArIDE7XG5cbi8qKlxuICogR2xvYmFsIGhlbHBlciBtZXRob2QgdG8gdGVzdCBpZiBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgZGVmaW5lZFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNEZWZpbmVkKHYpIHtcbiAgICByZXR1cm4gdHlwZW9mICh2KSAhPT0gJ3VuZGVmaW5lZCcgJiYgdiAhPT0gbnVsbDtcbn1cblxuXG4vKipcbiBHbG9iYWwgaGVscGVyIG1ldGhvZCB0byB0ZXN0IGlmIGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBoYXMgYSB2YWx1ZSxcbiB0aGF0IGlzIGl0IGlzIGRlZmluZWQgYW5kIG5vbiBudWxsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNWYWx1ZSh2KSB7XG4gICAgcmV0dXJuIGlzRGVmaW5lZCh2KSAmJiB2ICE9PSBudWxsO1xufVxuXG4vKipcbiBHbG9iYWwgaGVscGVyIG1ldGhvZCB0byB0cmFuc2Zvcm0gaGV4IGNvbG9yIGludG8gUkdCQVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGV4MnJnYihoZXgpe1xuICAgIGNvbnN0IFtyLCBnLCBiXSA9IGhleC5tYXRjaCgvXFx3XFx3L2cpLm1hcCh4ID0+IHBhcnNlSW50KHgsIDE2KSk7XG4gICAgcmV0dXJuIFtyLCBnLCBiXTtcbn1cbi8qKlxuIEdsb2JhbCBoZWxwZXIgbWV0aG9kIHRvIHRlc3QgaWYgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIG9mIGEgcGFydGljdWxhciB0eXBlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNUeXBlKHYsIGV4cGVjdGVkVHlwZSkge1xuICAgIGxldCBoYXNWYWwgPSBoYXNWYWx1ZSh2KTtcbiAgICByZXR1cm4gaGFzVmFsICYmIHR5cGVvZiAodikgPT09IGV4cGVjdGVkVHlwZTtcbn1cblxuLyoqXG4gR2xvYmFsIGhlbHBlciBtZXRob2QgdG8gdGVzdCBpZiBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYW4gb2JqZWN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdCh2LCBsZXROYW1lKSB7XG4gICAgcmV0dXJuIGhhc1R5cGUodiwgJ29iamVjdCcsIGxldE5hbWUpO1xufVxuXG4vKipcbiBHbG9iYWwgaGVscGVyIG1ldGhvZCB0byB0ZXN0IGlmIGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBhbiBhcnJheVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheSh2KSB7XG4gICAgcmV0dXJuIGlzRGVmaW5lZCh2KSAmJiBBcnJheS5pc0FycmF5KHYpO1xufVxuXG4vKipcbiBHbG9iYWwgaGVscGVyIG1ldGhvZCB0byB0ZXN0IGlmIGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBhIGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHYsIGxldE5hbWUpIHtcbiAgICByZXR1cm4gaGFzVHlwZSh2LCAnZnVuY3Rpb24nLCBsZXROYW1lKTtcbn1cblxuLyoqXG4gQXNzZXJ0IHRoYXQgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGRlZmluZWRcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnREZWZpbmVkKHYsIGxldE5hbWUgPSAnbGV0aWFibGUnKSB7XG4gICAgaWYgKCFpc0RlZmluZWQodikpIHtcbiAgICAgICAgdGhyb3cgbGV0TmFtZSArIFwiIG11c3QgYmUgZGVmaW5lZFwiO1xuICAgIH1cbiAgICByZXR1cm4gdjtcbn1cblxuLyoqXG4gQXNzZXJ0IHRoYXQgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGRlZmluZWQgYW5kIG5vbi1udWxsXG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0VHlwZSh2LCBleHBlY3RlZFR5cGUsIGxldE5hbWUgPSAnbGV0aWFibGUnKSB7XG4gICAgYXNzZXJ0RGVmaW5lZCh2LCBsZXROYW1lKTtcbiAgICBpZiAodHlwZW9mICh2KSAhPT0gZXhwZWN0ZWRUeXBlKSB7XG4gICAgICAgIHRocm93IGxldE5hbWUgKyBcIiBtdXN0IGJlIG9mIHR5cGUgXCIgKyBleHBlY3RlZFR5cGU7XG4gICAgfVxuICAgIHJldHVybiB2O1xufVxuXG4vKipcbiBBc3NlcnQgdGhhdCBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYSBzdHJpbmdcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRCb29sZWFuKHYsIGxldE5hbWUpIHtcbiAgICByZXR1cm4gYXNzZXJ0VHlwZSh2LCAnYm9vbGVhbicsIGxldE5hbWUpO1xufVxuXG4vKipcbiBBc3NlcnQgdGhhdCBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYSBzdHJpbmdcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRTdHJpbmcodiwgbGV0TmFtZSkge1xuICAgIHJldHVybiBhc3NlcnRUeXBlKHYsICdzdHJpbmcnLCBsZXROYW1lKTtcbn1cblxuLyoqXG4gQXNzZXJ0IHRoYXQgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGEgbnVtYmVyXG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0TnVtYmVyKHYsIGxldE5hbWUpIHtcbiAgICByZXR1cm4gYXNzZXJ0VHlwZSh2LCAnbnVtYmVyJywgbGV0TmFtZSk7XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBhIG51bWJlclxuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFBvc2l0aXZlKHYsIGxldE5hbWUpIHtcbiAgICBhc3NlcnROdW1iZXIodiwgbGV0TmFtZSk7XG4gICAgaWYgKHYgPD0gMCkge1xuICAgICAgICB0aHJvdyBsZXROYW1lICsgXCIgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlclwiO1xuICAgIH1cbn1cblxuLyoqXG4gQXNzZXJ0IHRoYXQgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGFuIG9iamVjdFxuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydE9iamVjdCh2LCBsZXROYW1lKSB7XG4gICAgcmV0dXJuIGFzc2VydFR5cGUodiwgJ29iamVjdCcsIGxldE5hbWUpO1xufVxuXG4vKipcbiBBc3NlcnQgdGhhdCBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYW4gb2JqZWN0XG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0QXJyYXkodiwgbGV0TmFtZSA9ICdsZXRpYWJsZScpIHtcbiAgICBhc3NlcnREZWZpbmVkKHYsIGxldE5hbWUpO1xuICAgIGlmICghQXJyYXkuaXNBcnJheSh2KSkge1xuICAgICAgICB0aHJvdyBsZXROYW1lICsgXCIgbXVzdCBiZSBhbiBhcnJheVwiO1xuICAgIH1cbiAgICByZXR1cm4gdjtcbn1cblxuLyoqXG4gQXNzZXJ0IHRoYXQgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGEgZnVuY3Rpb25cbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRGdW5jdGlvbih2LCBsZXROYW1lKSB7XG4gICAgcmV0dXJuIGFzc2VydFR5cGUodiwgJ2Z1bmN0aW9uJywgbGV0TmFtZSk7XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBkZWZpbmVkIGFuZCBub24tbnVsbFxuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEhhc1ZhbHVlKHYsIGxldE5hbWUgPSAnbGV0aWFibGUnKSB7XG4gICAgYXNzZXJ0RGVmaW5lZCh2LCBsZXROYW1lKTtcbiAgICBpZiAoIWhhc1ZhbHVlKHYpKSB7XG4gICAgICAgIHRocm93IGxldE5hbWUgKyBcIiBtdXN0IG5vdCBiZSBudWxsXCI7XG4gICAgfVxuICAgIHJldHVybiB2O1xufVxuXG4vKipcbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21VVUlEKCkge1xuICAgIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgIGxldCByID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMCwgdiA9IGMgPT09ICd4JyA/IHIgOiAociAmIDB4MyB8IDB4OCk7XG4gICAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHN0YW1wcy9lbWJlZHMgYSBVVUlEIGludG8gYW4gb2JqZWN0IGFuZCByZXR1cm5zIHRoZSBVVUlEIGdlbmVyYXRlZCBmb3IgaXRcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YW1wVVVJRChvYmopIHtcbiAgICBvYmouX29zaF9pZCA9IG9iai5fb3NoX2lkIHx8IHJhbmRvbVVVSUQoKTtcbiAgICByZXR1cm4gb2JqLl9vc2hfaWQ7XG59XG5cbi8vYnVmZmVyIGlzIGFuIEFycmF5QnVmZmVyIG9iamVjdCwgdGhlIG9mZnNldCBpZiBzcGVjaWZpZWQgaW4gYnl0ZXMsIGFuZCB0aGUgdHlwZSBpcyBhIHN0cmluZ1xuLy9jb3JyZXNwb25kaW5nIHRvIGFuIE9HQyBkYXRhIHR5cGUuXG4vL1NlZSBodHRwOi8vZGVmLnNlZWdyaWQuY3Npcm8uYXUvc2lzc3ZvYy9vZ2MtZGVmL3Jlc291cmNlP3VyaT1odHRwOi8vd3d3Lm9wZW5naXMubmV0L2RlZi9kYXRhVHlwZS9PR0MvMC9cbi8qKlxuICpcbiAqIEBwYXJhbSBidWZmZXJcbiAqIEBwYXJhbSBvZmZzZXRcbiAqIEBwYXJhbSB0eXBlXG4gKiBAcmV0dXJuIHsqfVxuICovXG5leHBvcnQgZnVuY3Rpb24gUGFyc2VCeXRlcyhidWZmZXIsIG9mZnNldCwgdHlwZSkge1xuICAgIGxldCB2aWV3ID0gbmV3IERhdGFWaWV3KGJ1ZmZlcik7XG5cbiAgICAvL05vdGU6IFRoZXJlIGV4aXN0IHR5cGVzIG5vdCBsaXN0ZWQgaW4gdGhlIG1hcCBiZWxvdyB0aGF0IGhhdmUgT0dDIGRlZmluaXRpb25zLCBidXQgbm8gYXBwcm9wcmlhdGVcbiAgICAvL21ldGhvZHMgb3IgY29ycmVzcG9uZGluZyB0eXBlcyBhdmFpbGFibGUgZm9yIHBhcnNpbmcgaW4gamF2YXNjcmlwdC4gVGhleSBhcmUgZmxvYXQxMjgsIGZsb2F0MTYsIHNpZ25lZExvbmcsXG4gICAgLy9hbmQgdW5zaWduZWRMb25nXG4gICAgbGV0IHR5cGVNYXAgPSB7XG4gICAgICAgIGRvdWJsZTogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWw6IHZpZXcuZ2V0RmxvYXQ2NChvZmZzZXQpLCBieXRlczogOH07XG4gICAgICAgIH0sXG4gICAgICAgIGZsb2F0NjQ6IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB7dmFsOiB2aWV3LmdldEZsb2F0NjQob2Zmc2V0KSwgYnl0ZXM6IDh9O1xuICAgICAgICB9LFxuICAgICAgICBmbG9hdDMyOiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRGbG9hdDMyKG9mZnNldCksIGJ5dGVzOiA0fTtcbiAgICAgICAgfSxcbiAgICAgICAgc2lnbmVkQnl0ZTogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWw6IHZpZXcuZ2V0SW50OChvZmZzZXQpLCBieXRlczogMX07XG4gICAgICAgIH0sXG4gICAgICAgIHNpZ25lZEludDogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWw6IHZpZXcuZ2V0SW50MzIob2Zmc2V0KSwgYnl0ZXM6IDR9O1xuICAgICAgICB9LFxuICAgICAgICBzaWduZWRTaG9ydDogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWw6IHZpZXcuZ2V0SW50MTYob2Zmc2V0KSwgYnl0ZXM6IDJ9O1xuICAgICAgICB9LFxuICAgICAgICB1bnNpZ25lZEJ5dGU6IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB7dmFsOiB2aWV3LmdldFVpbnQ4KG9mZnNldCksIGJ5dGVzOiAxfTtcbiAgICAgICAgfSxcbiAgICAgICAgdW5zaWduZWRJbnQ6IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB7dmFsOiB2aWV3LmdldFVpbnQzMihvZmZzZXQpLCBieXRlczogNH07XG4gICAgICAgIH0sXG4gICAgICAgIHVuc2lnbmVkU2hvcnQ6IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB7dmFsOiB2aWV3LmdldFVpbnQxNihvZmZzZXQpLCBieXRlczogMn07XG4gICAgICAgIH0sXG4gICAgICAgIC8vVE9ETzogc3RyaW5nLXV0Zi04OlxuICAgIH07XG4gICAgcmV0dXJuIHR5cGVNYXBbdHlwZV0ob2Zmc2V0KTtcbn1cblxuLy9UaGlzIGZ1bmN0aW9uIHJlY3Vyc2l2bGV5IGl0ZXJhdGVzIG92ZXIgdGhlIHJlc3VsdFN0cnVjdHVyZSB0byBmaWxsIGluXG4vL3ZhbHVlcyByZWFkIGZyb20gZGF0YSB3aGljaCBzaG91bGQgYmUgYW4gQXJyYXlCdWZmZXIgY29udGFpbmluZyB0aGUgcGF5bG9hZCBmcm9tIGEgd2Vic29ja2V0XG4vKipcbiAqXG4gKiBAcGFyYW0gc3RydWN0XG4gKiBAcGFyYW0gZGF0YVxuICogQHBhcmFtIG9mZnNldEJ5dGVzXG4gKiBAcmV0dXJuIHsqfVxuICovXG5leHBvcnQgZnVuY3Rpb24gUmVhZERhdGEoc3RydWN0LCBkYXRhLCBvZmZzZXRCeXRlcykge1xuICAgIGxldCBvZmZzZXQgPSBvZmZzZXRCeXRlcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cnVjdC5maWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGN1cnJGaWVsZFN0cnVjdCA9IHN0cnVjdC5maWVsZHNbaV07XG4gICAgICAgIGlmIChpc0RlZmluZWQoY3VyckZpZWxkU3RydWN0LnR5cGUpICYmIGN1cnJGaWVsZFN0cnVjdC50eXBlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgcmV0ID0gUGFyc2VCeXRlcyhkYXRhLCBvZmZzZXQsIGN1cnJGaWVsZFN0cnVjdC50eXBlKTtcbiAgICAgICAgICAgIGN1cnJGaWVsZFN0cnVjdC52YWwgPSByZXQudmFsO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IHJldC5ieXRlcztcbiAgICAgICAgfSBlbHNlIGlmIChpc0RlZmluZWQoY3VyckZpZWxkU3RydWN0LmNvdW50KSAmJiBjdXJyRmllbGRTdHJ1Y3QuY291bnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vY2hlY2sgaWYgY291bnQgaXMgYSByZWZlcmVuY2UgdG8gYW5vdGhlciBsZXRpYWJsZVxuICAgICAgICAgICAgaWYgKGlzTmFOKGN1cnJGaWVsZFN0cnVjdC5jb3VudCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgaWQgPSBjdXJyRmllbGRTdHJ1Y3QuY291bnQ7XG4gICAgICAgICAgICAgICAgbGV0IGZpZWxkTmFtZSA9IHN0cnVjdC5pZDJGaWVsZE1hcFtpZF07XG4gICAgICAgICAgICAgICAgY3VyckZpZWxkU3RydWN0LmNvdW50ID0gc3RydWN0LmZpbmRGaWVsZEJ5TmFtZShmaWVsZE5hbWUpLnZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgY3VyckZpZWxkU3RydWN0LmNvdW50OyBjKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGN1cnJGaWVsZFN0cnVjdC5maWVsZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZpZWxkID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjdXJyRmllbGRTdHJ1Y3QuZmllbGRzW2pdKSk7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IFJlYWREYXRhKGZpZWxkLCBkYXRhLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyRmllbGRTdHJ1Y3QudmFsLnB1c2goZmllbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2Zmc2V0O1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0gcmVzdWx0U3RydWN0dXJlXG4gKiBAcmV0dXJuIHt7fX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEdldFJlc3VsdE9iamVjdChyZXN1bHRTdHJ1Y3R1cmUpIHtcbiAgICAvL1RPRE86IGhhbmRsZSBjYXNlcyBmb3IgbmVzdGVkIGFycmF5cyAvIG1hdHJpeCBkYXRhIHR5cGVzXG4gICAgbGV0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0U3RydWN0dXJlLmZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKHJlc3VsdFN0cnVjdHVyZS5maWVsZHNbaV0uY291bnQpKSB7XG4gICAgICAgICAgICByZXN1bHRbcmVzdWx0U3RydWN0dXJlLmZpZWxkc1tpXS5uYW1lXSA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCByZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLmNvdW50OyBjKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IHt9O1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgcmVzdWx0U3RydWN0dXJlLmZpZWxkc1tpXS52YWxbY10uZmllbGRzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1bcmVzdWx0U3RydWN0dXJlLmZpZWxkc1tpXS52YWxbY10uZmllbGRzW2tdLm5hbWVdID0gcmVzdWx0U3RydWN0dXJlLmZpZWxkc1tpXS52YWxbY10uZmllbGRzW2tdLnZhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdFN0cnVjdHVyZS5maWVsZHNbaV0ubmFtZV0ucHVzaChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLm5hbWVdID0gcmVzdWx0U3RydWN0dXJlLmZpZWxkc1tpXS52YWw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzT3BlcmEoKSB7XG4gICAgcmV0dXJuICghIXdpbmRvdy5vcHIgJiYgISFvcHIuYWRkb25zKSB8fCAhIXdpbmRvdy5vcGVyYSB8fCBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJyBPUFIvJykgPj0gMDtcbn1cblxuLyoqXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRmlyZWZveCgpIHtcbiAgICByZXR1cm4gdHlwZW9mIEluc3RhbGxUcmlnZ2VyICE9PSAndW5kZWZpbmVkJztcbn1cblxuLyoqXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2FmYXJpKCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwod2luZG93LkhUTUxFbGVtZW50KS5pbmRleE9mKCdDb25zdHJ1Y3RvcicpID4gMDtcbn1cblxuLyoqXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ2hyb21lKCkge1xuICAgIHJldHVybiAhIXdpbmRvdy5jaHJvbWUgJiYgISF3aW5kb3cuY2hyb21lLndlYnN0b3JlO1xufVxuXG4vKipcbiAqXG4gKiBAcmV0dXJuIHsqfGJvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0JsaW5rKCkge1xuICAgIHJldHVybiAoaXNDaHJvbWUgfHwgaXNPcGVyYSkgJiYgISF3aW5kb3cuQ1NTO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0gYVxuICogQHBhcmFtIGJcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5SW50ZXJzZWN0KGEsIGIpIHtcbiAgICByZXR1cm4gYS5maWx0ZXIoZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGIuaW5kZXhPZihlbGVtZW50KSA+IC0xO1xuICAgIH0pLmxlbmd0aCA+IDA7XG59XG5cblxuLyoqXG4gKlxuICogQHBhcmFtIG9cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0VsZW1lbnQobykge1xuICAgIHJldHVybiAoXG4gICAgICB0eXBlb2YgSFRNTEVsZW1lbnQgPT09IFwib2JqZWN0XCIgPyBvIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgOiAvL0RPTTJcbiAgICAgICAgbyAmJiB0eXBlb2YgbyA9PT0gXCJvYmplY3RcIiAmJiBvICE9PSBudWxsICYmIG8ubm9kZVR5cGUgPT09IDEgJiYgdHlwZW9mIG8ubm9kZU5hbWUgPT09IFwic3RyaW5nXCJcbiAgICApO1xufVxuXG4vKipcbiAqXG4gKiBAcmV0dXJuIHsqfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNXZWJXb3JrZXIoKSB7XG4gICAgcmV0dXJuIGlzRGVmaW5lZChXb3JrZXIpO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0gZGl2XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0YWtlU2NyZWVuU2hvdChkaXYpIHtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYSBjc3MgY2xhc3MgZnJvbSBhIHRoZSBkaXYgZ2l2ZW4gYXMgYXJndW1lbnQuXG4gKiBAcGFyYW0gZGl2IHRoZSBkaXYgdG8gcmVtb3ZlIHRoZSBjbGFzcyBmcm9tXG4gKiBAcGFyYW0gY3NzIHRoZSBjc3MgY2xhc3MgdG8gcmVtb3ZlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDc3MoZGl2LCBjc3MpIHtcbiAgICBsZXQgZGl2Q3NzID0gZGl2LmNsYXNzTmFtZTtcbiAgICBjc3MgPSBkaXZDc3MucmVwbGFjZShjc3MsIFwiXCIpO1xuICAgIGRpdi5jbGFzc05hbWUgPSBjc3M7XG59XG5cblxuLyoqXG4gKiBBZGQgYSBjc3MgY2xhc3MgdG8gYSB0aGUgZGl2IGdpdmVuIGFzIGFyZ3VtZW50LlxuICogQHBhcmFtIGRpdiB0aGUgZGl2IHRvIGFkZCB0aGUgY2xhc3MgdG9cbiAqIEBwYXJhbSBjc3MgdGhlIGNzcyBjbGFzcyB0byBhZGRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZENzcyhkaXYsIGNzcykge1xuICAgIGRpdi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBkaXYuY2xhc3NOYW1lICsgXCIgXCIgKyBjc3MpO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgdGhlIGxhc3QgY2hhcmFjdGVyIG9mIGEge3N0cmluZ30gb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gVGhlIGlucHV0IHtzdHJpbmd9XG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB2YWx1ZSB3aXRob3V0IHRoZSBsYXN0IGNoYXJhY3RlclxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTGFzdENoYXJJZkV4aXN0KHZhbHVlKSB7XG4gICAgaWYgKCFpc0RlZmluZWQodW5kZWZpbmVkKSB8fCB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZS5sZW5ndGggPT09IDAgfHwgIXZhbHVlLmVuZHNXaXRoKFwiL1wiKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlLnN1YnN0cmluZygwLCB2YWx1ZS5sZW5ndGggLSAxKTtcbn1cblxuIiwiaW1wb3J0IHtpc0RlZmluZWR9IGZyb20gXCIuLi8uLi91dGlscy9VdGlsc1wiO1xuXG5jbGFzcyBEYXRhU291cmNlUGFyc2VyIHtcbiAgICAvKipcbiAgICAgKiBCdWlsZHMgdGhlIGZ1bGwgdXJsLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLnByb3RvY29sIHRoZSBjb25uZWN0b3IgcHJvdG9jb2xcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5lbmRwb2ludFVybCB0aGUgZW5kcG9pbnQgdXJsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuc2VydmljZSB0aGUgc2VydmljZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLm9mZmVyaW5nSUQgdGhlIG9mZmVyaW5nSURcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5vYnNlcnZlZFByb3BlcnR5IHRoZSBvYnNlcnZlZCBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLnN0YXJ0VGltZSB0aGUgc3RhcnQgdGltZSAoSVNPIGZvcm1hdClcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5lbmRUaW1lIHRoZSBlbmQgdGltZSAoSVNPIGZvcm1hdClcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy5yZXBsYXlTcGVlZCB0aGUgcmVwbGF5IGZhY3RvclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwcm9wZXJ0aWVzLnJlc3BvbnNlRm9ybWF0IHRoZSByZXNwb25zZSBmb3JtYXQgKGUuZyB2aWRlby9tcDQpXG4gICAgICogQHBhcmFtIHtEYXRlfSBwcm9wZXJ0aWVzLmxhc3RUaW1lU3RhbXAgLSB0aGUgbGFzdCB0aW1lc3RhbXAgdG8gc3RhcnQgYXQgdGhpcyB0aW1lIChJU08gU3RyaW5nKVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzLmN1c3RvbVVybFBhcmFtcyAtIHRoZSBlbmNvZGluZyBvcHRpb25zXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMuY3VzdG9tVXJsUGFyYW1zLnZpZGVvX2JpdHJhdGUgLSBkZWZpbmUgYSBjdXN0b20gYml0cmF0ZSAoaW4gYi9zKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwcm9wZXJ0aWVzLmN1c3RvbVVybFBhcmFtcy52aWRlb19zY2FsZSAtIGRlZmluZSBhIGN1c3RvbSBzY2FsZSwgMC4wIDwgdmFsdWUgPCAxLjBcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy5jdXN0b21VcmxQYXJhbXMudmlkZW9fd2lkdGggLSBkZWZpbmUgYSBjdXN0b20gd2lkdGhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy5jdXN0b21VcmxQYXJhbXMudmlkZW9faGVpZ2h0IC0gZGVmaW5lIGEgY3VzdG9tIGhlaWdodFxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gdGhlIGZ1bGwgdXJsXG4gICAgICovXG4gICAgYnVpbGRVcmwocHJvcGVydGllcykge1xuICAgICAgICBsZXQgdXJsID0gXCJcIjtcblxuICAgICAgICAvLyBhZGRzIHByb3RvY29sXG4gICAgICAgIHVybCArPSBwcm9wZXJ0aWVzLnByb3RvY29sICsgXCI6Ly9cIjtcblxuICAgICAgICAvLyBhZGRzIGVuZHBvaW50IHVybFxuICAgICAgICB1cmwgKz0gcHJvcGVydGllcy5lbmRwb2ludFVybCArIFwiP1wiO1xuXG4gICAgICAgIC8vIGFkZHMgc2VydmljZVxuICAgICAgICB1cmwgKz0gXCJzZXJ2aWNlPVwiICsgcHJvcGVydGllcy5zZXJ2aWNlICsgXCImXCI7XG5cbiAgICAgICAgLy8gYWRkcyB2ZXJzaW9uXG4gICAgICAgIHVybCArPSBcInZlcnNpb249Mi4wJlwiO1xuXG4gICAgICAgIC8vIGFkZHMgcmVxdWVzdFxuICAgICAgICB1cmwgKz0gXCJyZXF1ZXN0PUdldFJlc3VsdCZcIjtcblxuICAgICAgICAvLyBhZGRzIG9mZmVyaW5nXG4gICAgICAgIHVybCArPSBcIm9mZmVyaW5nPVwiICsgcHJvcGVydGllcy5vZmZlcmluZ0lEICsgXCImXCI7XG5cbiAgICAgICAgLy8gYWRkcyBmZWF0dXJlIG9mIGludGVyZXN0IHVyblxuICAgICAgICBpZiAocHJvcGVydGllcy5mb2lVUk4gJiYgcHJvcGVydGllcy5mb2lVUk4gIT09ICcnKSB7XG4gICAgICAgICAgICB1cmwgKz0gJ2ZlYXR1cmVPZkludGVyZXN0PScgKyBwcm9wZXJ0aWVzLmZvaVVSTiArICcmJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZHMgb2JzZXJ2ZWRQcm9wZXJ0eVxuICAgICAgICB1cmwgKz0gXCJvYnNlcnZlZFByb3BlcnR5PVwiICsgcHJvcGVydGllcy5vYnNlcnZlZFByb3BlcnR5ICsgXCImXCI7XG5cbiAgICAgICAgLy8gYWRkcyB0ZW1wb3JhbEZpbHRlclxuICAgICAgICBjb25zdCBzdFRpbWUgPSAoaXNEZWZpbmVkKHByb3BlcnRpZXMubGFzdFRpbWVTdGFtcCkpID8gcHJvcGVydGllcy5sYXN0VGltZVN0YW1wIDogIHByb3BlcnRpZXMuc3RhcnRUaW1lO1xuICAgICAgICB0aGlzLmxhc3RTdGFydFRpbWUgPSBwcm9wZXJ0aWVzLnN0YXJ0VGltZTtcbiAgICAgICAgbGV0IGVuZFRpbWUgPSBwcm9wZXJ0aWVzLmVuZFRpbWU7XG4gICAgICAgIHVybCArPSBcInRlbXBvcmFsRmlsdGVyPXBoZW5vbWVub25UaW1lLFwiICsgc3RUaW1lKyBcIi9cIiArIGVuZFRpbWUgKyBcIiZcIjtcbiAgICAgICAgaWYgKHByb3BlcnRpZXMucmVwbGF5U3BlZWQpIHtcbiAgICAgICAgICAgIC8vIGFkZHMgcmVwbGF5U3BlZWRcbiAgICAgICAgICAgIHVybCArPSBcInJlcGxheVNwZWVkPVwiICsgcHJvcGVydGllcy5yZXBsYXlTcGVlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZHMgcmVzcG9uc2VGb3JtYXQgKG9wdGlvbmFsKVxuICAgICAgICBpZiAocHJvcGVydGllcy5yZXNwb25zZUZvcm1hdCkge1xuICAgICAgICAgICAgdXJsICs9IFwiJnJlc3BvbnNlRm9ybWF0PVwiICsgcHJvcGVydGllcy5yZXNwb25zZUZvcm1hdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKGlzRGVmaW5lZChwcm9wZXJ0aWVzLmN1c3RvbVVybFBhcmFtcykgJiYgT2JqZWN0LmtleXMocHJvcGVydGllcy5jdXN0b21VcmxQYXJhbXMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHVybCArPSAnJic7XG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gcHJvcGVydGllcy5jdXN0b21VcmxQYXJhbXMpIHtcbiAgICAgICAgICAgICAgICB1cmwgKz0ga2V5Kyc9Jytwcm9wZXJ0aWVzLmN1c3RvbVVybFBhcmFtc1trZXldKycmJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHVybC5lbmRzV2l0aCgnJicpKSB7XG4gICAgICAgICAgICAgICAgdXJsID0gdXJsLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGF0YVNvdXJjZVBhcnNlcjtcbiIsImltcG9ydCBEYXRhU291cmNlUGFyc2VyIGZyb20gXCIuL0RhdGFTb3VyY2VQYXJzZXJcIjtcblxuY2xhc3MgU3dlSnNvblBhcnNlciBleHRlbmRzIERhdGFTb3VyY2VQYXJzZXIge1xuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHRpbWVzdGFtcCBmcm9tIHRoZSBtZXNzYWdlLiBUaGUgdGltZXN0YW1wIGNvcnJlc3BvbmRzIHRvIHRoZSAndGltZScgYXR0cmlidXRlIG9mIHRoZSBKU09OIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YSAtIHRoZSBkYXRhIHRvIHBhcnNlXG4gICAgICogQHJldHVybiB7TnVtYmVyfSB0aGUgZXh0cmFjdGVkIHRpbWVzdGFtcFxuICAgICAqL1xuICAgIHBhcnNlVGltZVN0YW1wKGRhdGEpIHtcbiAgICAgICAgbGV0IHJlYyA9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoZGF0YSkpO1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoSlNPTi5wYXJzZShyZWMpWyd0aW1lJ10pLmdldFRpbWUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0IGRhdGEgZnJvbSB0aGUgbWVzc2FnZS4gVGhlIGRhdGEgYXJlIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHdob2xlIGxpc3Qgb2YgYXR0cmlidXRlcyBvZiB0aGUgSlNPTiBvYmplY3RcbiAgICAgKiBleGNlcHRpbmcgdGhlICd0aW1lJyBvbmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSB0aGUgZGF0YSB0byBwYXJzZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gdGhlIHBhcnNlZCBkYXRhXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB7XG4gICAgICogICBsb2NhdGlvbiA6IHtcbiAgICAgKiAgICBsYXQ6NDMuNjE3NTg2MjYsXG4gICAgICogICAgbG9uOiAxLjQyMzc2NTU3LFxuICAgICAqICAgIGFsdDoxMDBcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICovXG4gICAgcGFyc2VEYXRhKGRhdGEpIHtcbiAgICAgICAgbGV0IHJlYyA9IEpTT04ucGFyc2UoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDhBcnJheShkYXRhKSkpO1xuXG4gICAgICAgIGxldCByZXN1bHQgPSB7fTtcblxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gcmVjKSB7XG4gICAgICAgICAgICBpZiAoa2V5ICE9PSAndGltZScpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IHJlY1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgYnVpbGRVcmwocHJvcGVydGllcykge1xuICAgICAgICByZXR1cm4gc3VwZXIuYnVpbGRVcmwoe1xuICAgICAgICAgICAgLi4ucHJvcGVydGllcyxcbiAgICAgICAgICAgIHJlc3BvbnNlRm9ybWF0OiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTd2VKc29uUGFyc2VyO1xuIiwiLyoqXG4gKiBFbnVtIGZvciBjb25uZWN0aW9uIHN0YXR1cy5cbiAqIEByZWFkb25seVxuICogQGVudW0ge3tuYW1lOiBzdHJpbmd9fVxuICovXG5leHBvcnQgY29uc3QgU3RhdHVzID0ge1xuICAgIENPTk5FQ1RFRDogIFwiY29ubmVjdGVkXCIsXG4gICAgRElTQ09OTkVDVEVEOiBcImRpc2Nvbm5lY3RlZFwiXG59O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAyMCBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQge3JhbmRvbVVVSUR9IGZyb20gJy4uL3V0aWxzL1V0aWxzLmpzJztcbmltcG9ydCB7U3RhdHVzfSBmcm9tICcuL1N0YXR1cy5qcyc7XG5cbi8qKlxuICogVGhlIERhdGFDb25uZWN0b3IgaXMgdGhlIGFic3RyYWN0IGNsYXNzIHVzZWQgdG8gY3JlYXRlIGRpZmZlcmVudCBjb25uZWN0b3JzLlxuICovXG5jbGFzcyBEYXRhQ29ubmVjdG9yIHtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgLSBUaGUgZnVsbCB1cmwgdXNlZCB0byBjb25uZWN0IHRvIHRoZSBkYXRhIHN0cmVhbVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHVybCkge1xuICAgICAgICB0aGlzLnVybCA9IHVybDtcbiAgICAgICAgdGhpcy5pZCA9IFwiRGF0YUNvbm5lY3Rvci1cIiArIHJhbmRvbVVVSUQoKTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3RUaW1lb3V0ID0gMTAwMCAqIDYwICogMjsgLy8yIG1pblxuICAgICAgICB0aGlzLnN0YXR1cyA9ICBTdGF0dXMuRElTQ09OTkVDVEVEO1xuICAgICAgICB0aGlzLnJlY29ubmVjdGlvbkludGVydmFsID0gLTE7XG4gICAgfVxuXG4gICAgY2hlY2tBbmRDbGVhclJlY29ubmVjdGlvbigpIHtcbiAgICAgICAgaWYodGhpcy5yZWNvbm5lY3Rpb25JbnRlcnZhbCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWNvbm5lY3Rpb25JbnRlcnZhbCk7XG4gICAgICAgICAgICB0aGlzLnJlY29ubmVjdGlvbkludGVydmFsID0gLTE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgICB0aGlzLmNoZWNrU3RhdHVzKFN0YXR1cy5ESVNDT05ORUNURUQpO1xuICAgICAgICB0aGlzLmNoZWNrQW5kQ2xlYXJSZWNvbm5lY3Rpb24oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB1cmxcbiAgICAgKiBAcGFyYW0gdXJsXG4gICAgICovXG4gICAgc2V0VXJsKHVybCkge1xuICAgICAgICB0aGlzLnVybCA9IHVybDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGF0YSBjb25uZWN0b3IgZGVmYXVsdCBpZC5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgZ2V0SWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBzdHJlYW0gdXJsLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRVcmwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSByZWNvbm5lY3Rpb24gdGltZW91dFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lb3V0IC0gZGVsYXkgaW4gbWlsbGlzZWNvbmRzIGJlZm9yZSByZWNvbm5lY3RpbmcgZGF0YVNvdXJjZVxuICAgICAqL1xuICAgIHNldFJlY29ubmVjdFRpbWVvdXQodGltZW91dCkge1xuICAgICAgICB0aGlzLnJlY29ubmVjdFRpbWVvdXQgPSB0aW1lb3V0O1xuICAgIH1cblxuICAgIG9uUmVjb25uZWN0KCl7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGNvbm5lY3QoKSB7fVxuXG4gICAgZm9yY2VSZWNvbm5lY3QoKSB7XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLmNvbm5lY3QoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgY29ubmVjdGlvbiBTVEFUVVMgY2hhbmdlc1xuICAgICAqIEBwYXJhbSB7U3RhdHVzfSBzdGF0dXMgLSB0aGUgbmV3IHN0YXR1c1xuICAgICAqL1xuICAgIG9uQ2hhbmdlU3RhdHVzKHN0YXR1cykge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgYSBjaGFuZ2Ugb2YgdGhlIHN0YXR1cyBhbmQgY2FsbCB0aGUgY29ycmVzcG9uZGluZyBjYWxsYmFja3MgaWYgbmVjZXNzYXJ5XG4gICAgICogQHBhcmFtIHtTdGF0dXN9IHN0YXR1cyAtIHRoZSBjdXJyZW50U3RhdHVzXG4gICAgICovXG4gICAgY2hlY2tTdGF0dXMoc3RhdHVzKSB7XG4gICAgICAgIGlmKHN0YXR1cyAhPT0gdGhpcy5zdGF0dXMpIHtcbiAgICAgICAgICAgIHRoaXMub25DaGFuZ2VTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBjb25uZWN0b3IgaGFzIGJlZW4gZGlzY29ubmVjdGVkXG4gICAgICovXG4gICAgb25EaXNjb25uZWN0KCkge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGNvbm5lY3RvciBoYXMgYmVlbiBjb25uZWN0ZWRcbiAgICAgKi9cbiAgICBvbkNvbm5lY3QoKSB7XG5cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERhdGFDb25uZWN0b3I7XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogQkVHSU4gTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuIFRoZSBjb250ZW50cyBvZiB0aGlzIGZpbGUgYXJlIHN1YmplY3QgdG8gdGhlIE1vemlsbGEgUHVibGljIExpY2Vuc2UsIHYuIDIuMC5cbiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmVcbiBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uXG5cbiBTb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgYmFzaXMsXG4gV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlXG4gZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcmlnaHRzIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuIENvcHlyaWdodCAoQykgMjAxNS0yMDIwIE1hdGhpZXUgRGhhaW5hdXQuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbiBBdXRob3I6IE1hdGhpZXUgRGhhaW5hdXQgPG1hdGhpZXUuZGhhaW5hdXRAZ21haWwuY29tPlxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCBEYXRhQ29ubmVjdG9yIGZyb20gJy4vRGF0YUNvbm5lY3Rvci5qcyc7XG5pbXBvcnQge2lzV2ViV29ya2VyfSBmcm9tICcuLi91dGlscy9VdGlscy5qcyc7XG5pbXBvcnQge1N0YXR1c30gZnJvbSAnLi9TdGF0dXMuanMnO1xuXG4vKipcbiAqIERlZmluZXMgdGhlIFdlYlNvY2tldENvbm5lY3RvciB0byBjb25uZWN0IHRvIGEgcmVtb3RlIHNlcnZlciBieSBjcmVhdGluZyBhIFdlYlNvY2tldCBjaGFubmVsLlxuICogQGV4dGVuZHMgRGF0YUNvbm5lY3RvclxuICogQGV4YW1wbGVcbiAqIGltcG9ydCBXZWJTb2NrZXRDb25uZWN0b3IgZnJvbSAnb3NoL2RhdGFjb25uZWN0b3IvV2ViU29ja2V0Q29ubmVjdG9yLmpzJztcbiAqXG4gKiBsZXQgdXJsID0gLi4uO1xuICogbGV0IGNvbm5lY3RvciA9IG5ldyBXZWJTb2NrZXRDb25uZWN0b3IodXJsKTtcbiAqXG4gKiAvLyBjb25uZWN0XG4gKiBjb25uZWN0b3IuY29ubmVjdCgpO1xuICpcbiAqIC8vIGRpc2Nvbm5lY3RcbiAqIGNvbm5lY3Rvci5kaXNjb25uZWN0KCk7XG4gKlxuICogLy8gY2xvc2VcbiAqIGNvbm5lY3Rvci5jbG9zZSgpO1xuICpcbiAqL1xuXG5jbGFzcyBXZWJTb2NrZXRDb25uZWN0b3IgZXh0ZW5kcyBEYXRhQ29ubmVjdG9yIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcm9wZXJ0aWVzIC1cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0aWVzKSB7XG4gICAgICAgIHN1cGVyKHByb3BlcnRpZXMpO1xuICAgICAgICB0aGlzLmludGVydmFsID0gLTE7XG4gICAgICAgIHRoaXMubGFzdFJlY2VpdmVUaW1lID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25uZWN0IHRvIHRoZSB3ZWJTb2NrZXQuIElmIHRoZSBzeXN0ZW0gc3VwcG9ydHMgV2ViV29ya2VyLCBpdCB3aWxsIGF1dG9tYXRpY2FsbHkgY3JlYXRlcyBvbmUgb3RoZXJ3aXNlIHVzZVxuICAgICAqIHRoZSBtYWluIHRocmVhZC5cbiAgICAgKi9cbiAgICBhc3luYyBjb25uZWN0KCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5pdCkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaW5pdCA9IHRydWU7XG4gICAgICAgICAgICAvL2NyZWF0ZXMgV2ViIFNvY2tldFxuICAgICAgICAgICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQodGhpcy5nZXRVcmwoKSk7XG4gICAgICAgICAgICB0aGlzLndzLmJpbmFyeVR5cGUgPSAnYXJyYXlidWZmZXInO1xuICAgICAgICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrQW5kQ2xlYXJSZWNvbm5lY3Rpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrU3RhdHVzKFN0YXR1cy5DT05ORUNURUQpO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFJlY2VpdmVUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICAgICAgICAgIC8vY2FsbGJhY2sgZGF0YSBvbiBtZXNzYWdlIHJlY2VpdmVkXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEuYnl0ZUxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbk1lc3NhZ2UoZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgICAgICAgICAvLyBjbG9zZXMgc29ja2V0IGlmIGFueSBlcnJvcnMgb2NjdXJcbiAgICAgICAgICAgIHRoaXMud3Mub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYlNvY2tldCBzdHJlYW0gZXJyb3InKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrU3RhdHVzKFN0YXR1cy5ESVNDT05ORUNURUQpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFJlY2VpdmVUaW1lID0gLTE7XG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVSZWNvbm5lY3Rpb24oKTtcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy53cy5vbmNsb3NlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja1N0YXR1cyhTdGF0dXMuRElTQ09OTkVDVEVEKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1dlYlNvY2tldCBzdHJlYW0gY2xvc2VkOiAnLGV2ZW50LnJlYXNvbiwgZXZlbnQuY29kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYoZXZlbnQuY29kZSAhPT0gMTAwMCAmJiAhdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVSZWNvbm5lY3Rpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlUmVjb25uZWN0aW9uKCkge1xuICAgICAgICBpZighdGhpcy5jbG9zZWQgJiYgdGhpcy5yZWNvbm5lY3Rpb25JbnRlcnZhbCA9PT0gLTEgJiYgdGhpcy5vblJlY29ubmVjdCgpKSB7XG4gICAgICAgICAgICB0aGlzLnJlY29ubmVjdGlvbkludGVydmFsID0gIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBsZXQgZGVsdGEgPSBEYXRlLm5vdygpIC0gdGhpcy5sYXN0UmVjZWl2ZVRpbWU7XG4gICAgICAgICAgICAgICAgLy8gLTEgbWVhbnMgdGhlIFdTIHdlbnQgaW4gZXJyb3JcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sYXN0UmVjZWl2ZVRpbWUgPT09IC0xIHx8IChkZWx0YSA+PSB0aGlzLnJlY29ubmVjdFRpbWVvdXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybigndHJ5aW5nIHRvIHJlY29ubmVjdCcsIHRoaXMudXJsKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpLCB0aGlzLnJlY29ubmVjdFRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdHMgYW5kIGNsb3NlIHRoZSB3ZWJzb2NrZXQuXG4gICAgICovXG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgICBzdXBlci5kaXNjb25uZWN0KCk7XG4gICAgICAgdGhpcy5pbml0ID0gZmFsc2U7XG4gICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgIGlmICh0aGlzLndzICE9IG51bGwgJiYgdGhpcy53cy5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuQ0xPU0VEKSB7XG4gICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcbiAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9uTWVzc2FnZSBtZXRob2QgdXNlZCBieSB0aGUgd2Vic29ja2V0IHRvIGNhbGxiYWNrIHRoZSBkYXRhXG4gICAgICogQHBhcmFtIGRhdGEgdGhlIGNhbGxiYWNrIGRhdGFcbiAgICAgKiBAZXZlbnRcbiAgICAgKi9cbiAgICBvbk1lc3NhZ2UoZGF0YSkge1xuICAgIH1cblxuXG4gICAgaXNDb25uZWN0ZWQoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy53cyAhPSBudWxsICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgV2ViU29ja2V0Q29ubmVjdG9yO1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAyMCBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgRGF0YUNvbm5lY3RvciBmcm9tICcuL0RhdGFDb25uZWN0b3IuanMnO1xuaW1wb3J0IHtpc0RlZmluZWR9IGZyb20gJy4uL3V0aWxzL1V0aWxzLmpzJztcblxuLyoqXG4gKiBEZWZpbmVzIHRoZSBBamF4Q29ubmVjdG9yIHRvIGNvbm5lY3QgdG8gYSByZW1vdGUgc2VydmVyIGJ5IG1ha2luZyBBamF4UmVxdWVzdC5cbiAqIEBleHRlbmRzIERhdGFDb25uZWN0b3JcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgQWpheCBmcm9tICdvc2gvZGF0YWNvbm5lY3Rvci9BamF4LmpzJztcbiAqXG4gKiBsZXQgcmVxdWVzdCA9IC4uLjtcbiAqIGxldCBjb25uZWN0b3IgPSBuZXcgQWpheCh1cmwpO1xuICpcbiAqIC8vIGhhbmRsZSBvblN1Y2Nlc3NcbiAqIGNvbm5lY3Rvci5vblN1Y2Nlc3MgPSBmdW5jdGlvbihldmVudCkge1xuICogIC8vIGRvZXMgc29tZXRoaW5nXG4gKiB9XG4gKlxuICogY29ubmVjdG9yLm9uRXJyb3IgPSBmdW5jdGlvbihldmVudCkge1xuICogIC8vIGRvZXMgc29tZXRoaW5nXG4gKiB9XG4gKlxuICogLy8gc2VuZCByZXF1ZXN0XG4gKiBjb25uZWN0b3Iuc2VuZFJlcXVlc3QocmVxdWVzdCk7XG4gKlxuICovXG5jbGFzcyBBamF4IGV4dGVuZHMgRGF0YUNvbm5lY3RvciB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIEFqYXguXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCAtXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BlcnRpZXMgLVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLm1ldGhvZCAtXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMucmVzcG9uc2VUeXBlIC1cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih1cmwsIHByb3BlcnRpZXMpIHtcbiAgICAgICAgc3VwZXIodXJsKTtcblxuICAgICAgICB0aGlzLm1ldGhvZCA9IFwiUE9TVFwiO1xuICAgICAgICB0aGlzLnJlc3BvbnNlVHlwZSA9IFwiYXJyYXlidWZmZXJcIjtcblxuICAgICAgICBpZiAoaXNEZWZpbmVkKHByb3BlcnRpZXMpKSB7XG4gICAgICAgICAgICBpZiAocHJvcGVydGllcy5tZXRob2QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGhvZCA9IHByb3BlcnRpZXMubWV0aG9kO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJvcGVydGllcy5yZXNwb25zZVR5cGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlVHlwZSA9IHByb3BlcnRpZXMucmVzcG9uc2VUeXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZHMgdGhlIHJlcXVlc3QgdG8gdGhlIGRlZmluZWQgc2VydmVyLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSByZXF1ZXN0IC0gVGhlIEh0dHAgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBleHRyYVVybCAtIGdldCBxdWVyeSBwYXJhbWV0ZXJzXG4gICAgICovXG4gICAgc2VuZFJlcXVlc3QocmVxdWVzdCwgZXh0cmFVcmwpIHtcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgICAgICBsZXQgeG1saHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB4bWxodHRwLndpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gICAgICAgIHhtbGh0dHAudGltZW91dCA9IDYwMDAwO1xuICAgICAgICBpZiAocmVxdWVzdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChleHRyYVVybCkpIHtcbiAgICAgICAgICAgICAgICB4bWxodHRwLm9wZW4oXCJHRVRcIiwgdGhpcy5nZXRVcmwoKSArIFwiP1wiICsgZXh0cmFVcmwsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB4bWxodHRwLm9wZW4oXCJHRVRcIiwgdGhpcy5nZXRVcmwoKSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB4bWxodHRwLnJlc3BvbnNlVHlwZSA9IHRoaXMucmVzcG9uc2VUeXBlO1xuICAgICAgICAgICAgeG1saHR0cC5vbmxvYWQgPSAob0V2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHhtbGh0dHAucmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5vbk1lc3NhZ2UoeG1saHR0cC5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHhtbGh0dHAub250aW1lb3V0ID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRpbWVvdXRcIik7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB4bWxodHRwLnNlbmQobnVsbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB4bWxodHRwLm9wZW4oXCJQT1NUXCIsIHRoaXMuZ2V0VXJsKCksIHRydWUpO1xuICAgICAgICAgICAgeG1saHR0cC5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAndGV4dC94bWwnKTtcblxuICAgICAgICAgICAgeG1saHR0cC5zZW5kKHJlcXVlc3QpO1xuXG4gICAgICAgICAgICB4bWxodHRwLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoeG1saHR0cC5yZWFkeVN0YXRlIDwgNCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB3aGlsZSB3YWl0aW5nIHJlc3BvbnNlIGZyb20gc2VydmVyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh4bWxodHRwLnJlYWR5U3RhdGUgPT09IDQpIHsgICAgICAgICAgICAgICAgLy8gNCA9IFJlc3BvbnNlIGZyb20gc2VydmVyIGhhcyBiZWVuIGNvbXBsZXRlbHkgbG9hZGVkLlxuICAgICAgICAgICAgICAgICAgICBpZiAoeG1saHR0cC5zdGF0dXMgPT09IDIwMCAmJiB4bWxodHRwLnN0YXR1cyA8IDMwMCkgeyAvLyBodHRwIHN0YXR1cyBiZXR3ZWVuIDIwMCB0byAyOTkgYXJlIGFsbCBzdWNjZXNzZnVsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm9uU3VjY2Vzcyh4bWxodHRwLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm9uRXJyb3IoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBpcyB0aGUgY2FsbGJhY2sgbWV0aG9kIGluIGNhc2Ugb2YgZ2V0dGluZyBlcnJvciBjb25uZWN0aW9uLlxuICAgICAqIEBwYXJhbSBldmVudCBUaGUgZXJyb3IgZGV0YWlsc1xuICAgICAqIEBldmVudFxuICAgICAqL1xuICAgIG9uRXJyb3IoZXZlbnQpIHtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdGhlIGNhbGxiYWNrIG1ldGhvZCBpbiBjYXNlIG9mIGdldHRpbmcgc3VjY2VzcyBjb25uZWN0aW9uLlxuICAgICAqIEBwYXJhbSBldmVudFxuICAgICAqIEBldmVudFxuICAgICAqL1xuICAgIG9uU3VjY2VzcyhldmVudCkge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZHMgdGhlIHJlcXVlc3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbm5lY3QoKSB7XG4gICAgICAgIHRoaXMuc2VuZFJlcXVlc3QobnVsbCk7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgQWpheDtcbiIsImltcG9ydCBEYXRhQ29ubmVjdG9yIGZyb20gXCIuL0RhdGFDb25uZWN0b3JcIjtcblxuY2xhc3MgVG9waWNDb25uZWN0b3IgZXh0ZW5kcyBEYXRhQ29ubmVjdG9yIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcm9wZXJ0aWVzIC1cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0aWVzKSB7XG4gICAgICAgIHN1cGVyKHByb3BlcnRpZXMpO1xuICAgICAgICB0aGlzLmxhc3RSZWNlaXZlVGltZSA9IC0xO1xuICAgICAgICB0aGlzLmludGVydmFsID0gLTE7XG4gICAgICAgIHRoaXMuYnJvYWRjYXN0Q2hhbm5lbCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29ubmVjdCB0byB0aGUgYnJvYWRjYXN0Q2hhbm5lbC5cbiAgICAgKi9cbiAgICBjb25uZWN0KCkge1xuICAgICAgICBpZiAodGhpcy5icm9hZGNhc3RDaGFubmVsID09PSBudWxsKSB7XG4gICAgICAgICAgICAvL2NyZWF0ZXMgYnJvYWRjYXN0Q2hhbm5lbFxuICAgICAgICAgICAgdGhpcy5icm9hZGNhc3RDaGFubmVsID0gbmV3IEJyb2FkY2FzdENoYW5uZWwodGhpcy5nZXRVcmwoKSk7XG4gICAgICAgICAgICB0aGlzLmJyb2FkY2FzdENoYW5uZWwub25tZXNzYWdlID0gIChldmVudCkgID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RSZWNlaXZlVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgLy9jYWxsYmFjayBkYXRhIG9uIG1lc3NhZ2UgcmVjZWl2ZWRcbiAgICAgICAgICAgICAgICB0aGlzLm9uTWVzc2FnZShldmVudC5kYXRhLmRhdGEpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gY2xvc2VzIHNvY2tldCBpZiBhbnkgZXJyb3JzIG9jY3VyXG4gICAgICAgICAgICB0aGlzLmJyb2FkY2FzdENoYW5uZWwub25lcnJvciA9ICAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdCcm9hZGNhc3RDaGFubmVsIHN0cmVhbSBlcnJvcjogJyArIGV2ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLmJyb2FkY2FzdENoYW5uZWwuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RSZWNlaXZlVGltZSA9IC0xO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy9pbml0IHRoZSByZWNvbm5lY3QgaGFuZGxlclxuICAgICAgICAgICAgaWYgKHRoaXMuaW50ZXJ2YWwgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRlbHRhID0gRGF0ZS5ub3coKSAtIHRoaXMubGFzdFJlY2VpdmVUaW1lO1xuICAgICAgICAgICAgICAgICAgICAvLyAtMSBtZWFucyB0aGUgV1Mgd2VudCBpbiBlcnJvclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sYXN0UmVjZWl2ZVRpbWUgPT09IC0xIHx8IChkZWx0YSA+PSB0aGlzLnJlY29ubmVjdFRpbWVvdXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYHRyeWluZyB0byByZWNvbm5lY3QgYWZ0ZXIgJHt0aGlzLnJlY29ubmVjdFRpbWVvdXR9IC4uYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpLCB0aGlzLnJlY29ubmVjdFRpbWVvdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdHMgdGhlIHdlYnNvY2tldC5cbiAgICAgKi9cbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgICB0aGlzLmZ1bGxEaXNjb25uZWN0KHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZ1bGx5IGRpc2Nvbm5lY3QgdGhlIHdlYnNvY2tldCBjb25uZWN0aW9uIGJ5IHNlbmRpbmcgYSBjbG9zZSBtZXNzYWdlIHRvIHRoZSB3ZWJXb3JrZXIuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSByZW1vdmVJbnRlcnZhbCAgLSBmb3JjZSByZW1vdmluZyB0aGUgaW50ZXJ2YWxcbiAgICAgKi9cbiAgICBmdWxsRGlzY29ubmVjdChyZW1vdmVJbnRlcnZhbCkge1xuICAgICAgICBpZiAodGhpcy5icm9hZGNhc3RDaGFubmVsICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuYnJvYWRjYXN0Q2hhbm5lbC5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5icm9hZGNhc3RDaGFubmVsID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVtb3ZlSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcnkgdG8gcmVjb25uZWN0IGlmIHRoZSBjb25uZXhpb24gaWYgY2xvc2VkXG4gICAgICovXG4gICAgcmVjb25uZWN0KCkge1xuICAgICAgICB0aGlzLm9uUmVjb25uZWN0KCk7XG4gICAgICAgIGlmICh0aGlzLmluaXQpIHtcbiAgICAgICAgICAgIHRoaXMuZnVsbERpc2Nvbm5lY3QoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29ubmVjdCgpO1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9uTWVzc2FnZSBtZXRob2QgdXNlZCBieSB0aGUgd2Vic29ja2V0IHRvIGNhbGxiYWNrIHRoZSBkYXRhXG4gICAgICogQHBhcmFtIGRhdGEgdGhlIGNhbGxiYWNrIGRhdGFcbiAgICAgKiBAZXZlbnRcbiAgICAgKi9cbiAgICBvbk1lc3NhZ2UoZGF0YSkge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsb3NlcyB0aGUgd2ViU29ja2V0LlxuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRvcGljQ29ubmVjdG9yO1xuIiwiZXhwb3J0IGNvbnN0IEV2ZW50VHlwZSA9IHtcbiAgICBEQVRBOiAnZGF0YScsXG4gICAgU1RBVFVTOiAnc3RhdHVzJ1xufTtcbiIsImltcG9ydCBXZWJTb2NrZXRDb25uZWN0b3IgZnJvbSBcIi4uLy4uL2RhdGFjb25uZWN0b3IvV2ViU29ja2V0Q29ubmVjdG9yLmpzXCI7XG5pbXBvcnQgQWpheCBmcm9tIFwiLi4vLi4vZGF0YWNvbm5lY3Rvci9BamF4LmpzXCI7XG5pbXBvcnQge2lzRGVmaW5lZH0gZnJvbSBcIi4uLy4uL3V0aWxzL1V0aWxzLmpzXCI7XG5pbXBvcnQgVG9waWNDb25uZWN0b3IgZnJvbSBcIi4uLy4uL2RhdGFjb25uZWN0b3IvVG9waWNDb25uZWN0b3IuanNcIjtcbmltcG9ydCB7RXZlbnRUeXBlfSBmcm9tIFwiLi4vLi4vZXZlbnQvRXZlbnRUeXBlLmpzXCI7XG5pbXBvcnQge1N0YXR1c30gZnJvbSBcIi4uLy4uL2RhdGFjb25uZWN0b3IvU3RhdHVzXCI7XG5cbmNsYXNzIERhdGFTb3VyY2VIYW5kbGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKHBhcnNlcikge1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICAgICAgdGhpcy5jb25uZWN0b3IgPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RUaW1lU3RhbXAgPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RTdGFydFRpbWUgPSAnbm93JztcbiAgICAgICAgdGhpcy50aW1lU2hpZnQgPSAwO1xuICAgICAgICB0aGlzLnJlY29ubmVjdFRpbWVvdXQgPSAxMDAwICogMTA7IC8vIDEwIHNlY3NcbiAgICAgICAgdGhpcy52YWx1ZXMgPSBbXTtcbiAgICB9XG5cbiAgICBjcmVhdGVDb25uZWN0b3IocHJvcGVydGllc1N0ciwgdG9waWMsIGRhdGFTb3VyY2VJZCkge1xuICAgICAgICB0aGlzLmRhdGFTb3VyY2VJZCA9IGRhdGFTb3VyY2VJZDtcbiAgICAgICAgLy8gY2hlY2sgZm9yIGV4aXN0aW5nIGNvbm5lY3RvclxuICAgICAgICBpZih0aGlzLmNvbm5lY3RvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0b3IuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0b3IgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnJvYWRjYXN0Q2hhbm5lbCA9IG5ldyBCcm9hZGNhc3RDaGFubmVsKHRvcGljKTtcblxuICAgICAgICBjb25zdCBwcm9wZXJ0aWVzID0gSlNPTi5wYXJzZShwcm9wZXJ0aWVzU3RyKTtcblxuICAgICAgICBpZiAoaXNEZWZpbmVkKHByb3BlcnRpZXMuZmV0Y2gpKSB7XG4gICAgICAgICAgICB0aGlzLmZldGNoID0gcHJvcGVydGllcy5mZXRjaDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0RlZmluZWQocHJvcGVydGllcy50aW1lU2hpZnQpKSB7XG4gICAgICAgICAgICB0aGlzLnRpbWVTaGlmdCA9IHByb3BlcnRpZXMudGltZVNoaWZ0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzRGVmaW5lZChwcm9wZXJ0aWVzLmJ1ZmZlcmluZ1RpbWUpKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcmluZ1RpbWUgPSBwcm9wZXJ0aWVzLmJ1ZmZlcmluZ1RpbWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNEZWZpbmVkKHByb3BlcnRpZXMudGltZU91dCkpIHtcbiAgICAgICAgICAgIHRoaXMudGltZU91dCA9IHByb3BlcnRpZXMudGltZU91dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0RlZmluZWQocHJvcGVydGllcy5yZWNvbm5lY3RUaW1lb3V0KSkge1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3RUaW1lb3V0ID0gcHJvcGVydGllcy5yZWNvbm5lY3RUaW1lb3V0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYocHJvcGVydGllcy5zdGFydFRpbWUgPT09ICdub3cnKSB7XG4gICAgICAgICAgICB0aGlzLmJhdGNoU2l6ZSA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKHByb3BlcnRpZXMucmVwbGF5U3BlZWQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0RlZmluZWQocHJvcGVydGllcy5iYXRjaFNpemUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmF0Y2hTaXplID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc0RlZmluZWQocHJvcGVydGllcy5iYXRjaFNpemUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXRjaFNpemUgPSBwcm9wZXJ0aWVzLmJhdGNoU2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IHByb3BlcnRpZXM7XG4gICAgICAgIHRoaXMuY3JlYXRlRGF0YUNvbm5lY3Rvcih0aGlzLnByb3BlcnRpZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY3JlYXRlRGF0YUNvbm5lY3Rvcihwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMucGFyc2VyLmJ1aWxkVXJsKHtcbiAgICAgICAgICAgIC4uLnByb3BlcnRpZXMsXG4gICAgICAgICAgICB0aW1lU2hpZnQ6IHRoaXMudGltZVNoaWZ0XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBjaGVja3MgaWYgdHlwZSBpcyBXZWJTb2NrZXRDb25uZWN0b3JcbiAgICAgICAgaWYgKHByb3BlcnRpZXMucHJvdG9jb2wuc3RhcnRzV2l0aCgnd3MnKSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0b3IgPSBuZXcgV2ViU29ja2V0Q29ubmVjdG9yKHVybCk7XG4gICAgICAgICAgICAvLyBjb25uZWN0cyB0aGUgY2FsbGJhY2tcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdG9yLm9uTWVzc2FnZSA9IHRoaXMub25NZXNzYWdlLmJpbmQodGhpcyk7XG4gICAgICAgICAgICAvLyBzZXQgdGhlIHJlY29ubmVjdFRpbWVvdXRcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdG9yLnNldFJlY29ubmVjdFRpbWVvdXQodGhpcy5yZWNvbm5lY3RUaW1lb3V0KTtcbiAgICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0aWVzLnByb3RvY29sLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0b3IgPSBuZXcgQWpheCh1cmwpO1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0b3IucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgICAgICAgICAgIC8vIGNvbm5lY3RzIHRoZSBjYWxsYmFja1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0b3Iub25NZXNzYWdlID0gdGhpcy5vbk1lc3NhZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIC8vIHNldCB0aGUgcmVjb25uZWN0VGltZW91dFxuICAgICAgICAgICAgdGhpcy5jb25uZWN0b3Iuc2V0UmVjb25uZWN0VGltZW91dCh0aGlzLnJlY29ubmVjdFRpbWVvdXQpO1xuICAgICAgICB9IGVsc2UgaWYgKHByb3BlcnRpZXMucHJvdG9jb2wuc3RhcnRzV2l0aCgndG9waWMnKSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0b3IgPSBuZXcgVG9waWNDb25uZWN0b3IodXJsKTtcbiAgICAgICAgICAgIC8vIGNvbm5lY3RzIHRoZSBjYWxsYmFja1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0b3Iub25NZXNzYWdlID0gdGhpcy5vbk1lc3NhZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIC8vIHNldCB0aGUgcmVjb25uZWN0VGltZW91dFxuICAgICAgICAgICAgdGhpcy5jb25uZWN0b3Iuc2V0UmVjb25uZWN0VGltZW91dCh0aGlzLnJlY29ubmVjdFRpbWVvdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGFzdFN0YXJ0VGltZUNzdCA9IHRoaXMucGFyc2VyLmxhc3RTdGFydFRpbWU7XG4gICAgICAgIGNvbnN0IGxhc3RQcm9wZXJ0aWVzID0gcHJvcGVydGllcztcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdG9yICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBiaW5kIGNoYW5nZSBjb25uZWN0aW9uIFNUQVRVU1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0b3Iub25DaGFuZ2VTdGF0dXMgICA9IHRoaXMub25DaGFuZ2VTdGF0dXMuYmluZCh0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5jb25uZWN0b3Iub25SZWNvbm5lY3QgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaWYgbm90IHJlYWwgdGltZSwgcHJlc2VydmUgbGFzdCB0aW1lc3RhbXAgdG8gcmVjb25uZWN0IGF0IHRoZSBsYXN0IHRpbWUgcmVjZWl2ZWRcbiAgICAgICAgICAgICAgICAvLyBmb3IgdGhhdCwgd2UgdXBkYXRlIHRoZSBVUkwgd2l0aCB0aGUgbmV3IGxhc3QgdGltZSByZWNlaXZlZFxuICAgICAgICAgICAgICAgIGlmIChsYXN0U3RhcnRUaW1lQ3N0ICE9PSAnbm93Jykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rvci5zZXRVcmwodGhpcy5wYXJzZXIuYnVpbGRVcmwoXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0VGltZVN0YW1wOiBpc0RlZmluZWQodGhpcy5sYXN0VGltZVN0YW1wKSA/IG5ldyBEYXRlKHRoaXMubGFzdFRpbWVTdGFtcCkudG9JU09TdHJpbmcoKTogcHJvcGVydGllcy5zdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCB0b3BpYyB0byBsaXN0ZW5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdG9waWMgLSB0aGUgdG9waWMgdG8gbGlzdGVuXG4gICAgICovXG4gICAgc2V0VG9waWModG9waWMpIHtcbiAgICAgICAgaWYodGhpcy5icm9hZGNhc3RDaGFubmVsICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmJyb2FkY2FzdENoYW5uZWwuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJyb2FkY2FzdENoYW5uZWwgPSBuZXcgQnJvYWRjYXN0Q2hhbm5lbCh0b3BpYyk7XG4gICAgICAgIHRoaXMudG9waWMgPSB0b3BpYztcbiAgICB9XG5cbiAgICBjb25uZWN0KCkge1xuICAgICAgICBpZih0aGlzLmNvbm5lY3RvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0b3IuY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgaWYodGhpcy5jb25uZWN0b3IgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdG9yLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTWVzc2FnZShldmVudCkge1xuICAgICAgICBjb25zdCB0aW1lU3RhbXAgPSB0aGlzLnBhcnNlci5wYXJzZVRpbWVTdGFtcChldmVudCkgKyB0aGlzLnRpbWVTaGlmdDtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMucGFyc2VyLnBhcnNlRGF0YShldmVudCk7XG5cbiAgICAgICAgdGhpcy52YWx1ZXMucHVzaCh7XG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgdGltZVN0YW1wOiB0aW1lU3RhbXBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubGFzdFRpbWVTdGFtcCA9IHRpbWVTdGFtcDtcblxuICAgICAgICBpZihpc0RlZmluZWQodGhpcy5iYXRjaFNpemUpICYmIHRoaXMudmFsdWVzLmxlbmd0aCA+PSB0aGlzLmJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZCBhIGNoYW5nZSBzdGF0dXMgZXZlbnQgaW50byB0aGUgYnJvYWRjYXN0IGNoYW5uZWxcbiAgICAgKiBAcGFyYW0ge1N0YXR1c30gc3RhdHVzIC0gdGhlIG5ldyBzdGF0dXNcbiAgICAgKi9cbiAgICBvbkNoYW5nZVN0YXR1cyhzdGF0dXMpIHtcbiAgICAgICAgaWYoc3RhdHVzID09PSBTdGF0dXMuRElTQ09OTkVDVEVEKSB7XG4gICAgICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJyb2FkY2FzdENoYW5uZWwucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgdHlwZTogRXZlbnRUeXBlLlNUQVRVUyxcbiAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLFxuICAgICAgICAgICAgZGF0YVNvdXJjZUlkOiB0aGlzLmRhdGFTb3VyY2VJZFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRMYXN0VGltZVN0YW1wKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXN0VGltZVN0YW1wO1xuICAgIH1cblxuICAgIHVwZGF0ZVVybChwcm9wZXJ0aWVzKSB7XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuXG4gICAgICAgIGxldCBsYXN0VGltZXN0YW1wID0gIG5ldyBEYXRlKHRoaXMubGFzdFRpbWVTdGFtcCkudG9JU09TdHJpbmcoKTtcblxuICAgICAgICBpZihwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KCdzdGFydFRpbWUnKSkge1xuICAgICAgICAgICAgbGFzdFRpbWVzdGFtcCA9IHByb3BlcnRpZXMuc3RhcnRUaW1lO1xuICAgICAgICB9IGVsc2UgaWYodGhpcy5wcm9wZXJ0aWVzLnN0YXJ0VGltZSA9PT0gJ25vdycpe1xuICAgICAgICAgICAgLy9oYW5kbGUgUmVhbFRpbWVcbiAgICAgICAgICAgIGxhc3RUaW1lc3RhbXAgPSAnbm93JztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3JlYXRlRGF0YUNvbm5lY3Rvcih7XG4gICAgICAgICAgICAuLi50aGlzLnByb3BlcnRpZXMsXG4gICAgICAgICAgICAuLi5wcm9wZXJ0aWVzLFxuICAgICAgICAgICAgbGFzdFRpbWVTdGFtcDogbGFzdFRpbWVzdGFtcFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmNvbm5lY3QoKTtcbiAgICB9XG5cbiAgICBmbHVzaCgpIHtcbiAgICAgICAgdGhpcy5icm9hZGNhc3RDaGFubmVsLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIGRhdGFTb3VyY2VJZDogdGhpcy5kYXRhU291cmNlSWQsXG4gICAgICAgICAgICB0eXBlOiBFdmVudFR5cGUuREFUQSxcbiAgICAgICAgICAgIHZhbHVlczogdGhpcy52YWx1ZXMuc3BsaWNlKDAsIHRoaXMudmFsdWVzLmxlbmd0aClcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTWVzc2FnZShtZXNzYWdlLCB3b3JrZXIpIHtcbiAgICAgICAgaWYobWVzc2FnZS5tZXNzYWdlID09PSAnaW5pdCcpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQ29ubmVjdG9yKG1lc3NhZ2UucHJvcGVydGllcywgbWVzc2FnZS50b3BpYywgbWVzc2FnZS5pZCk7XG4gICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS5tZXNzYWdlID09PSAnY29ubmVjdCcpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdCgpO1xuICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UubWVzc2FnZSA9PT0gJ2Rpc2Nvbm5lY3QnKSB7XG4gICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLm1lc3NhZ2UgPT09ICd0b3BpYycpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VG9waWMobWVzc2FnZS50b3BpYyk7XG4gICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS5tZXNzYWdlID09PSAnbGFzdC10aW1lc3RhbXAnKSB7XG4gICAgICAgICAgICBjb25zdCBsYXN0VGltZVN0YW1wID0gdGhpcy5nZXRMYXN0VGltZVN0YW1wKCk7XG4gICAgICAgICAgICB3b3JrZXIucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdsYXN0LXRpbWVzdGFtcCcsXG4gICAgICAgICAgICAgICAgZGF0YTogbGFzdFRpbWVTdGFtcFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSAgZWxzZSBpZiAobWVzc2FnZS5tZXNzYWdlID09PSAndXBkYXRlLXVybCcpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVXJsKG1lc3NhZ2UuZGF0YSk7XG4gICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS5tZXNzYWdlID09PSAnaXMtY29ubmVjdGVkJykge1xuICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnaXMtY29ubmVjdGVkJyxcbiAgICAgICAgICAgICAgICBkYXRhOiAodGhpcy5jb25uZWN0b3IgPT09IG51bGwpPyBmYWxzZTogdGhpcy5jb25uZWN0b3IuaXNDb25uZWN0ZWQoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IERhdGFTb3VyY2VIYW5kbGVyO1xuXG4iLCJpbXBvcnQgU3dlSnNvblBhcnNlciBmcm9tICcuLi9wYXJzZXJzL1N3ZUpzb24ucGFyc2VyJztcbmltcG9ydCBEYXRhU291cmNlSGFuZGxlciBmcm9tICcuL0RhdGFTb3VyY2VIYW5kbGVyLmpzJztcblxuY29uc3QgZGF0YVNvdXJjZUhhbmRsZXIgPSBuZXcgRGF0YVNvdXJjZUhhbmRsZXIobmV3IFN3ZUpzb25QYXJzZXIoKSk7XG5cbnNlbGYub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgZGF0YVNvdXJjZUhhbmRsZXIuaGFuZGxlTWVzc2FnZShldmVudC5kYXRhLCBzZWxmKTtcbn1cblxuXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")}]);