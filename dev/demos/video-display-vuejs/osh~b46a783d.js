(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* unused harmony export MAX_LONG */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "k", function() { return isDefined; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "j", function() { return hasValue; });\n/* unused harmony export hex2rgb */\n/* unused harmony export hasType */\n/* unused harmony export isObject */\n/* unused harmony export isArray */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "l", function() { return isFunction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return assertDefined; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "i", function() { return assertTrue; });\n/* unused harmony export assertType */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return assertBoolean; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return assertString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return assertNumber; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return assertPositive; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return assertObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return assertArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return assertFunction; });\n/* unused harmony export assertHasValue */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "m", function() { return randomUUID; });\n/* unused harmony export stampUUID */\n/* unused harmony export ParseBytes */\n/* unused harmony export ReadData */\n/* unused harmony export GetResultObject */\n/* unused harmony export isOpera */\n/* unused harmony export isFirefox */\n/* unused harmony export isSafari */\n/* unused harmony export isChrome */\n/* unused harmony export isBlink */\n/* unused harmony export isArrayIntersect */\n/* unused harmony export isElement */\n/* unused harmony export isWebWorker */\n/* unused harmony export takeScreenShot */\n/* unused harmony export removeCss */\n/* unused harmony export addCss */\n/* unused harmony export removeLastCharIfExist */\n/* unused harmony export roundHalf */\n/* unused harmony export debounce */\n/* unused harmony export throttle */\n/* unused harmony export merge */\n/* unused harmony export rgbaToArray */\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n/** * @module Utils */\n\n/** Maximum value of a long */\nconst MAX_LONG = Math.pow(2, 53) + 1;\n/**\n * Global helper method to test if a letiable or object attribute is defined\n */\n\nfunction isDefined(v) {\n  return typeof v !== \'undefined\' && v !== null;\n}\n/**\n Global helper method to test if a letiable or object attribute has a value,\n that is it is defined and non null\n */\n\nfunction hasValue(v) {\n  return isDefined(v) && v !== null;\n}\n/**\n Global helper method to transform hex color into RGBA\n */\n\nfunction hex2rgb(hex) {\n  const [r, g, b] = hex.match(/\\w\\w/g).map(x => parseInt(x, 16));\n  return [r, g, b];\n}\n/**\n Global helper method to test if a letiable or object attribute is of a particular type\n */\n\nfunction hasType(v, expectedType) {\n  let hasVal = hasValue(v);\n  return hasVal && typeof v === expectedType;\n}\n/**\n Global helper method to test if a letiable or object attribute is an object\n */\n\nfunction isObject(v, letName) {\n  return hasType(v, \'object\', letName);\n}\n/**\n Global helper method to test if a letiable or object attribute is an array\n */\n\nfunction isArray(v) {\n  return isDefined(v) && Array.isArray(v);\n}\n/**\n Global helper method to test if a letiable or object attribute is a function\n */\n\nfunction isFunction(v, letName) {\n  return hasType(v, \'function\', letName);\n}\n/**\n Assert that a letiable or object attribute is defined\n **/\n\nfunction assertDefined(v, letName = \'letiable\') {\n  if (!isDefined(v)) {\n    throw letName + " must be defined";\n  }\n\n  return v;\n}\nfunction assertTrue(v, letName = \'letiable\') {\n  if (!isDefined(v) || !v) {\n    throw letName;\n  }\n\n  return v;\n}\n/**\n Assert that a letiable or object attribute is defined and non-null\n **/\n\nfunction assertType(v, expectedType, letName = \'letiable\') {\n  assertDefined(v, letName);\n\n  if (typeof v !== expectedType) {\n    throw letName + " must be of type " + expectedType;\n  }\n\n  return v;\n}\n/**\n Assert that a letiable or object attribute is a string\n **/\n\nfunction assertBoolean(v, letName) {\n  return assertType(v, \'boolean\', letName);\n}\n/**\n Assert that a letiable or object attribute is a string\n **/\n\nfunction assertString(v, letName) {\n  return assertType(v, \'string\', letName);\n}\n/**\n Assert that a letiable or object attribute is a number\n **/\n\nfunction assertNumber(v, letName) {\n  return assertType(v, \'number\', letName);\n}\n/**\n Assert that a letiable or object attribute is a number\n **/\n\nfunction assertPositive(v, letName) {\n  assertNumber(v, letName);\n\n  if (v <= 0) {\n    throw letName + " must be a positive number";\n  }\n}\n/**\n Assert that a letiable or object attribute is an object\n **/\n\nfunction assertObject(v, letName) {\n  return assertType(v, \'object\', letName);\n}\n/**\n Assert that a letiable or object attribute is an object\n **/\n\nfunction assertArray(v, letName = \'letiable\') {\n  assertDefined(v, letName);\n\n  if (!Array.isArray(v)) {\n    throw letName + " must be an array";\n  }\n\n  return v;\n}\n/**\n Assert that a letiable or object attribute is a function\n **/\n\nfunction assertFunction(v, letName) {\n  return assertType(v, \'function\', letName);\n}\n/**\n Assert that a letiable or object attribute is defined and non-null\n **/\n\nfunction assertHasValue(v, letName = \'letiable\') {\n  assertDefined(v, letName);\n\n  if (!hasValue(v)) {\n    throw letName + " must not be null";\n  }\n\n  return v;\n}\n/**\n *\n * @return {String}\n */\n\nfunction randomUUID() {\n  return \'xxxxxxxx-xxxx-xxxx-yxxx-xxxxxxxxxxxx\'.replace(/[xy]/g, function (c) {\n    let r = Math.random() * 16 | 0,\n        v = c === \'x\' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\n/**\n * This function stamps/embeds a UUID into an object and returns the UUID generated for it\n * @return {String}\n */\n\nfunction stampUUID(obj) {\n  obj._osh_id = obj._osh_id || randomUUID();\n  return obj._osh_id;\n} //buffer is an ArrayBuffer object, the offset if specified in bytes, and the type is a string\n//corresponding to an OGC data type.\n//See http://def.seegrid.csiro.au/sissvoc/ogc-def/resource?uri=http://www.opengis.net/def/dataType/OGC/0/\n\n/**\n *\n * @param buffer\n * @param offset\n * @param type\n * @return {*}\n */\n\nfunction ParseBytes(buffer, offset, type) {\n  let view = new DataView(buffer); //Note: There exist types not listed in the map below that have OGC definitions, but no appropriate\n  //methods or corresponding types available for parsing in javascript. They are float128, float16, signedLong,\n  //and unsignedLong\n\n  let typeMap = {\n    double: function (offset) {\n      return {\n        val: view.getFloat64(offset),\n        bytes: 8\n      };\n    },\n    float64: function (offset) {\n      return {\n        val: view.getFloat64(offset),\n        bytes: 8\n      };\n    },\n    float32: function (offset) {\n      return {\n        val: view.getFloat32(offset),\n        bytes: 4\n      };\n    },\n    signedByte: function (offset) {\n      return {\n        val: view.getInt8(offset),\n        bytes: 1\n      };\n    },\n    signedInt: function (offset) {\n      return {\n        val: view.getInt32(offset),\n        bytes: 4\n      };\n    },\n    signedShort: function (offset) {\n      return {\n        val: view.getInt16(offset),\n        bytes: 2\n      };\n    },\n    unsignedByte: function (offset) {\n      return {\n        val: view.getUint8(offset),\n        bytes: 1\n      };\n    },\n    unsignedInt: function (offset) {\n      return {\n        val: view.getUint32(offset),\n        bytes: 4\n      };\n    },\n    unsignedShort: function (offset) {\n      return {\n        val: view.getUint16(offset),\n        bytes: 2\n      };\n    } //TODO: string-utf-8:\n\n  };\n  return typeMap[type](offset);\n} //This function recursivley iterates over the resultStructure to fill in\n//values read from data which should be an ArrayBuffer containing the payload from a websocket\n\n/**\n *\n * @param struct\n * @param data\n * @param offsetBytes\n * @return {*}\n */\n\nfunction ReadData(struct, data, offsetBytes) {\n  let offset = offsetBytes;\n\n  for (let i = 0; i < struct.fields.length; i++) {\n    let currFieldStruct = struct.fields[i];\n\n    if (isDefined(currFieldStruct.type) && currFieldStruct.type !== null) {\n      let ret = ParseBytes(data, offset, currFieldStruct.type);\n      currFieldStruct.val = ret.val;\n      offset += ret.bytes;\n    } else if (isDefined(currFieldStruct.count) && currFieldStruct.count !== null) {\n      //check if count is a reference to another letiable\n      if (isNaN(currFieldStruct.count)) {\n        let id = currFieldStruct.count;\n        let fieldName = struct.id2FieldMap[id];\n        currFieldStruct.count = struct.findFieldByName(fieldName).val;\n      }\n\n      for (let c = 0; c < currFieldStruct.count; c++) {\n        for (let j = 0; j < currFieldStruct.fields.length; j++) {\n          let field = JSON.parse(JSON.stringify(currFieldStruct.fields[j]));\n          offset = ReadData(field, data, offset);\n          currFieldStruct.val.push(field);\n        }\n      }\n    }\n  }\n\n  return offset;\n}\n/**\n *\n * @param resultStructure\n * @return {{}}\n */\n\nfunction GetResultObject(resultStructure) {\n  //TODO: handle cases for nested arrays / matrix data types\n  let result = {};\n\n  for (let i = 0; i < resultStructure.fields.length; i++) {\n    if (isDefined(resultStructure.fields[i].count)) {\n      result[resultStructure.fields[i].name] = [];\n\n      for (let c = 0; c < resultStructure.fields[i].count; c++) {\n        let item = {};\n\n        for (let k = 0; k < resultStructure.fields[i].val[c].fields.length; k++) {\n          item[resultStructure.fields[i].val[c].fields[k].name] = resultStructure.fields[i].val[c].fields[k].val;\n        }\n\n        result[resultStructure.fields[i].name].push(item);\n      }\n    } else {\n      result[resultStructure.fields[i].name] = resultStructure.fields[i].val;\n    }\n  }\n\n  return result;\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isOpera() {\n  return !!window.opr && !!opr.addons || !!window.opera || navigator.userAgent.indexOf(\' OPR/\') >= 0;\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isFirefox() {\n  return typeof InstallTrigger !== \'undefined\';\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isSafari() {\n  return Object.prototype.toString.call(window.HTMLElement).indexOf(\'Constructor\') > 0;\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isChrome() {\n  return !!window.chrome && !!window.chrome.webstore;\n}\n/**\n *\n * @return {*|boolean}\n */\n\nfunction isBlink() {\n  return (isChrome || isOpera) && !!window.CSS;\n}\n/**\n *\n * @param a\n * @param b\n * @return {boolean}\n */\n\nfunction isArrayIntersect(a, b) {\n  return a.filter(function (element) {\n    return b.indexOf(element) > -1;\n  }).length > 0;\n}\n/**\n *\n * @param o\n * @return {boolean}\n */\n\nfunction isElement(o) {\n  return typeof HTMLElement === "object" ? o instanceof HTMLElement : //DOM2\n  o && typeof o === "object" && o !== null && o.nodeType === 1 && typeof o.nodeName === "string";\n}\n/**\n *\n * @return {*}\n */\n\nfunction isWebWorker() {\n  return isDefined(Worker);\n}\n/**\n *\n * @param div\n */\n\nfunction takeScreenShot(div) {}\n/**\n * Remove a css class from a the div given as argument.\n * @param div the div to remove the class from\n * @param css the css class to remove\n */\n\nfunction removeCss(div, css) {\n  let divCss = div.className;\n  css = divCss.replace(css, "");\n  div.className = css;\n}\n/**\n * Add a css class to a the div given as argument.\n * @param div the div to add the class to\n * @param css the css class to add\n */\n\nfunction addCss(div, css) {\n  div.setAttribute("class", div.className + " " + css);\n}\n/**\n * Removes the last character of a {string} object.\n * @param {string} value - The input {string}\n * @return {string} The value without the last character\n */\n\nfunction removeLastCharIfExist(value) {\n  if (!isDefined(undefined) || value === null || value.length === 0 || !value.endsWith("/")) {\n    return value;\n  }\n\n  return value.substring(0, value.length - 1);\n}\n/**\n * Round off number to nearest 0.5\n * @param {Number} num - The number to round off\n * @return {number} The rounded number\n */\n\nfunction roundHalf(num) {\n  return Math.round(num * 2) / 2;\n}\n/**\n * Returns a function that, as long as it continues to be invoked,\n * will not be executed. The function will only be executed when\n * it will stop being called for more than N milliseconds.\n * If the `immediate` parameter is true, then the function\n * will be executed at the first call instead of the last.\n * Parameters :\n * - func: the function to `debouncer`.\n * - wait: the number of milliseconds (N) to wait before\n * call func()\n * - immediate (optional): Call func() at the first invocation\n * instead of the last one (Default false)\n * - context (optional): the context in which to call func()\n * (this by default)\n */\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\n\nfunction debounce(func, wait, immediate) {\n  var timeout, args, context, timestamp, result;\n\n  var later = function () {\n    var now = new Date().getTime(),\n        last = now - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n\n      if (!immediate) {\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      }\n    }\n  };\n\n  return function () {\n    context = this;\n    args = arguments;\n    timestamp = new Date().getTime();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n}\n;\nfunction throttle(func, wait, leading, trailing, context) {\n  var ctx, args, result;\n  var timeout = null;\n  var previous = 0;\n\n  var later = function () {\n    previous = new Date();\n    timeout = null;\n    result = func.apply(ctx, args);\n  };\n\n  return function () {\n    var now = new Date();\n    if (!previous && !leading) previous = now;\n    var remaining = wait - (now - previous);\n    ctx = context || this;\n    args = arguments;\n\n    if (remaining <= 0) {\n      clearTimeout(timeout);\n      timeout = null;\n      previous = now;\n      result = func.apply(ctx, args);\n    } else if (!timeout && trailing) {\n      // Sinon on s’endort pendant le temps restant\n      timeout = setTimeout(later, remaining);\n    }\n\n    return result;\n  };\n}\n;\nfunction merge(target, source) {\n  // Iterate through `source` properties and if an `Object` set property to merge of `target` and `source` properties\n  for (const key of Object.keys(source)) {\n    if (source[key] instanceof Object && key in target) Object.assign(source[key], merge(target[key], source[key]));\n  } // Join `target` and modified `source`\n\n\n  Object.assign(target || {}, source);\n  return target;\n}\n;\nfunction rgbaToArray(str) {\n  let startIdxValue = str.indexOf(\'(\') + 1;\n  let endIdxValue = str.indexOf(\')\');\n  let values = str.substr(startIdxValue, endIdxValue - startIdxValue);\n  return values.split(\',\').map(Number);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91dGlscy9VdGlscy5qcz9mODdlIl0sIm5hbWVzIjpbIk1BWF9MT05HIiwiTWF0aCIsInBvdyIsImlzRGVmaW5lZCIsInYiLCJoYXNWYWx1ZSIsImhleDJyZ2IiLCJoZXgiLCJyIiwiZyIsImIiLCJtYXRjaCIsIm1hcCIsIngiLCJwYXJzZUludCIsImhhc1R5cGUiLCJleHBlY3RlZFR5cGUiLCJoYXNWYWwiLCJpc09iamVjdCIsImxldE5hbWUiLCJpc0FycmF5IiwiQXJyYXkiLCJpc0Z1bmN0aW9uIiwiYXNzZXJ0RGVmaW5lZCIsImFzc2VydFRydWUiLCJhc3NlcnRUeXBlIiwiYXNzZXJ0Qm9vbGVhbiIsImFzc2VydFN0cmluZyIsImFzc2VydE51bWJlciIsImFzc2VydFBvc2l0aXZlIiwiYXNzZXJ0T2JqZWN0IiwiYXNzZXJ0QXJyYXkiLCJhc3NlcnRGdW5jdGlvbiIsImFzc2VydEhhc1ZhbHVlIiwicmFuZG9tVVVJRCIsInJlcGxhY2UiLCJjIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdGFtcFVVSUQiLCJvYmoiLCJfb3NoX2lkIiwiUGFyc2VCeXRlcyIsImJ1ZmZlciIsIm9mZnNldCIsInR5cGUiLCJ2aWV3IiwiRGF0YVZpZXciLCJ0eXBlTWFwIiwiZG91YmxlIiwidmFsIiwiZ2V0RmxvYXQ2NCIsImJ5dGVzIiwiZmxvYXQ2NCIsImZsb2F0MzIiLCJnZXRGbG9hdDMyIiwic2lnbmVkQnl0ZSIsImdldEludDgiLCJzaWduZWRJbnQiLCJnZXRJbnQzMiIsInNpZ25lZFNob3J0IiwiZ2V0SW50MTYiLCJ1bnNpZ25lZEJ5dGUiLCJnZXRVaW50OCIsInVuc2lnbmVkSW50IiwiZ2V0VWludDMyIiwidW5zaWduZWRTaG9ydCIsImdldFVpbnQxNiIsIlJlYWREYXRhIiwic3RydWN0IiwiZGF0YSIsIm9mZnNldEJ5dGVzIiwiaSIsImZpZWxkcyIsImxlbmd0aCIsImN1cnJGaWVsZFN0cnVjdCIsInJldCIsImNvdW50IiwiaXNOYU4iLCJpZCIsImZpZWxkTmFtZSIsImlkMkZpZWxkTWFwIiwiZmluZEZpZWxkQnlOYW1lIiwiaiIsImZpZWxkIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwicHVzaCIsIkdldFJlc3VsdE9iamVjdCIsInJlc3VsdFN0cnVjdHVyZSIsInJlc3VsdCIsIm5hbWUiLCJpdGVtIiwiayIsImlzT3BlcmEiLCJ3aW5kb3ciLCJvcHIiLCJhZGRvbnMiLCJvcGVyYSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImluZGV4T2YiLCJpc0ZpcmVmb3giLCJJbnN0YWxsVHJpZ2dlciIsImlzU2FmYXJpIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiY2FsbCIsIkhUTUxFbGVtZW50IiwiaXNDaHJvbWUiLCJjaHJvbWUiLCJ3ZWJzdG9yZSIsImlzQmxpbmsiLCJDU1MiLCJpc0FycmF5SW50ZXJzZWN0IiwiYSIsImZpbHRlciIsImVsZW1lbnQiLCJpc0VsZW1lbnQiLCJvIiwibm9kZVR5cGUiLCJub2RlTmFtZSIsImlzV2ViV29ya2VyIiwiV29ya2VyIiwidGFrZVNjcmVlblNob3QiLCJkaXYiLCJyZW1vdmVDc3MiLCJjc3MiLCJkaXZDc3MiLCJjbGFzc05hbWUiLCJhZGRDc3MiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVMYXN0Q2hhcklmRXhpc3QiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsImVuZHNXaXRoIiwic3Vic3RyaW5nIiwicm91bmRIYWxmIiwibnVtIiwicm91bmQiLCJkZWJvdW5jZSIsImZ1bmMiLCJ3YWl0IiwiaW1tZWRpYXRlIiwidGltZW91dCIsImFyZ3MiLCJjb250ZXh0IiwidGltZXN0YW1wIiwibGF0ZXIiLCJub3ciLCJEYXRlIiwiZ2V0VGltZSIsImxhc3QiLCJzZXRUaW1lb3V0IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJjYWxsTm93IiwidGhyb3R0bGUiLCJsZWFkaW5nIiwidHJhaWxpbmciLCJjdHgiLCJwcmV2aW91cyIsInJlbWFpbmluZyIsImNsZWFyVGltZW91dCIsIm1lcmdlIiwidGFyZ2V0Iiwic291cmNlIiwia2V5Iiwia2V5cyIsImFzc2lnbiIsInJnYmFUb0FycmF5Iiwic3RyIiwic3RhcnRJZHhWYWx1ZSIsImVuZElkeFZhbHVlIiwidmFsdWVzIiwic3Vic3RyIiwic3BsaXQiLCJOdW1iZXIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDTyxNQUFNQSxRQUFRLEdBQUdDLElBQUksQ0FBQ0MsR0FBTCxDQUFTLENBQVQsRUFBWSxFQUFaLElBQWtCLENBQW5DO0FBRVA7QUFDQTtBQUNBOztBQUNPLFNBQVNDLFNBQVQsQ0FBbUJDLENBQW5CLEVBQXNCO0FBQ3pCLFNBQU8sT0FBUUEsQ0FBUixLQUFlLFdBQWYsSUFBOEJBLENBQUMsS0FBSyxJQUEzQztBQUNIO0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBQ08sU0FBU0MsUUFBVCxDQUFrQkQsQ0FBbEIsRUFBcUI7QUFDeEIsU0FBT0QsU0FBUyxDQUFDQyxDQUFELENBQVQsSUFBZ0JBLENBQUMsS0FBSyxJQUE3QjtBQUNIO0FBRUQ7QUFDQTtBQUNBOztBQUNPLFNBQVNFLE9BQVQsQ0FBaUJDLEdBQWpCLEVBQXFCO0FBQ3hCLFFBQU0sQ0FBQ0MsQ0FBRCxFQUFJQyxDQUFKLEVBQU9DLENBQVAsSUFBWUgsR0FBRyxDQUFDSSxLQUFKLENBQVUsT0FBVixFQUFt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QUFXSCxhQUFYLEVBQTBCQyxXQUFXLEdBQUNELGFBQXRDLENBQWI7QUFDQSxTQUFPRSxNQUFNLENBQUNFLEtBQVAsQ0FBYSxHQUFiLEVBQWtCckssR0FBbEIsQ0FBc0JzSyxNQUF0QixDQUFQO0FBQ0giLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSwgdi4gMi4wLlxuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZVxuIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cblxuIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcyxcbiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2VcbiBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyByaWdodHMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4gQ29weXJpZ2h0IChDKSAyMDE1LTIwMjAgTWF0aGlldSBEaGFpbmF1dC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuIEF1dGhvcjogTWF0aGlldSBEaGFpbmF1dCA8bWF0aGlldS5kaGFpbmF1dEBnbWFpbC5jb20+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqICogQG1vZHVsZSBVdGlscyAqL1xuXG4vKiogTWF4aW11bSB2YWx1ZSBvZiBhIGxvbmcgKi9cbmV4cG9ydCBjb25zdCBNQVhfTE9ORyA9IE1hdGgucG93KDIsIDUzKSArIDE7XG5cbi8qKlxuICogR2xvYmFsIGhlbHBlciBtZXRob2QgdG8gdGVzdCBpZiBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgZGVmaW5lZFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNEZWZpbmVkKHYpIHtcbiAgICByZXR1cm4gdHlwZW9mICh2KSAhPT0gJ3VuZGVmaW5lZCcgJiYgdiAhPT0gbnVsbDtcbn1cblxuLyoqXG4gR2xvYmFsIGhlbHBlciBtZXRob2QgdG8gdGVzdCBpZiBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaGFzIGEgdmFsdWUsXG4gdGhhdCBpcyBpdCBpcyBkZWZpbmVkIGFuZCBub24gbnVsbFxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzVmFsdWUodikge1xuICAgIHJldHVybiBpc0RlZmluZWQodikgJiYgdiAhPT0gbnVsbDtcbn1cblxuLyoqXG4gR2xvYmFsIGhlbHBlciBtZXRob2QgdG8gdHJhbnNmb3JtIGhleCBjb2xvciBpbnRvIFJHQkFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhleDJyZ2IoaGV4KXtcbiAgICBjb25zdCBbciwgZywgYl0gPSBoZXgubWF0Y2goL1xcd1xcdy9nKS5tYXAoeCA9PiBwYXJzZUludCh4LCAxNikpO1xuICAgIHJldHVybiBbciwgZywgYl07XG59XG4vKipcbiBHbG9iYWwgaGVscGVyIG1ldGhvZCB0byB0ZXN0IGlmIGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBvZiBhIHBhcnRpY3VsYXIgdHlwZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzVHlwZSh2LCBleHBlY3RlZFR5cGUpIHtcbiAgICBsZXQgaGFzVmFsID0gaGFzVmFsdWUodik7XG4gICAgcmV0dXJuIGhhc1ZhbCAmJiB0eXBlb2YgKHYpID09PSBleHBlY3RlZFR5cGU7XG59XG5cbi8qKlxuIEdsb2JhbCBoZWxwZXIgbWV0aG9kIHRvIHRlc3QgaWYgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGFuIG9iamVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QodiwgbGV0TmFtZSkge1xuICAgIHJldHVybiBoYXNUeXBlKHYsICdvYmplY3QnLCBsZXROYW1lKTtcbn1cblxuLyoqXG4gR2xvYmFsIGhlbHBlciBtZXRob2QgdG8gdGVzdCBpZiBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYW4gYXJyYXlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXkodikge1xuICAgIHJldHVybiBpc0RlZmluZWQodikgJiYgQXJyYXkuaXNBcnJheSh2KTtcbn1cblxuLyoqXG4gR2xvYmFsIGhlbHBlciBtZXRob2QgdG8gdGVzdCBpZiBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYSBmdW5jdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih2LCBsZXROYW1lKSB7XG4gICAgcmV0dXJuIGhhc1R5cGUodiwgJ2Z1bmN0aW9uJywgbGV0TmFtZSk7XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBkZWZpbmVkXG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0RGVmaW5lZCh2LCBsZXROYW1lID0gJ2xldGlhYmxlJykge1xuICAgIGlmICghaXNEZWZpbmVkKHYpKSB7XG4gICAgICAgIHRocm93IGxldE5hbWUgKyBcIiBtdXN0IGJlIGRlZmluZWRcIjtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRUcnVlKHYsIGxldE5hbWUgPSAnbGV0aWFibGUnKSB7XG4gICAgaWYgKCFpc0RlZmluZWQodikgfHwgIXYpIHtcbiAgICAgICAgdGhyb3cgbGV0TmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG59XG4vKipcbiBBc3NlcnQgdGhhdCBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgZGVmaW5lZCBhbmQgbm9uLW51bGxcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRUeXBlKHYsIGV4cGVjdGVkVHlwZSwgbGV0TmFtZSA9ICdsZXRpYWJsZScpIHtcbiAgICBhc3NlcnREZWZpbmVkKHYsIGxldE5hbWUpO1xuICAgIGlmICh0eXBlb2YgKHYpICE9PSBleHBlY3RlZFR5cGUpIHtcbiAgICAgICAgdGhyb3cgbGV0TmFtZSArIFwiIG11c3QgYmUgb2YgdHlwZSBcIiArIGV4cGVjdGVkVHlwZTtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBhIHN0cmluZ1xuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEJvb2xlYW4odiwgbGV0TmFtZSkge1xuICAgIHJldHVybiBhc3NlcnRUeXBlKHYsICdib29sZWFuJywgbGV0TmFtZSk7XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBhIHN0cmluZ1xuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFN0cmluZyh2LCBsZXROYW1lKSB7XG4gICAgcmV0dXJuIGFzc2VydFR5cGUodiwgJ3N0cmluZycsIGxldE5hbWUpO1xufVxuXG4vKipcbiBBc3NlcnQgdGhhdCBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYSBudW1iZXJcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnROdW1iZXIodiwgbGV0TmFtZSkge1xuICAgIHJldHVybiBhc3NlcnRUeXBlKHYsICdudW1iZXInLCBsZXROYW1lKTtcbn1cblxuLyoqXG4gQXNzZXJ0IHRoYXQgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGEgbnVtYmVyXG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0UG9zaXRpdmUodiwgbGV0TmFtZSkge1xuICAgIGFzc2VydE51bWJlcih2LCBsZXROYW1lKTtcbiAgICBpZiAodiA8PSAwKSB7XG4gICAgICAgIHRocm93IGxldE5hbWUgKyBcIiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXCI7XG4gICAgfVxufVxuXG4vKipcbiBBc3NlcnQgdGhhdCBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYW4gb2JqZWN0XG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0T2JqZWN0KHYsIGxldE5hbWUpIHtcbiAgICByZXR1cm4gYXNzZXJ0VHlwZSh2LCAnb2JqZWN0JywgbGV0TmFtZSk7XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBhbiBvYmplY3RcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRBcnJheSh2LCBsZXROYW1lID0gJ2xldGlhYmxlJykge1xuICAgIGFzc2VydERlZmluZWQodiwgbGV0TmFtZSk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHYpKSB7XG4gICAgICAgIHRocm93IGxldE5hbWUgKyBcIiBtdXN0IGJlIGFuIGFycmF5XCI7XG4gICAgfVxuICAgIHJldHVybiB2O1xufVxuXG4vKipcbiBBc3NlcnQgdGhhdCBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYSBmdW5jdGlvblxuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEZ1bmN0aW9uKHYsIGxldE5hbWUpIHtcbiAgICByZXR1cm4gYXNzZXJ0VHlwZSh2LCAnZnVuY3Rpb24nLCBsZXROYW1lKTtcbn1cblxuLyoqXG4gQXNzZXJ0IHRoYXQgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGRlZmluZWQgYW5kIG5vbi1udWxsXG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0SGFzVmFsdWUodiwgbGV0TmFtZSA9ICdsZXRpYWJsZScpIHtcbiAgICBhc3NlcnREZWZpbmVkKHYsIGxldE5hbWUpO1xuICAgIGlmICghaGFzVmFsdWUodikpIHtcbiAgICAgICAgdGhyb3cgbGV0TmFtZSArIFwiIG11c3Qgbm90IGJlIG51bGxcIjtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG59XG5cbi8qKlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbVVVSUQoKSB7XG4gICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LXh4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgbGV0IHIgPSBNYXRoLnJhbmRvbSgpICogMTYgfCAwLCB2ID0gYyA9PT0gJ3gnID8gciA6IChyICYgMHgzIHwgMHg4KTtcbiAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gc3RhbXBzL2VtYmVkcyBhIFVVSUQgaW50byBhbiBvYmplY3QgYW5kIHJldHVybnMgdGhlIFVVSUQgZ2VuZXJhdGVkIGZvciBpdFxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhbXBVVUlEKG9iaikge1xuICAgIG9iai5fb3NoX2lkID0gb2JqLl9vc2hfaWQgfHwgcmFuZG9tVVVJRCgpO1xuICAgIHJldHVybiBvYmouX29zaF9pZDtcbn1cblxuLy9idWZmZXIgaXMgYW4gQXJyYXlCdWZmZXIgb2JqZWN0LCB0aGUgb2Zmc2V0IGlmIHNwZWNpZmllZCBpbiBieXRlcywgYW5kIHRoZSB0eXBlIGlzIGEgc3RyaW5nXG4vL2NvcnJlc3BvbmRpbmcgdG8gYW4gT0dDIGRhdGEgdHlwZS5cbi8vU2VlIGh0dHA6Ly9kZWYuc2VlZ3JpZC5jc2lyby5hdS9zaXNzdm9jL29nYy1kZWYvcmVzb3VyY2U/dXJpPWh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZGVmL2RhdGFUeXBlL09HQy8wL1xuLyoqXG4gKlxuICogQHBhcmFtIGJ1ZmZlclxuICogQHBhcmFtIG9mZnNldFxuICogQHBhcmFtIHR5cGVcbiAqIEByZXR1cm4geyp9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBQYXJzZUJ5dGVzKGJ1ZmZlciwgb2Zmc2V0LCB0eXBlKSB7XG4gICAgbGV0IHZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmZmVyKTtcblxuICAgIC8vTm90ZTogVGhlcmUgZXhpc3QgdHlwZXMgbm90IGxpc3RlZCBpbiB0aGUgbWFwIGJlbG93IHRoYXQgaGF2ZSBPR0MgZGVmaW5pdGlvbnMsIGJ1dCBubyBhcHByb3ByaWF0ZVxuICAgIC8vbWV0aG9kcyBvciBjb3JyZXNwb25kaW5nIHR5cGVzIGF2YWlsYWJsZSBmb3IgcGFyc2luZyBpbiBqYXZhc2NyaXB0LiBUaGV5IGFyZSBmbG9hdDEyOCwgZmxvYXQxNiwgc2lnbmVkTG9uZyxcbiAgICAvL2FuZCB1bnNpZ25lZExvbmdcbiAgICBsZXQgdHlwZU1hcCA9IHtcbiAgICAgICAgZG91YmxlOiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRGbG9hdDY0KG9mZnNldCksIGJ5dGVzOiA4fTtcbiAgICAgICAgfSxcbiAgICAgICAgZmxvYXQ2NDogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWw6IHZpZXcuZ2V0RmxvYXQ2NChvZmZzZXQpLCBieXRlczogOH07XG4gICAgICAgIH0sXG4gICAgICAgIGZsb2F0MzI6IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB7dmFsOiB2aWV3LmdldEZsb2F0MzIob2Zmc2V0KSwgYnl0ZXM6IDR9O1xuICAgICAgICB9LFxuICAgICAgICBzaWduZWRCeXRlOiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRJbnQ4KG9mZnNldCksIGJ5dGVzOiAxfTtcbiAgICAgICAgfSxcbiAgICAgICAgc2lnbmVkSW50OiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRJbnQzMihvZmZzZXQpLCBieXRlczogNH07XG4gICAgICAgIH0sXG4gICAgICAgIHNpZ25lZFNob3J0OiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRJbnQxNihvZmZzZXQpLCBieXRlczogMn07XG4gICAgICAgIH0sXG4gICAgICAgIHVuc2lnbmVkQnl0ZTogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWw6IHZpZXcuZ2V0VWludDgob2Zmc2V0KSwgYnl0ZXM6IDF9O1xuICAgICAgICB9LFxuICAgICAgICB1bnNpZ25lZEludDogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWw6IHZpZXcuZ2V0VWludDMyKG9mZnNldCksIGJ5dGVzOiA0fTtcbiAgICAgICAgfSxcbiAgICAgICAgdW5zaWduZWRTaG9ydDogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWw6IHZpZXcuZ2V0VWludDE2KG9mZnNldCksIGJ5dGVzOiAyfTtcbiAgICAgICAgfSxcbiAgICAgICAgLy9UT0RPOiBzdHJpbmctdXRmLTg6XG4gICAgfTtcbiAgICByZXR1cm4gdHlwZU1hcFt0eXBlXShvZmZzZXQpO1xufVxuXG4vL1RoaXMgZnVuY3Rpb24gcmVjdXJzaXZsZXkgaXRlcmF0ZXMgb3ZlciB0aGUgcmVzdWx0U3RydWN0dXJlIHRvIGZpbGwgaW5cbi8vdmFsdWVzIHJlYWQgZnJvbSBkYXRhIHdoaWNoIHNob3VsZCBiZSBhbiBBcnJheUJ1ZmZlciBjb250YWluaW5nIHRoZSBwYXlsb2FkIGZyb20gYSB3ZWJzb2NrZXRcbi8qKlxuICpcbiAqIEBwYXJhbSBzdHJ1Y3RcbiAqIEBwYXJhbSBkYXRhXG4gKiBAcGFyYW0gb2Zmc2V0Qnl0ZXNcbiAqIEByZXR1cm4geyp9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZWFkRGF0YShzdHJ1Y3QsIGRhdGEsIG9mZnNldEJ5dGVzKSB7XG4gICAgbGV0IG9mZnNldCA9IG9mZnNldEJ5dGVzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RydWN0LmZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgY3VyckZpZWxkU3RydWN0ID0gc3RydWN0LmZpZWxkc1tpXTtcbiAgICAgICAgaWYgKGlzRGVmaW5lZChjdXJyRmllbGRTdHJ1Y3QudHlwZSkgJiYgY3VyckZpZWxkU3RydWN0LnR5cGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGxldCByZXQgPSBQYXJzZUJ5dGVzKGRhdGEsIG9mZnNldCwgY3VyckZpZWxkU3RydWN0LnR5cGUpO1xuICAgICAgICAgICAgY3VyckZpZWxkU3RydWN0LnZhbCA9IHJldC52YWw7XG4gICAgICAgICAgICBvZmZzZXQgKz0gcmV0LmJ5dGVzO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRGVmaW5lZChjdXJyRmllbGRTdHJ1Y3QuY291bnQpICYmIGN1cnJGaWVsZFN0cnVjdC5jb3VudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy9jaGVjayBpZiBjb3VudCBpcyBhIHJlZmVyZW5jZSB0byBhbm90aGVyIGxldGlhYmxlXG4gICAgICAgICAgICBpZiAoaXNOYU4oY3VyckZpZWxkU3RydWN0LmNvdW50KSkge1xuICAgICAgICAgICAgICAgIGxldCBpZCA9IGN1cnJGaWVsZFN0cnVjdC5jb3VudDtcbiAgICAgICAgICAgICAgICBsZXQgZmllbGROYW1lID0gc3RydWN0LmlkMkZpZWxkTWFwW2lkXTtcbiAgICAgICAgICAgICAgICBjdXJyRmllbGRTdHJ1Y3QuY291bnQgPSBzdHJ1Y3QuZmluZEZpZWxkQnlOYW1lKGZpZWxkTmFtZSkudmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCBjdXJyRmllbGRTdHJ1Y3QuY291bnQ7IGMrKykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY3VyckZpZWxkU3RydWN0LmZpZWxkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZmllbGQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGN1cnJGaWVsZFN0cnVjdC5maWVsZHNbal0pKTtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gUmVhZERhdGEoZmllbGQsIGRhdGEsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJGaWVsZFN0cnVjdC52YWwucHVzaChmaWVsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvZmZzZXQ7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSByZXN1bHRTdHJ1Y3R1cmVcbiAqIEByZXR1cm4ge3t9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gR2V0UmVzdWx0T2JqZWN0KHJlc3VsdFN0cnVjdHVyZSkge1xuICAgIC8vVE9ETzogaGFuZGxlIGNhc2VzIGZvciBuZXN0ZWQgYXJyYXlzIC8gbWF0cml4IGRhdGEgdHlwZXNcbiAgICBsZXQgcmVzdWx0ID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHRTdHJ1Y3R1cmUuZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQocmVzdWx0U3RydWN0dXJlLmZpZWxkc1tpXS5jb3VudCkpIHtcbiAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLm5hbWVdID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IHJlc3VsdFN0cnVjdHVyZS5maWVsZHNbaV0uY291bnQ7IGMrKykge1xuICAgICAgICAgICAgICAgIGxldCBpdGVtID0ge307XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCByZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLnZhbFtjXS5maWVsZHMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbVtyZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLnZhbFtjXS5maWVsZHNba10ubmFtZV0gPSByZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLnZhbFtjXS5maWVsZHNba10udmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0U3RydWN0dXJlLmZpZWxkc1tpXS5uYW1lXS5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdFN0cnVjdHVyZS5maWVsZHNbaV0ubmFtZV0gPSByZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLnZhbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNPcGVyYSgpIHtcbiAgICByZXR1cm4gKCEhd2luZG93Lm9wciAmJiAhIW9wci5hZGRvbnMpIHx8ICEhd2luZG93Lm9wZXJhIHx8IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignIE9QUi8nKSA+PSAwO1xufVxuXG4vKipcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNGaXJlZm94KCkge1xuICAgIHJldHVybiB0eXBlb2YgSW5zdGFsbFRyaWdnZXIgIT09ICd1bmRlZmluZWQnO1xufVxuXG4vKipcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTYWZhcmkoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3aW5kb3cuSFRNTEVsZW1lbnQpLmluZGV4T2YoJ0NvbnN0cnVjdG9yJykgPiAwO1xufVxuXG4vKipcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDaHJvbWUoKSB7XG4gICAgcmV0dXJuICEhd2luZG93LmNocm9tZSAmJiAhIXdpbmRvdy5jaHJvbWUud2Vic3RvcmU7XG59XG5cbi8qKlxuICpcbiAqIEByZXR1cm4geyp8Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQmxpbmsoKSB7XG4gICAgcmV0dXJuIChpc0Nocm9tZSB8fCBpc09wZXJhKSAmJiAhIXdpbmRvdy5DU1M7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBhXG4gKiBAcGFyYW0gYlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXlJbnRlcnNlY3QoYSwgYikge1xuICAgIHJldHVybiBhLmZpbHRlcihmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gYi5pbmRleE9mKGVsZW1lbnQpID4gLTE7XG4gICAgfSkubGVuZ3RoID4gMDtcbn1cblxuXG4vKipcbiAqXG4gKiBAcGFyYW0gb1xuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRWxlbWVudChvKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHR5cGVvZiBIVE1MRWxlbWVudCA9PT0gXCJvYmplY3RcIiA/IG8gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA6IC8vRE9NMlxuICAgICAgICBvICYmIHR5cGVvZiBvID09PSBcIm9iamVjdFwiICYmIG8gIT09IG51bGwgJiYgby5ub2RlVHlwZSA9PT0gMSAmJiB0eXBlb2Ygby5ub2RlTmFtZSA9PT0gXCJzdHJpbmdcIlxuICAgICk7XG59XG5cbi8qKlxuICpcbiAqIEByZXR1cm4geyp9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1dlYldvcmtlcigpIHtcbiAgICByZXR1cm4gaXNEZWZpbmVkKFdvcmtlcik7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBkaXZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRha2VTY3JlZW5TaG90KGRpdikge1xufVxuXG4vKipcbiAqIFJlbW92ZSBhIGNzcyBjbGFzcyBmcm9tIGEgdGhlIGRpdiBnaXZlbiBhcyBhcmd1bWVudC5cbiAqIEBwYXJhbSBkaXYgdGhlIGRpdiB0byByZW1vdmUgdGhlIGNsYXNzIGZyb21cbiAqIEBwYXJhbSBjc3MgdGhlIGNzcyBjbGFzcyB0byByZW1vdmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNzcyhkaXYsIGNzcykge1xuICAgIGxldCBkaXZDc3MgPSBkaXYuY2xhc3NOYW1lO1xuICAgIGNzcyA9IGRpdkNzcy5yZXBsYWNlKGNzcywgXCJcIik7XG4gICAgZGl2LmNsYXNzTmFtZSA9IGNzcztcbn1cblxuXG4vKipcbiAqIEFkZCBhIGNzcyBjbGFzcyB0byBhIHRoZSBkaXYgZ2l2ZW4gYXMgYXJndW1lbnQuXG4gKiBAcGFyYW0gZGl2IHRoZSBkaXYgdG8gYWRkIHRoZSBjbGFzcyB0b1xuICogQHBhcmFtIGNzcyB0aGUgY3NzIGNsYXNzIHRvIGFkZFxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkQ3NzKGRpdiwgY3NzKSB7XG4gICAgZGl2LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGRpdi5jbGFzc05hbWUgKyBcIiBcIiArIGNzcyk7XG59XG5cbi8qKlxuICogUmVtb3ZlcyB0aGUgbGFzdCBjaGFyYWN0ZXIgb2YgYSB7c3RyaW5nfSBvYmplY3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBUaGUgaW5wdXQge3N0cmluZ31cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHZhbHVlIHdpdGhvdXQgdGhlIGxhc3QgY2hhcmFjdGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVMYXN0Q2hhcklmRXhpc3QodmFsdWUpIHtcbiAgICBpZiAoIWlzRGVmaW5lZCh1bmRlZmluZWQpIHx8IHZhbHVlID09PSBudWxsIHx8IHZhbHVlLmxlbmd0aCA9PT0gMCB8fCAhdmFsdWUuZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWUuc3Vic3RyaW5nKDAsIHZhbHVlLmxlbmd0aCAtIDEpO1xufVxuXG4vKipcbiAqIFJvdW5kIG9mZiBudW1iZXIgdG8gbmVhcmVzdCAwLjVcbiAqIEBwYXJhbSB7TnVtYmVyfSBudW0gLSBUaGUgbnVtYmVyIHRvIHJvdW5kIG9mZlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgcm91bmRlZCBudW1iZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kSGFsZihudW0pIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChudW0qMikvMjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCwgYXMgbG9uZyBhcyBpdCBjb250aW51ZXMgdG8gYmUgaW52b2tlZCxcbiAqIHdpbGwgbm90IGJlIGV4ZWN1dGVkLiBUaGUgZnVuY3Rpb24gd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIHdoZW5cbiAqIGl0IHdpbGwgc3RvcCBiZWluZyBjYWxsZWQgZm9yIG1vcmUgdGhhbiBOIG1pbGxpc2Vjb25kcy5cbiAqIElmIHRoZSBgaW1tZWRpYXRlYCBwYXJhbWV0ZXIgaXMgdHJ1ZSwgdGhlbiB0aGUgZnVuY3Rpb25cbiAqIHdpbGwgYmUgZXhlY3V0ZWQgYXQgdGhlIGZpcnN0IGNhbGwgaW5zdGVhZCBvZiB0aGUgbGFzdC5cbiAqIFBhcmFtZXRlcnMgOlxuICogLSBmdW5jOiB0aGUgZnVuY3Rpb24gdG8gYGRlYm91bmNlcmAuXG4gKiAtIHdhaXQ6IHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIChOKSB0byB3YWl0IGJlZm9yZVxuICogY2FsbCBmdW5jKClcbiAqIC0gaW1tZWRpYXRlIChvcHRpb25hbCk6IENhbGwgZnVuYygpIGF0IHRoZSBmaXJzdCBpbnZvY2F0aW9uXG4gKiBpbnN0ZWFkIG9mIHRoZSBsYXN0IG9uZSAoRGVmYXVsdCBmYWxzZSlcbiAqIC0gY29udGV4dCAob3B0aW9uYWwpOiB0aGUgY29udGV4dCBpbiB3aGljaCB0byBjYWxsIGZ1bmMoKVxuICogKHRoaXMgYnkgZGVmYXVsdClcbiAqL1xuXG4vLyBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIGFzIGxvbmcgYXMgaXQgY29udGludWVzIHRvIGJlIGludm9rZWQsIHdpbGwgbm90XG4vLyBiZSB0cmlnZ2VyZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZnRlciBpdCBzdG9wcyBiZWluZyBjYWxsZWQgZm9yXG4vLyBOIG1pbGxpc2Vjb25kcy4gSWYgYGltbWVkaWF0ZWAgaXMgcGFzc2VkLCB0cmlnZ2VyIHRoZSBmdW5jdGlvbiBvbiB0aGVcbi8vIGxlYWRpbmcgZWRnZSwgaW5zdGVhZCBvZiB0aGUgdHJhaWxpbmcuXG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XG4gICAgdmFyIHRpbWVvdXQsIGFyZ3MsIGNvbnRleHQsIHRpbWVzdGFtcCwgcmVzdWx0O1xuXG4gICAgdmFyIGxhdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICAgICAgICAgIGxhc3QgPSBub3cgLSB0aW1lc3RhbXA7XG5cbiAgICAgICAgaWYgKGxhc3QgPCB3YWl0ICYmIGxhc3QgPj0gMCkge1xuICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQgLSBsYXN0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgaWYgKCFpbW1lZGlhdGUpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgY29udGV4dCA9IHRoaXM7XG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICB2YXIgY2FsbE5vdyA9IGltbWVkaWF0ZSAmJiAhdGltZW91dDtcbiAgICAgICAgaWYgKCF0aW1lb3V0KSB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgICAgIGlmIChjYWxsTm93KSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICAgICAgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIGxlYWRpbmcsIHRyYWlsaW5nLCBjb250ZXh0KSB7XG4gICAgdmFyIGN0eCwgYXJncywgcmVzdWx0O1xuICAgIHZhciB0aW1lb3V0ID0gbnVsbDtcbiAgICB2YXIgcHJldmlvdXMgPSAwO1xuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBwcmV2aW91cyA9IG5ldyBEYXRlO1xuICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjdHgsIGFyZ3MpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbm93ID0gbmV3IERhdGU7XG4gICAgICAgIGlmICghcHJldmlvdXMgJiYgIWxlYWRpbmcpIHByZXZpb3VzID0gbm93O1xuICAgICAgICB2YXIgcmVtYWluaW5nID0gd2FpdCAtIChub3cgLSBwcmV2aW91cyk7XG4gICAgICAgIGN0eCA9IGNvbnRleHQgfHwgdGhpcztcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgaWYgKHJlbWFpbmluZyA8PSAwKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgIHByZXZpb3VzID0gbm93O1xuICAgICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjdHgsIGFyZ3MpO1xuICAgICAgICB9IGVsc2UgaWYgKCF0aW1lb3V0ICYmIHRyYWlsaW5nKSB7XG4gICAgICAgICAgICAvLyBTaW5vbiBvbiBz4oCZZW5kb3J0IHBlbmRhbnQgbGUgdGVtcHMgcmVzdGFudFxuICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlICh0YXJnZXQsIHNvdXJjZSkge1xuICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBgc291cmNlYCBwcm9wZXJ0aWVzIGFuZCBpZiBhbiBgT2JqZWN0YCBzZXQgcHJvcGVydHkgdG8gbWVyZ2Ugb2YgYHRhcmdldGAgYW5kIGBzb3VyY2VgIHByb3BlcnRpZXNcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhzb3VyY2UpKSB7XG4gICAgICAgIGlmIChzb3VyY2Vba2V5XSBpbnN0YW5jZW9mIE9iamVjdCAmJiBrZXkgaW4gdGFyZ2V0KSBPYmplY3QuYXNzaWduKHNvdXJjZVtrZXldLCBtZXJnZSh0YXJnZXRba2V5XSwgc291cmNlW2tleV0pKVxuICAgIH1cblxuICAgIC8vIEpvaW4gYHRhcmdldGAgYW5kIG1vZGlmaWVkIGBzb3VyY2VgXG4gICAgT2JqZWN0LmFzc2lnbih0YXJnZXQgfHwge30sIHNvdXJjZSlcbiAgICByZXR1cm4gdGFyZ2V0XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcmdiYVRvQXJyYXkoc3RyKSB7XG4gICAgbGV0IHN0YXJ0SWR4VmFsdWUgPSBzdHIuaW5kZXhPZignKCcpICsgMTtcbiAgICBsZXQgZW5kSWR4VmFsdWUgPSBzdHIuaW5kZXhPZignKScpO1xuICAgIGxldCB2YWx1ZXMgPSBzdHIuc3Vic3RyKHN0YXJ0SWR4VmFsdWUsIGVuZElkeFZhbHVlLXN0YXJ0SWR4VmFsdWUpO1xuICAgIHJldHVybiB2YWx1ZXMuc3BsaXQoJywnKS5tYXAoTnVtYmVyKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n')},,function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return DATA_SYNCHRONIZER_TOPIC; });\n/* unused harmony export TIME_SYNCHRONIZER_TOPIC */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DATASOURCE_DATA_TOPIC; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return DATASOURCE_TIME_TOPIC; });\n/* unused harmony export FFMPEG_VIEW_DECODE_TOPIC */\n/* unused harmony export MAGIC_END_PACKET */\nconst DATA_SYNCHRONIZER_TOPIC = 'data-synchronizer-';\nconst TIME_SYNCHRONIZER_TOPIC = 'data-synchronizer-time-';\nconst DATASOURCE_DATA_TOPIC = 'datasource-data-';\nconst DATASOURCE_TIME_TOPIC = 'datasource-time-';\nconst FFMPEG_VIEW_DECODE_TOPIC = 'ffmpeg-decode-';\nconst MAGIC_END_PACKET = 'magic-packet';//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9Db25zdGFudHMuanM/YjliMSJdLCJuYW1lcyI6WyJEQVRBX1NZTkNIUk9OSVpFUl9UT1BJQyIsIlRJTUVfU1lOQ0hST05JWkVSX1RPUElDIiwiREFUQVNPVVJDRV9EQVRBX1RPUElDIiwiREFUQVNPVVJDRV9USU1FX1RPUElDIiwiRkZNUEVHX1ZJRVdfREVDT0RFX1RPUElDIiwiTUFHSUNfRU5EX1BBQ0tFVCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQU8sTUFBTUEsdUJBQXVCLEdBQUcsb0JBQWhDO0FBQ0EsTUFBTUMsdUJBQXVCLEdBQUcseUJBQWhDO0FBRUEsTUFBTUMscUJBQXFCLEdBQUcsa0JBQTlCO0FBQ0EsTUFBTUMscUJBQXFCLEdBQUcsa0JBQTlCO0FBRUEsTUFBTUMsd0JBQXdCLEdBQUcsZ0JBQWpDO0FBRUEsTUFBTUMsZ0JBQWdCLEdBQUcsY0FBekIiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBEQVRBX1NZTkNIUk9OSVpFUl9UT1BJQyA9ICdkYXRhLXN5bmNocm9uaXplci0nO1xuZXhwb3J0IGNvbnN0IFRJTUVfU1lOQ0hST05JWkVSX1RPUElDID0gJ2RhdGEtc3luY2hyb25pemVyLXRpbWUtJztcblxuZXhwb3J0IGNvbnN0IERBVEFTT1VSQ0VfREFUQV9UT1BJQyA9ICdkYXRhc291cmNlLWRhdGEtJztcbmV4cG9ydCBjb25zdCBEQVRBU09VUkNFX1RJTUVfVE9QSUMgPSAnZGF0YXNvdXJjZS10aW1lLSc7XG5cbmV4cG9ydCBjb25zdCBGRk1QRUdfVklFV19ERUNPREVfVE9QSUMgPSAnZmZtcGVnLWRlY29kZS0nO1xuXG5leHBvcnQgY29uc3QgTUFHSUNfRU5EX1BBQ0tFVCA9ICdtYWdpYy1wYWNrZXQnO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n")},,,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n/**\n * This class is in charge of defining a Layer object.\n */\n\nclass Layer {\n  /**\n   *\n   * @param {Object} properties - contains a list of properties\n   * @param {string} properties.name - default name\n   * @param {string} properties.description - default description\n   * @param {string} properties.dataSourceId - default dataSourceId\n   * @param {boolean} properties.visible - defines if the layer is visible\n   * @param {Number} properties.timestamp - defines the timestamp of the data\n   * @param {Function} properties.getTimestamp - function which defines the timestamp of the data\n   */\n  constructor(properties) {\n    this.properties = properties;\n    this.dataSourcesToFn = undefined;\n    this.data = [];\n    this.props = {};\n    this.props.id = "layer-" + Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* randomUUID */ "m"])();\n    this.props.name = \'\';\n    this.props.description = \'\';\n    this.props.dataSourceId = \'\';\n    this.props.visible = true;\n    this.props.filter = true;\n    this.props.timestamp = 0;\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(properties.name)) {\n      this.props.name = properties.name;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(properties.description)) {\n      this.props.description = properties.description;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(properties.dataSourceId)) {\n      this.props.dataSourceId = properties.dataSourceId;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(properties.visible)) {\n      this.props.visible = properties.visible;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(properties.timestamp)) {\n      this.props.timestamp = properties.timestamp;\n    }\n\n    this.initEvents();\n    const that = this;\n\n    if (this.checkFn("filter")) {\n      let fn = function (rec, timestamp, options) {\n        that.props.filter = that.getFunc(\'filter\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'filter\'), fn);\n    } else {\n      this.properties.filter = function (rec, timestamp, options) {\n        return true;\n      };\n\n      let fn = async function (rec, timestamp, options) {\n        that.props.filter = await that.getFunc(\'filter\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'filter\'), fn);\n    }\n\n    if (this.checkFn("getVisible")) {\n      let fn = async function (rec, timestamp, options) {\n        that.props.visible = await that.getFunc(\'getVisible\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getVisible\'), fn);\n    }\n\n    if (this.checkFn("getTimestamp")) {\n      let fn = async rec => {\n        that.props.timestamp = await that.getFunc(\'getTimestamp\')(rec);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getTimestamp\'), fn);\n    }\n  }\n\n  saveState() {\n    this.initialState = { ...this.props\n    };\n  }\n\n  restoreState() {\n    this.props = { ...this.initialState\n    };\n  }\n\n  getFunc(funcName) {\n    return this.properties[funcName].handler || this.properties[funcName];\n  }\n  /**\n   * @private\n   * @param funcName\n   * @return {*}\n   */\n\n\n  checkFn(funcName) {\n    let func = this.properties[funcName];\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isFunction */ "l"])(func)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertDefined */ "c"])(this.properties.dataSourceId, \'dataSourceId\');\n      return true;\n    } else {\n      let isSet = Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(func);\n\n      if (isSet) {\n        Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertArray */ "a"])(func.dataSourceIds, funcName + ".dataSourceIds");\n        Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertFunction */ "d"])(func.handler, funcName + ".handler");\n      }\n\n      return isSet;\n    }\n  }\n  /**\n   * @private\n   */\n\n\n  initEvents() {}\n  /**\n   * Clear the layer.\n   */\n\n\n  clear() {}\n  /**\n   * Gets the layer id.\n   * @return {String} the layer id\n   */\n\n\n  getId() {\n    return this.id;\n  }\n  /**\n   * Selects the datasource contained into the list\n   * @param {Array} dataSourceIds the list of datasources\n   */\n\n\n  select(dataSourceIds) {}\n  /**\n   * Adds a function associated to a list of dataSource ids\n   * @param {String[]} dataSourceIds - the list of datasources\n   * @param {Function} fn - the function to add\n   */\n\n\n  addFn(dataSourceIds, fn) {\n    if (!Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(this.dataSourcesToFn)) {\n      this.dataSourcesToFn = {};\n    }\n\n    for (let i = 0; i < dataSourceIds.length; i++) {\n      let dataSourceId = dataSourceIds[i];\n\n      if (!Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(this.dataSourcesToFn[dataSourceId])) {\n        this.dataSourcesToFn[dataSourceId] = [];\n      }\n\n      this.dataSourcesToFn[dataSourceId].push(fn);\n    }\n  }\n  /**\n   *\n   * @param dataSourceId\n   * @param {Object[]} records\n   * @param options\n   */\n\n\n  async setData(dataSourceId, records, options = {}) {\n    // store data into data props\n    this.data = [];\n    options.dataSourceId = dataSourceId;\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(this.dataSourcesToFn)) {\n      if (dataSourceId in this.dataSourcesToFn) {\n        let fnArr = this.dataSourcesToFn[dataSourceId];\n\n        for (let j = 0; j < records.length; j++) {\n          for (let i = 0; i < fnArr.length; i++) {\n            await fnArr[i](records[j].data, records[j].data.timestamp, options);\n\n            if (!this.props.filter) {\n              break;\n            }\n          }\n\n          if (this.props.filter) {\n            this.data.push({ ...this.props\n            });\n          }\n        }\n      }\n    }\n  }\n  /**\n   *\n   * @return {String[]} The list of dataSource ids\n   */\n\n\n  getDataSourcesIds() {\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(this.dataSourcesToFn)) {\n      let res = [];\n\n      for (let i in this.dataSourcesToFn) {\n        res.push(i);\n      }\n\n      return res;\n    } else {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertDefined */ "c"])(this.properties.dataSourceId, \'dataSourceId must be defined\');\n      return [this.properties.dataSourceId];\n    }\n  }\n\n  getDataSourcesIdsByProperty(name) {\n    return this.properties[name].dataSourceIds || [this.properties.dataSourceId];\n  }\n  /**\n   * Inits the layer.\n   */\n\n\n  init() {}\n  /**\n   * Clone current layer properties\n   * @return {Object} a shallow copy of current properties\n   */\n\n\n  getProps() {\n    return {\n      type: this.type,\n      values: this.data\n    };\n  }\n  /**\n   * Reset to default Layer values\n   */\n\n\n  reset() {\n    this.restoreState();\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__["a"] = (Layer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91aS9sYXllci9MYXllci5qcz8yZDFkIl0sIm5hbWVzIjpbIkxheWVyIiwiY29uc3RydWN0b3IiLCJwcm9wZXJ0aWVzIiwiZGF0YVNvdXJjZXNUb0ZuIiwidW5kZWZpbmVkIiwiZGF0YSIsInByb3BzIiwiaWQiLCJyYW5kb21VVUlEIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiZGF0YVNvdXJjZUlkIiwidmlzaWJsZSIsImZpbHRlciIsInRpbWVzdGFtcCIsImlzRGVmaW5lZCIsImluaXRFdmVudHMiLCJ0aGF0IiwiY2hlY2tGbiIsImZuIiwicmVjIiwib3B0aW9ucyIsImdldEZ1bmMiLCJhZGRGbiIsImdldERhdGFTb3VyY2VzSWRzQnlQcm9wZXJ0eSIsInNhdmVTdGF0ZSIsImluaXRpYWxTdGF0ZSIsInJlc3RvcmVTdGF0ZSIsImZ1bmNOYW1lIiwiaGFuZGxlciIsImZ1bmMiLCJpc0Z1bmN0aW9uIiwiYXNzZXJ0RGVmaW5lZCIsImlzU2V0IiwiaGFzVmFsdWUiLCJhc3NlcnRBcnJheSIsImRhdGFTb3VyY2VJZHMiLCJhc3NlcnRGdW5jdGlvbiIsImNsZWFyIiwiZ2V0SWQiLCJzZWxlY3QiLCJpIiwibGVuZ3RoIiwicHVzaCIsInNldERhdGEiLCJyZWNvcmRzIiwiZm5BcnIiLCJqIiwiZ2V0RGF0YVNvdXJjZXNJZHMiLCJyZXMiLCJpbml0IiwiZ2V0UHJvcHMiLCJ0eXBlIiwidmFsdWVzIiwicmVzZXQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFVQTtBQUNBO0FBQ0E7O0FBQ0EsTUFBTUEsS0FBTixDQUFZO0FBQ1I7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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RUQ7QUFDSjtBQUNBO0FBQ0E7OztBQUNJMEMsbUJBQWlCLEdBQUc7QUFDaEIsUUFBR2pDLHlFQUFTLENBQUMsS0FBS1osZUFBTixDQUFaLEVBQW9DO0FBQ2hDLFVBQUk4QyxHQUFHLEdBQUcsRUFBVjs7QUFDQSxXQUFLLElBQUlSLENBQVQsSUFBYyxLQUFLdEMsZUFBbkIsRUFBb0M7QUFDaEM4QyxXQUFHLENBQUNOLElBQUosQ0FBU0YsQ0FBVDtBQUNIOztBQUNELGFBQU9RLEdBQVA7QUFDSCxLQU5ELE1BTU87QUFDSGpCLG1GQUFhLENBQUMsS0FBSzlCLFVBQUwsQ0FBZ0JTLFlBQWpCLEVBQStCLDhCQUEvQixDQUFiO0FBQ0EsYUFBTyxDQUFDLEtBQUtULFVBQUwsQ0FBZ0JTLFlBQWpCLENBQVA7QUFDSDtBQUNKOztBQUVEYSw2QkFBMkIsQ0FBQ2YsSUFBRCxFQUFPO0FBQzlCLFdBQU8sS0FBS1AsVUFBTCxDQUFnQk8sSUFBaEIsRUFBc0IyQixhQUF0QixJQUF3QyxDQUFDLEtBQUtsQyxVQUFMLENBQWdCUyxZQUFqQixDQUEvQztBQUNIO0FBRUQ7QUFDSjtBQUNBOzs7QUFDSXVDLE1BQUksR0FBRyxDQUNOO0FBRUQ7QUFDSjtBQUNBO0FBQ0E7OztBQUNJQyxVQUFRLEdBQUc7QUFDUCxXQUFPO0FBQ0hDLFVBQUksRUFBRSxLQUFLQSxJQURSO0FBRUhDLFlBQU0sRUFBRSxLQUFLaEQ7QUFGVixLQUFQO0FBSUg7QUFFRDtBQUNKO0FBQ0E7OztBQUNJaUQsT0FBSyxHQUFHO0FBQ0osU0FBSzNCLFlBQUw7QUFDSDs7QUFwT087O0FBdU9HM0IsOERBQWYiLCJmaWxlIjoiNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSwgdi4gMi4wLlxuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZVxuIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cblxuIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcyxcbiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2VcbiBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyByaWdodHMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4gQ29weXJpZ2h0IChDKSAyMDE1LTIwMjAgTWF0aGlldSBEaGFpbmF1dC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuIEF1dGhvcjogTWF0aGlldSBEaGFpbmF1dCA8bWF0aGlldS5kaGFpbmF1dEBnbWFpbC5jb20+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHtcbiAgICBhc3NlcnRBcnJheSxcbiAgICBhc3NlcnREZWZpbmVkLFxuICAgIGFzc2VydEZ1bmN0aW9uLFxuICAgIGhhc1ZhbHVlLFxuICAgIGlzRGVmaW5lZCxcbiAgICBpc0Z1bmN0aW9uLFxuICAgIHJhbmRvbVVVSURcbn0gZnJvbSBcIi4uLy4uL3V0aWxzL1V0aWxzLmpzXCI7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBpcyBpbiBjaGFyZ2Ugb2YgZGVmaW5pbmcgYSBMYXllciBvYmplY3QuXG4gKi9cbmNsYXNzIExheWVyIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzIC0gY29udGFpbnMgYSBsaXN0IG9mIHByb3BlcnRpZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydGllcy5uYW1lIC0gZGVmYXVsdCBuYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnRpZXMuZGVzY3JpcHRpb24gLSBkZWZhdWx0IGRlc2NyaXB0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnRpZXMuZGF0YVNvdXJjZUlkIC0gZGVmYXVsdCBkYXRhU291cmNlSWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHByb3BlcnRpZXMudmlzaWJsZSAtIGRlZmluZXMgaWYgdGhlIGxheWVyIGlzIHZpc2libGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy50aW1lc3RhbXAgLSBkZWZpbmVzIHRoZSB0aW1lc3RhbXAgb2YgdGhlIGRhdGFcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wZXJ0aWVzLmdldFRpbWVzdGFtcCAtIGZ1bmN0aW9uIHdoaWNoIGRlZmluZXMgdGhlIHRpbWVzdGFtcCBvZiB0aGUgZGF0YVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb3BlcnRpZXMpIHtcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gcHJvcGVydGllcztcbiAgICAgICAgdGhpcy5kYXRhU291cmNlc1RvRm4gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgICAgICB0aGlzLnByb3BzID0ge307XG4gICAgICAgIHRoaXMucHJvcHMuaWQgPSBcImxheWVyLVwiICsgcmFuZG9tVVVJRCgpO1xuICAgICAgICB0aGlzLnByb3BzLm5hbWUgPSAnJztcbiAgICAgICAgdGhpcy5wcm9wcy5kZXNjcmlwdGlvbiA9ICcnO1xuICAgICAgICB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCA9ICcnO1xuICAgICAgICB0aGlzLnByb3BzLnZpc2libGUgPSB0cnVlO1xuICAgICAgICB0aGlzLnByb3BzLmZpbHRlciA9IHRydWU7XG4gICAgICAgIHRoaXMucHJvcHMudGltZXN0YW1wID0gMDtcblxuICAgICAgICBpZihpc0RlZmluZWQocHJvcGVydGllcy5uYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5uYW1lID0gcHJvcGVydGllcy5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIGlmKGlzRGVmaW5lZChwcm9wZXJ0aWVzLmRlc2NyaXB0aW9uKSkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5kZXNjcmlwdGlvbiA9IHByb3BlcnRpZXMuZGVzY3JpcHRpb247XG4gICAgICAgIH1cblxuICAgICAgICBpZihpc0RlZmluZWQocHJvcGVydGllcy5kYXRhU291cmNlSWQpKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCA9IHByb3BlcnRpZXMuZGF0YVNvdXJjZUlkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoaXNEZWZpbmVkKHByb3BlcnRpZXMudmlzaWJsZSkpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMudmlzaWJsZSA9IHByb3BlcnRpZXMudmlzaWJsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0RlZmluZWQocHJvcGVydGllcy50aW1lc3RhbXApKXtcbiAgICAgICAgICAgIHRoaXMucHJvcHMudGltZXN0YW1wID0gcHJvcGVydGllcy50aW1lc3RhbXA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmluaXRFdmVudHMoKTtcblxuICAgICAgICBjb25zdCB0aGF0ID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5jaGVja0ZuKFwiZmlsdGVyXCIpKSB7XG4gICAgICAgICAgICBsZXQgZm4gPSBmdW5jdGlvbihyZWMsdGltZXN0YW1wLG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB0aGF0LnByb3BzLmZpbHRlciA9IHRoYXQuZ2V0RnVuYygnZmlsdGVyJykocmVjLHRpbWVzdGFtcCxvcHRpb25zKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmFkZEZuKHRoYXQuZ2V0RGF0YVNvdXJjZXNJZHNCeVByb3BlcnR5KCdmaWx0ZXInKSxmbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnByb3BlcnRpZXMuZmlsdGVyID0gZnVuY3Rpb24ocmVjLHRpbWVzdGFtcCxvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBsZXQgZm4gPSBhc3luYyBmdW5jdGlvbiAocmVjLCB0aW1lc3RhbXAsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB0aGF0LnByb3BzLmZpbHRlciA9IGF3YWl0IHRoYXQuZ2V0RnVuYygnZmlsdGVyJykocmVjLCB0aW1lc3RhbXAsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5hZGRGbih0aGF0LmdldERhdGFTb3VyY2VzSWRzQnlQcm9wZXJ0eSgnZmlsdGVyJyksZm4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2hlY2tGbihcImdldFZpc2libGVcIikpIHtcbiAgICAgICAgICAgIGxldCBmbiA9IGFzeW5jIGZ1bmN0aW9uIChyZWMsIHRpbWVzdGFtcCwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHRoYXQucHJvcHMudmlzaWJsZSA9IGF3YWl0IHRoYXQuZ2V0RnVuYygnZ2V0VmlzaWJsZScpKHJlYywgdGltZXN0YW1wLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmFkZEZuKHRoYXQuZ2V0RGF0YVNvdXJjZXNJZHNCeVByb3BlcnR5KCdnZXRWaXNpYmxlJyksZm4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2hlY2tGbihcImdldFRpbWVzdGFtcFwiKSkge1xuICAgICAgICAgICAgbGV0IGZuID0gYXN5bmMgKHJlYykgPT4ge1xuICAgICAgICAgICAgICAgIHRoYXQucHJvcHMudGltZXN0YW1wID0gYXdhaXQgdGhhdC5nZXRGdW5jKCdnZXRUaW1lc3RhbXAnKShyZWMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYWRkRm4odGhhdC5nZXREYXRhU291cmNlc0lkc0J5UHJvcGVydHkoJ2dldFRpbWVzdGFtcCcpLCBmbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzYXZlU3RhdGUoKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbFN0YXRlID0gey4uLnRoaXMucHJvcHN9O1xuICAgIH1cblxuICAgIHJlc3RvcmVTdGF0ZSgpIHtcbiAgICAgICAgdGhpcy5wcm9wcyA9IHsuLi50aGlzLmluaXRpYWxTdGF0ZX07XG4gICAgfVxuICAgIGdldEZ1bmMoZnVuY05hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcGVydGllc1tmdW5jTmFtZV0uaGFuZGxlciB8fCB0aGlzLnByb3BlcnRpZXNbZnVuY05hbWVdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIGZ1bmNOYW1lXG4gICAgICogQHJldHVybiB7Kn1cbiAgICAgKi9cbiAgICBjaGVja0ZuKGZ1bmNOYW1lKSB7XG4gICAgICAgIGxldCBmdW5jID0gdGhpcy5wcm9wZXJ0aWVzW2Z1bmNOYW1lXTtcbiAgICAgICAgaWYoaXNGdW5jdGlvbihmdW5jKSkge1xuICAgICAgICAgICAgYXNzZXJ0RGVmaW5lZCh0aGlzLnByb3BlcnRpZXMuZGF0YVNvdXJjZUlkLCAnZGF0YVNvdXJjZUlkJyk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBpc1NldCA9IGhhc1ZhbHVlKGZ1bmMpO1xuICAgICAgICAgICAgaWYgKGlzU2V0KSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0QXJyYXkoZnVuYy5kYXRhU291cmNlSWRzLCBmdW5jTmFtZSArIFwiLmRhdGFTb3VyY2VJZHNcIik7XG4gICAgICAgICAgICAgICAgYXNzZXJ0RnVuY3Rpb24oZnVuYy5oYW5kbGVyLCBmdW5jTmFtZSArIFwiLmhhbmRsZXJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaXNTZXQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGluaXRFdmVudHMoKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIGxheWVyLlxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxheWVyIGlkLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gdGhlIGxheWVyIGlkXG4gICAgICovXG4gICAgZ2V0SWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbGVjdHMgdGhlIGRhdGFzb3VyY2UgY29udGFpbmVkIGludG8gdGhlIGxpc3RcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhU291cmNlSWRzIHRoZSBsaXN0IG9mIGRhdGFzb3VyY2VzXG4gICAgICovXG4gICAgc2VsZWN0KGRhdGFTb3VyY2VJZHMpIHtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgZnVuY3Rpb24gYXNzb2NpYXRlZCB0byBhIGxpc3Qgb2YgZGF0YVNvdXJjZSBpZHNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ1tdfSBkYXRhU291cmNlSWRzIC0gdGhlIGxpc3Qgb2YgZGF0YXNvdXJjZXNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIHRoZSBmdW5jdGlvbiB0byBhZGRcbiAgICAgKi9cbiAgICBhZGRGbihkYXRhU291cmNlSWRzLCBmbikge1xuICAgICAgICBpZiAoIWlzRGVmaW5lZCh0aGlzLmRhdGFTb3VyY2VzVG9GbikpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZXNUb0ZuID0ge307XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhU291cmNlSWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZGF0YVNvdXJjZUlkID0gZGF0YVNvdXJjZUlkc1tpXTtcbiAgICAgICAgICAgIGlmICghaXNEZWZpbmVkKHRoaXMuZGF0YVNvdXJjZXNUb0ZuW2RhdGFTb3VyY2VJZF0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlc1RvRm5bZGF0YVNvdXJjZUlkXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlc1RvRm5bZGF0YVNvdXJjZUlkXS5wdXNoKGZuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGRhdGFTb3VyY2VJZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0W119IHJlY29yZHNcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIGFzeW5jIHNldERhdGEoZGF0YVNvdXJjZUlkLCByZWNvcmRzLCBvcHRpb25zPXt9KSB7XG4gICAgICAgIC8vIHN0b3JlIGRhdGEgaW50byBkYXRhIHByb3BzXG4gICAgICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgICAgICBvcHRpb25zLmRhdGFTb3VyY2VJZCA9IGRhdGFTb3VyY2VJZDtcbiAgICAgICAgaWYgKGlzRGVmaW5lZCh0aGlzLmRhdGFTb3VyY2VzVG9GbikpIHtcbiAgICAgICAgICAgIGlmIChkYXRhU291cmNlSWQgaW4gdGhpcy5kYXRhU291cmNlc1RvRm4pIHtcbiAgICAgICAgICAgICAgICBsZXQgZm5BcnIgPSB0aGlzLmRhdGFTb3VyY2VzVG9GbltkYXRhU291cmNlSWRdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcmVjb3Jkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZuQXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBmbkFycltpXShyZWNvcmRzW2pdLmRhdGEsIHJlY29yZHNbal0uZGF0YS50aW1lc3RhbXAsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnByb3BzLmZpbHRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMucHJvcHMuZmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5wcm9wc1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1N0cmluZ1tdfSBUaGUgbGlzdCBvZiBkYXRhU291cmNlIGlkc1xuICAgICAqL1xuICAgIGdldERhdGFTb3VyY2VzSWRzKCkge1xuICAgICAgICBpZihpc0RlZmluZWQodGhpcy5kYXRhU291cmNlc1RvRm4pKSB7XG4gICAgICAgICAgICBsZXQgcmVzID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBpIGluIHRoaXMuZGF0YVNvdXJjZXNUb0ZuKSB7XG4gICAgICAgICAgICAgICAgcmVzLnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXNzZXJ0RGVmaW5lZCh0aGlzLnByb3BlcnRpZXMuZGF0YVNvdXJjZUlkLCAnZGF0YVNvdXJjZUlkIG11c3QgYmUgZGVmaW5lZCcpO1xuICAgICAgICAgICAgcmV0dXJuIFt0aGlzLnByb3BlcnRpZXMuZGF0YVNvdXJjZUlkXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldERhdGFTb3VyY2VzSWRzQnlQcm9wZXJ0eShuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXNbbmFtZV0uZGF0YVNvdXJjZUlkcyB8fCAgW3RoaXMucHJvcGVydGllcy5kYXRhU291cmNlSWRdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRzIHRoZSBsYXllci5cbiAgICAgKi9cbiAgICBpbml0KCkge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsb25lIGN1cnJlbnQgbGF5ZXIgcHJvcGVydGllc1xuICAgICAqIEByZXR1cm4ge09iamVjdH0gYSBzaGFsbG93IGNvcHkgb2YgY3VycmVudCBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgZ2V0UHJvcHMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICB2YWx1ZXM6IHRoaXMuZGF0YVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRvIGRlZmF1bHQgTGF5ZXIgdmFsdWVzXG4gICAgICovXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMucmVzdG9yZVN0YXRlKCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMYXllcjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5\n')},,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/utils/Utils.js\nvar Utils = __webpack_require__(0);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/Constants.js\nvar Constants = __webpack_require__(2);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/protocol/Status.js\nvar Status = __webpack_require__(16);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/datasource/DataSource.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2021 Georobotix Inc. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n\n/**\n * The DataSource is the abstract class used to create different datasources.\n *\n */\n\nclass DataSource_DataSource {\n  /**\n   * @param {String} name - the datasource name\n   * @param {Object} properties - the datasource properties\n   * @param {Number} [properties.bufferingTime=0 - defines the time during the data has to be buffered. Useful only when used with DataSynchronizer\n   * @param {Number} [properties.timeOut=0] - defines the limit time before data has to be skipped. Useful only when used with DataSynchronizer\n   * @param {String} properties.protocol - defines the protocol of the datasource. @see {@link DataConnector}\n   * @param {String} properties.endpointUrl the endpoint url\n   * @param {String} properties.service the service\n   * @param {Number} [properties.responseFormat] the response format (e.g video/mp4)\n   * @param {Number} [properties.reconnectTimeout=10000] - the time before reconnecting (in milliseconds)\n   * @param {Number} [properties.batchSize=1] - the number of data to fetch\n   * @param {Object} [properties.customUrlParams={}] - custom parameters appended to the URL as they are\n   * @param {Boolean} [properties.tls=false] - set TLS mode\n   * @param {Object} worker - DataSource worker\n   */\n  constructor(name, properties) {\n    this.id = "DataSource-" + Object(Utils["m" /* randomUUID */])();\n    this.name = name;\n    this.properties = properties;\n    this.currentRunningProperties = {};\n    this.eventSubscriptionMap = {};\n    this.initialized = false;\n    this.init = undefined;\n    this.messagesMap = {};\n  }\n  /**\n   * Gets the datasource id.\n   * @return {String} the datasource id\n   */\n\n\n  getId() {\n    return this.id;\n  }\n  /**\n   * Gets the datasource name.\n   * @return {String} the datasource name\n   */\n\n\n  getName() {\n    return this.name;\n  }\n\n  getCurrentRunningProperties() {\n    return this.currentRunningProperties;\n  }\n\n  terminate() {\n    if (this.dataSourceWorker !== null) {\n      this.dataSourceWorker.terminate();\n    }\n  }\n\n  getTopicId() {\n    return Constants["a" /* DATASOURCE_DATA_TOPIC */] + this.id;\n  }\n\n  getVersion() {\n    return 0;\n  }\n\n  subscribe(fn, eventTypes) {\n    // associate function to eventType\n    for (let i = 0; i < eventTypes.length; i++) {\n      if (!(eventTypes[i] in this.eventSubscriptionMap)) {\n        this.eventSubscriptionMap[eventTypes[i]] = [];\n      }\n\n      this.eventSubscriptionMap[eventTypes[i]].push(fn);\n    }\n  } //----------- ASYNCHRONOUS FUNCTIONS -----------------//\n\n\n  async createWorker(properties) {}\n  /**\n   * Update properties\n   * @param {String} name - the datasource name\n   * @param {Object} properties - the datasource properties\n   * @param {Number} properties.bufferingTime - defines the time during the data has to be buffered\n   * @param {Number} properties.timeOut - defines the limit time before data has to be skipped\n   * @param {String} properties.protocol - defines the protocol of the datasource. @see {@link DataConnector}\n   * @param {String} properties.endpointUrl the endpoint url\n   * @param {String} properties.service the service\n   * @param {Number} properties.responseFormat the response format (e.g video/mp4)\n   * @param {Number} properties.reconnectTimeout - the timeout before reconnecting\n   */\n\n\n  async updateProperties(properties) {\n    // save current running properties\n    this.currentRunningProperties = { ...this.properties,\n      ...properties\n    };\n    return new Promise(resolve => {\n      this.postMessage({\n        message: \'update-url\',\n        data: properties\n      }, resolve);\n    });\n  }\n  /**\n   * Connect the dataSource then the protocol will be opened as well.\n   */\n\n\n  async connect() {\n    await this.checkInit();\n    await this.doConnect();\n  }\n\n  async initDataSource() {\n    return new Promise(async resolve => {\n      this.dataSourceWorker = await this.createWorker(this.properties);\n      this.handleWorkerMessage();\n      this.postMessage({\n        message: \'init\',\n        id: this.id,\n        properties: this.properties,\n        topic: this.getTopicId()\n      }, async message => {\n        // listen for Events to callback to subscriptions\n        const datasourceBroadcastChannel = new BroadcastChannel(this.getTopicId());\n\n        datasourceBroadcastChannel.onmessage = async message => {\n          this.handleMessage(message);\n        };\n\n        this.initialized = message;\n        resolve();\n      });\n    });\n  }\n\n  async handleMessage(message) {\n    const type = message.data.type;\n\n    if (type in this.eventSubscriptionMap) {\n      for (let i = 0; i < this.eventSubscriptionMap[type].length; i++) {\n        this.eventSubscriptionMap[type][i](message.data);\n      }\n    }\n  }\n\n  async checkInit() {\n    return new Promise(async (resolve, reject) => {\n      if (!Object(Utils["k" /* isDefined */])(this.init)) {\n        this.init = this.initDataSource();\n      }\n\n      await this.init;\n      resolve();\n    });\n  }\n\n  async doConnect() {\n    return new Promise(async resolve => {\n      this.postMessage({\n        message: \'connect\'\n      }, resolve);\n    });\n  }\n\n  async isConnected() {\n    return new Promise(async resolve => {\n      await this.checkInit();\n      this.postMessage({\n        message: \'is-connected\'\n      }, resolve);\n    });\n  }\n  /**\n   * Disconnect the dataSource then the protocol will be closed as well.\n   */\n\n\n  async disconnect() {\n    return new Promise(async resolve => {\n      await this.checkInit();\n      this.postMessage({\n        message: \'disconnect\'\n      }, resolve);\n    });\n  }\n\n  postMessage(props, Fn) {\n    const messageId = Object(Utils["m" /* randomUUID */])();\n    this.dataSourceWorker.postMessage({ ...props,\n      messageId: messageId\n    });\n\n    if (Object(Utils["k" /* isDefined */])(Fn)) {\n      this.messagesMap[messageId] = Fn;\n    }\n  }\n\n  handleWorkerMessage() {\n    this.dataSourceWorker.onmessage = event => {\n      const id = event.data.messageId;\n\n      if (id in this.messagesMap) {\n        this.messagesMap[id](event.data.data);\n        delete this.messagesMap[id];\n      }\n    };\n  }\n\n  async onDisconnect() {}\n\n  reset() {}\n\n}\n\n/* harmony default export */ var datasource_DataSource = (DataSource_DataSource);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/datasource/TimeSeriesDataSource.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n\n/**\n * The DataSource is the abstract class used to create different datasources.\n *\n */\n\nclass TimeSeriesDataSource_TimeSeriesDataSource extends datasource_DataSource {\n  /**\n   * @param {String} name - the datasource name\n   * @param {Object} properties - the datasource properties\n   * @param {Boolean} [properties.timeShift=false] - fix some problem with some android devices with some timestamp shift to 16 sec\n   * @param {Number} [properties.bufferingTime=0 - defines the time during the data has to be buffered. Useful only when used with DataSynchronizer\n   * @param {Number} [properties.timeOut=0] - defines the limit time before data has to be skipped. Useful only when used with DataSynchronizer\n   * @param {String} properties.protocol - defines the protocol of the datasource. @see {@link DataConnector}\n   * @param {String} properties.endpointUrl the endpoint url\n   * @param {String} properties.service the service\n   * @param {String} properties.offeringID the offeringID\n   * @param {String} properties.observedProperty the observed property\n   * @param {String} properties.startTime the start time (ISO format)\n   * @param {String} properties.endTime the end time (ISO format)\n   * @param {String} [properties.minTime=properties.startTime] the min range time (ISO format)\n   * @param {String} [properties.maxTime=properties.endTime] the max range time (ISO format)\n   * @param {Number} [properties.replaySpeed=1] the replay factor\n   * @param {Number} [properties.responseFormat] the response format (e.g video/mp4)\n   * @param {Number} [properties.reconnectTimeout=10000] - the time before reconnecting (in milliseconds)\n   * @param {Number} [properties.batchSize=1] - the number of data to fetch\n   * @param {Object} [properties.customUrlParams={}] - custom parameters appended to the URL as they are\n   * @param {Object} worker - DataSource worker\n   */\n  constructor(name, properties) {\n    super(name, properties);\n    Object(Utils["c" /* assertDefined */])(properties, \'Some properties must be defined\');\n    Object(Utils["c" /* assertDefined */])(properties.startTime, \'startTime must must be defined\');\n    Object(Utils["c" /* assertDefined */])(properties.endTime, \'startTime must must be defined\');\n    this.timeSync = null;\n  }\n\n  getTimeTopicId() {\n    return Constants["b" /* DATASOURCE_TIME_TOPIC */] + this.id;\n  }\n  /**\n   * Gets the startTime\n   * @returns {String} - startTime as ISO date\n   */\n\n\n  getStartTime() {\n    return this.properties.startTime;\n  }\n  /**\n   * Gets the endTime\n   * @returns {String} - endTime as ISO date\n   */\n\n\n  getEndTime() {\n    return this.properties.endTime;\n  }\n  /**\n   * Gets the startTime\n   * @returns {String} - startTime as ISO date\n   */\n\n\n  getMinTime() {\n    return this.properties.minTime;\n  }\n  /**\n   * Gets the endTime\n   * @returns {String} - endTime as ISO date\n   */\n\n\n  getMaxTime() {\n    return this.properties.maxTime;\n  }\n  /**\n   * Gets the endTime\n   * @returns {String} - endTime as ISO date\n   */\n\n\n  getReplaySpeed() {\n    if (Object(Utils["k" /* isDefined */])(this.currentRunningProperties) && Object(Utils["k" /* isDefined */])(this.currentRunningProperties.replaySpeed)) {\n      return this.currentRunningProperties.replaySpeed;\n    } else if (Object(Utils["k" /* isDefined */])(this.properties.replaySpeed)) {\n      return this.properties.replaySpeed;\n    } else {\n      return 1.0;\n    }\n  } //----------- ASYNCHRONOUS FUNCTIONS -----------------//\n\n\n  async setDataSynchronizer(timeSync) {\n    return new Promise(async (resolve, reject) => {\n      await this.checkInit();\n      const topic = Constants["c" /* DATA_SYNCHRONIZER_TOPIC */] + timeSync.id;\n      this.timeSync = timeSync;\n      this.postMessage({\n        message: \'topic\',\n        topic: topic,\n        timeTopic: this.getTimeTopicId()\n      }, resolve);\n    });\n  }\n  /**\n   * Inits the datasource with the constructor properties.\n   * @protected\n   * @param properties\n   */\n\n\n  async initDataSource(properties) {\n    await super.initDataSource(properties);\n    return new Promise(async resolve => {\n      this.postMessage({\n        message: \'topic\',\n        topic: this.getTopicId(),\n        timeTopic: this.getTimeTopicId()\n      }, async () => {\n        // listen for Events to callback to subscriptions\n        const datasourceBroadcastChannel = new BroadcastChannel(this.getTimeTopicId());\n\n        datasourceBroadcastChannel.onmessage = async message => {\n          this.handleTimeMessage(message);\n        };\n\n        resolve();\n      });\n    });\n  }\n\n  async handleTimeMessage(message) {\n    const type = message.data.type;\n\n    if (type in this.eventSubscriptionMap) {\n      for (let i = 0; i < this.eventSubscriptionMap[type].length; i++) {\n        this.eventSubscriptionMap[type][i](message.data);\n      }\n    }\n  }\n  /**\n   * Sets the data source time range\n   * @param {String} startTime - the startTime (in date ISO)\n   * @param {String} endTime - the startTime (in date ISO)\n   * @param {Number} replaySpeed - the replay speed\n   * @param {boolean} reconnect - reconnect if was connected\n   */\n\n\n  async setTimeRange(startTime, endTime, replaySpeed, reconnect = false) {\n    let replay = {};\n\n    if (Object(Utils["k" /* isDefined */])(replaySpeed)) {\n      replay = {\n        replaySpeed: replaySpeed\n      };\n    }\n\n    return this.updateProperties({ ...this.currentRunningProperties,\n      startTime: startTime,\n      endTime: endTime,\n      ...replay,\n      reconnect: reconnect\n    });\n  }\n\n  async getCurrentTime() {\n    if (Object(Utils["k" /* isDefined */])(this.timeSync)) {\n      return this.timeSync.getCurrentTime();\n    } else {\n      return new Promise(resolve => {\n        this.postMessage({\n          message: \'last-timestamp\'\n        }, resolve);\n      });\n    }\n  }\n\n}\n\n/* harmony default export */ var datasource_TimeSeriesDataSource = (TimeSeriesDataSource_TimeSeriesDataSource);\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/datasource/sos/worker/SosGetResult.worker.js\nvar SosGetResult_worker = __webpack_require__(17);\nvar SosGetResult_worker_default = /*#__PURE__*/__webpack_require__.n(SosGetResult_worker);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/datasource/sos/SosGetResult.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n\nclass SosGetResult_SosGetResult extends datasource_TimeSeriesDataSource {\n  /**\n   * @param {String} name - the datasource name\n   * @param {Object} properties - the datasource properties\n   * @param {Boolean} [properties.timeShift=false] - fix some problem with some android devices with some timestamp shift to 16 sec\n   * @param {Number} [properties.bufferingTime=0 - defines the time during the data has to be buffered. Useful only when used with DataSynchronizer\n   * @param {Number} [properties.timeOut=0] - defines the limit time before data has to be skipped. Useful only when used with DataSynchronizer\n   * @param {String} properties.protocol - defines the protocol of the datasource. @see {@link DataConnector}\n   * @param {String} properties.endpointUrl - the endpoint url\n   * @param {String} properties.service - the service\n   * @param {String} properties.offeringID - the offeringID\n   * @param {String} properties.observedProperty - the observed property\n   * @param {String} properties.startTime - the start time (ISO format)\n   * @param {String} properties.endTime - the end time (ISO format)\n   * @param {Number} [properties.replaySpeed=1]  - the replay factor\n   * @param {Number} [properties.responseFormat] - the response format (e.g video/mp4)\n   * @param {Number} [properties.reconnectTimeout=10000] - the time before reconnecting (in milliseconds)\n   */\n  constructor(name, properties) {\n    super(name, {\n      timeShift: 0,\n      reconnectTimeout: 1000 * 5,\n      // default if not defined into properties\n      tls: false,\n      ...properties\n    });\n  }\n\n  async createWorker(properties) {\n    return new SosGetResult_worker_default.a();\n  }\n\n}\n\n/* harmony default export */ var sos_SosGetResult = __webpack_exports__["a"] = (SosGetResult_SosGetResult);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9kYXRhc291cmNlL0RhdGFTb3VyY2UuanM/OTVjOCIsIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9kYXRhc291cmNlL1RpbWVTZXJpZXNEYXRhU291cmNlLmpzPzEwYmUiLCJ3ZWJwYWNrOi8vLy9ob21lL25ldnJvL1Byb2dzL3Byb2dzLWxvY2FsL2dpdC1yZXBvL09TSC9vc2gtanMvc291cmNlL2NvcmUvZGF0YXNvdXJjZS9zb3MvU29zR2V0UmVzdWx0LmpzPzkwZTciXSwibmFtZXMiOlsiRGF0YVNvdXJjZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsInByb3BlcnRpZXMiLCJpZCIsInJhbmRvbVVVSUQiLCJjdXJyZW50UnVubmluZ1Byb3BlcnRpZXMiLCJldmVudFN1YnNjcmlwdGlvbk1hcCIsImluaXRpYWxpemVkIiwiaW5pdCIsInVuZGVmaW5lZCIsIm1lc3NhZ2VzTWFwIiwiZ2V0SWQiLCJnZXROYW1lIiwiZ2V0Q3VycmVudFJ1bm5pbmdQcm9wZXJ0aWVzIiwidGVybWluYXRlIiwiZGF0YVNvdXJjZVdvcmtlciIsImdldFRvcGljSWQiLCJEQVRBU09VUkNFX0RBVEFfVE9QSUMiLCJnZXRWZXJzaW9uIiwic3Vic2NyaWJlIiwiZm4iLCJldmVudFR5cGVzIiwiaSIsImxlbmd0aCIsInB1c2giLCJjcmVhdGVXb3JrZXIiLCJ1cGRhdGVQcm9wZXJ0aWVzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJwb3N0TWVzc2FnZSIsIm1lc3NhZ2UiLCJkYXRhIiwiY29ubmVjdCIsImNoZWNrSW5pdCIsImRvQ29ubmVjdCIsImluaXREYXRhU291cmNlIiwiaGFuZGxlV29ya2VyTWVzc2FnZSIsInRvcGljIiwiZGF0YXNvdXJjZUJyb2FkY2FzdENoYW5uZWwiLCJCcm9hZGNhc3RDaGFubmVsIiwib25tZXNzYWdlIiwiaGFuZGxlTWVzc2FnZSIsInR5cGUiLCJyZWplY3QiLCJpc0RlZmluZWQiLCJpc0Nvbm5lY3RlZCIsImRpc2Nvbm5lY3QiLCJwcm9wcyIsIkZuIiwibWVzc2FnZUlkIiwiZXZlbnQiLCJvbkRpc2Nvbm5lY3QiLCJyZXNldCIsIlRpbWVTZXJpZXNEYXRhU291cmNlIiwiYXNzZXJ0RGVmaW5lZCIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJ0aW1lU3luYyIsImdldFRpbWVUb3BpY0lkIiwiREFUQVNPVVJDRV9USU1FX1RPUElDIiwiZ2V0U3RhcnRUaW1lIiwiZ2V0RW5kVGltZSIsImdldE1pblRpbWUiLCJtaW5UaW1lIiwiZ2V0TWF4VGltZSIsIm1heFRpbWUiLCJnZXRSZXBsYXlTcGVlZCIsInJlcGxheVNwZWVkIiwic2V0RGF0YVN5bmNocm9uaXplciIsIkRBVEFfU1lOQ0hST05JWkVSX1RPUElDIiwidGltZVRvcGljIiwiaGFuZGxlVGltZU1lc3NhZ2UiLCJzZXRUaW1lUmFuZ2UiLCJyZWNvbm5lY3QiLCJyZXBsYXkiLCJnZXRDdXJyZW50VGltZSIsIlNvc0dldFJlc3VsdCIsInRpbWVTaGlmdCIsInJlY29ubmVjdFRpbWVvdXQiLCJ0bHMiLCJTb3NHZXRSZXN1bHRXb3JrZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsTUFBTUEscUJBQU4sQ0FBaUI7QUFDYjtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDSUMsYUFBVyxDQUFDQyxJQUFELEVBQU9DLFVBQVAsRUFBbUI7QUFDMUIsU0FBS0MsRUFBTCxHQUFVLGdCQUFnQkMsbUNBQVUsRUFBcEM7QUFD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KioqKioqKioqKioqKioqKioqKioqKioqKiogQkVHSU4gTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuIFRoZSBjb250ZW50cyBvZiB0aGlzIGZpbGUgYXJlIHN1YmplY3QgdG8gdGhlIE1vemlsbGEgUHVibGljIExpY2Vuc2UsIHYuIDIuMC5cbiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmVcbiBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uXG5cbiBTb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgYmFzaXMsXG4gV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlXG4gZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcmlnaHRzIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuIENvcHlyaWdodCAoQykgMjAxNS0yMDIxIEdlb3JvYm90aXggSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQge2lzRGVmaW5lZCwgcmFuZG9tVVVJRH0gZnJvbSAnLi4vdXRpbHMvVXRpbHMuanMnO1xuaW1wb3J0IHtEQVRBU09VUkNFX0RBVEFfVE9QSUN9IGZyb20gXCIuLi9Db25zdGFudHNcIjtcbmltcG9ydCB7U3RhdHVzfSBmcm9tIFwiLi4vcHJvdG9jb2wvU3RhdHVzXCI7XG5cbi8qKlxuICogVGhlIERhdGFTb3VyY2UgaXMgdGhlIGFic3RyYWN0IGNsYXNzIHVzZWQgdG8gY3JlYXRlIGRpZmZlcmVudCBkYXRhc291cmNlcy5cbiAqXG4gKi9cbmNsYXNzIERhdGFTb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gdGhlIGRhdGFzb3VyY2UgbmFtZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzIC0gdGhlIGRhdGFzb3VyY2UgcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy5idWZmZXJpbmdUaW1lPTAgLSBkZWZpbmVzIHRoZSB0aW1lIGR1cmluZyB0aGUgZGF0YSBoYXMgdG8gYmUgYnVmZmVyZWQuIFVzZWZ1bCBvbmx5IHdoZW4gdXNlZCB3aXRoIERhdGFTeW5jaHJvbml6ZXJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMudGltZU91dD0wXSAtIGRlZmluZXMgdGhlIGxpbWl0IHRpbWUgYmVmb3JlIGRhdGEgaGFzIHRvIGJlIHNraXBwZWQuIFVzZWZ1bCBvbmx5IHdoZW4gdXNlZCB3aXRoIERhdGFTeW5jaHJvbml6ZXJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5wcm90b2NvbCAtIGRlZmluZXMgdGhlIHByb3RvY29sIG9mIHRoZSBkYXRhc291cmNlLiBAc2VlIHtAbGluayBEYXRhQ29ubmVjdG9yfVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLmVuZHBvaW50VXJsIHRoZSBlbmRwb2ludCB1cmxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5zZXJ2aWNlIHRoZSBzZXJ2aWNlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLnJlc3BvbnNlRm9ybWF0XSB0aGUgcmVzcG9uc2UgZm9ybWF0IChlLmcgdmlkZW8vbXA0KVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy5yZWNvbm5lY3RUaW1lb3V0PTEwMDAwXSAtIHRoZSB0aW1lIGJlZm9yZSByZWNvbm5lY3RpbmcgKGluIG1pbGxpc2Vjb25kcylcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMuYmF0Y2hTaXplPTFdIC0gdGhlIG51bWJlciBvZiBkYXRhIHRvIGZldGNoXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzLmN1c3RvbVVybFBhcmFtcz17fV0gLSBjdXN0b20gcGFyYW1ldGVycyBhcHBlbmRlZCB0byB0aGUgVVJMIGFzIHRoZXkgYXJlXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbcHJvcGVydGllcy50bHM9ZmFsc2VdIC0gc2V0IFRMUyBtb2RlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHdvcmtlciAtIERhdGFTb3VyY2Ugd29ya2VyXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobmFtZSwgcHJvcGVydGllcykge1xuICAgICAgICB0aGlzLmlkID0gXCJEYXRhU291cmNlLVwiICsgcmFuZG9tVVVJRCgpO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xuICAgICAgICB0aGlzLmN1cnJlbnRSdW5uaW5nUHJvcGVydGllcyA9IHt9O1xuICAgICAgICB0aGlzLmV2ZW50U3Vic2NyaXB0aW9uTWFwID0ge307XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbml0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm1lc3NhZ2VzTWFwID0ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGF0YXNvdXJjZSBpZC5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHRoZSBkYXRhc291cmNlIGlkXG4gICAgICovXG4gICAgZ2V0SWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGRhdGFzb3VyY2UgbmFtZS5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHRoZSBkYXRhc291cmNlIG5hbWVcbiAgICAgKi9cbiAgICBnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH1cblxuICAgIGdldEN1cnJlbnRSdW5uaW5nUHJvcGVydGllcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFJ1bm5pbmdQcm9wZXJ0aWVzO1xuICAgIH1cblxuICAgIHRlcm1pbmF0ZSgpIHtcbiAgICAgICAgaWYodGhpcy5kYXRhU291cmNlV29ya2VyICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFTb3VyY2VXb3JrZXIudGVybWluYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRUb3BpY0lkKCkge1xuICAgICAgICByZXR1cm4gREFUQVNPVVJDRV9EQVRBX1RPUElDICsgdGhpcy5pZDtcbiAgICB9XG5cbiAgICBnZXRWZXJzaW9uKCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBzdWJzY3JpYmUoZm4sIGV2ZW50VHlwZXMpIHtcbiAgICAgICAgLy8gYXNzb2NpYXRlIGZ1bmN0aW9uIHRvIGV2ZW50VHlwZVxuICAgICAgICBmb3IobGV0IGk9MDtpIDwgZXZlbnRUeXBlcy5sZW5ndGg7aSsrKSB7XG4gICAgICAgICAgICBpZiAoIShldmVudFR5cGVzW2ldIGluIHRoaXMuZXZlbnRTdWJzY3JpcHRpb25NYXApKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudFN1YnNjcmlwdGlvbk1hcFtldmVudFR5cGVzW2ldXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ldmVudFN1YnNjcmlwdGlvbk1hcFtldmVudFR5cGVzW2ldXS5wdXNoKGZuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vLS0tLS0tLS0tLS0gQVNZTkNIUk9OT1VTIEZVTkNUSU9OUyAtLS0tLS0tLS0tLS0tLS0tLS8vXG4gICAgYXN5bmMgY3JlYXRlV29ya2VyKHByb3BlcnRpZXMpIHt9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gdGhlIGRhdGFzb3VyY2UgbmFtZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzIC0gdGhlIGRhdGFzb3VyY2UgcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwcm9wZXJ0aWVzLmJ1ZmZlcmluZ1RpbWUgLSBkZWZpbmVzIHRoZSB0aW1lIGR1cmluZyB0aGUgZGF0YSBoYXMgdG8gYmUgYnVmZmVyZWRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy50aW1lT3V0IC0gZGVmaW5lcyB0aGUgbGltaXQgdGltZSBiZWZvcmUgZGF0YSBoYXMgdG8gYmUgc2tpcHBlZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLnByb3RvY29sIC0gZGVmaW5lcyB0aGUgcHJvdG9jb2wgb2YgdGhlIGRhdGFzb3VyY2UuIEBzZWUge0BsaW5rIERhdGFDb25uZWN0b3J9XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuZW5kcG9pbnRVcmwgdGhlIGVuZHBvaW50IHVybFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLnNlcnZpY2UgdGhlIHNlcnZpY2VcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy5yZXNwb25zZUZvcm1hdCB0aGUgcmVzcG9uc2UgZm9ybWF0IChlLmcgdmlkZW8vbXA0KVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwcm9wZXJ0aWVzLnJlY29ubmVjdFRpbWVvdXQgLSB0aGUgdGltZW91dCBiZWZvcmUgcmVjb25uZWN0aW5nXG4gICAgICovXG4gICAgYXN5bmMgdXBkYXRlUHJvcGVydGllcyhwcm9wZXJ0aWVzKSB7XG4gICAgICAgIC8vIHNhdmUgY3VycmVudCBydW5uaW5nIHByb3BlcnRpZXNcbiAgICAgICAgdGhpcy5jdXJyZW50UnVubmluZ1Byb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICAuLi50aGlzLnByb3BlcnRpZXMsXG4gICAgICAgICAgICAuLi5wcm9wZXJ0aWVzXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIHRoaXMucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICd1cGRhdGUtdXJsJyxcbiAgICAgICAgICAgICAgICBkYXRhOiBwcm9wZXJ0aWVzXG4gICAgICAgICAgICB9LCByZXNvbHZlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29ubmVjdCB0aGUgZGF0YVNvdXJjZSB0aGVuIHRoZSBwcm90b2NvbCB3aWxsIGJlIG9wZW5lZCBhcyB3ZWxsLlxuICAgICAqL1xuICAgIGFzeW5jIGNvbm5lY3QoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuY2hlY2tJbml0KCk7XG4gICAgICAgIGF3YWl0IHRoaXMuZG9Db25uZWN0KCk7XG4gICAgfVxuXG4gICAgYXN5bmMgaW5pdERhdGFTb3VyY2UoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyByZXNvbHZlID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZVdvcmtlciA9IGF3YWl0IHRoaXMuY3JlYXRlV29ya2VyKHRoaXMucHJvcGVydGllcyk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVdvcmtlck1lc3NhZ2UoKTtcbiAgICAgICAgICAgIHRoaXMucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdpbml0JyxcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB0aGlzLnByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgdG9waWM6IHRoaXMuZ2V0VG9waWNJZCgpXG4gICAgICAgICAgICB9LCBhc3luYyAobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGxpc3RlbiBmb3IgRXZlbnRzIHRvIGNhbGxiYWNrIHRvIHN1YnNjcmlwdGlvbnNcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhc291cmNlQnJvYWRjYXN0Q2hhbm5lbCA9IG5ldyBCcm9hZGNhc3RDaGFubmVsKHRoaXMuZ2V0VG9waWNJZCgpKTtcbiAgICAgICAgICAgICAgICBkYXRhc291cmNlQnJvYWRjYXN0Q2hhbm5lbC5vbm1lc3NhZ2UgPSBhc3luYyAobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBtZXNzYWdlLmRhdGEudHlwZTtcbiAgICAgICAgaWYgKHR5cGUgaW4gdGhpcy5ldmVudFN1YnNjcmlwdGlvbk1hcCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmV2ZW50U3Vic2NyaXB0aW9uTWFwW3R5cGVdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudFN1YnNjcmlwdGlvbk1hcFt0eXBlXVtpXShtZXNzYWdlLmRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgY2hlY2tJbml0KCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgaWYoIWlzRGVmaW5lZCh0aGlzLmluaXQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0ID0gdGhpcy5pbml0RGF0YVNvdXJjZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0O1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBkb0Nvbm5lY3QoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyByZXNvbHZlID0+IHtcbiAgICAgICAgICAgIHRoaXMucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdjb25uZWN0J1xuICAgICAgICAgICAgfSwgcmVzb2x2ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBpc0Nvbm5lY3RlZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jaGVja0luaXQoKTtcbiAgICAgICAgICAgIHRoaXMucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdpcy1jb25uZWN0ZWQnXG4gICAgICAgICAgICB9LCByZXNvbHZlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdCB0aGUgZGF0YVNvdXJjZSB0aGVuIHRoZSBwcm90b2NvbCB3aWxsIGJlIGNsb3NlZCBhcyB3ZWxsLlxuICAgICAqL1xuICAgIGFzeW5jIGRpc2Nvbm5lY3QoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyByZXNvbHZlID0+IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2hlY2tJbml0KCk7XG4gICAgICAgICAgICB0aGlzLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnZGlzY29ubmVjdCdcbiAgICAgICAgICAgIH0sIHJlc29sdmUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwb3N0TWVzc2FnZShwcm9wcywgRm4pIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZUlkID0gcmFuZG9tVVVJRCgpO1xuICAgICAgICB0aGlzLmRhdGFTb3VyY2VXb3JrZXIucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgLi4ucHJvcHMsXG4gICAgICAgICAgICBtZXNzYWdlSWQ6IG1lc3NhZ2VJZFxuICAgICAgICB9KTtcbiAgICAgICAgaWYoaXNEZWZpbmVkKEZuKSkge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlc01hcFttZXNzYWdlSWRdID0gRm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVXb3JrZXJNZXNzYWdlKCkge1xuICAgICAgICB0aGlzLmRhdGFTb3VyY2VXb3JrZXIub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IGV2ZW50LmRhdGEubWVzc2FnZUlkO1xuICAgICAgICAgICAgaWYoaWQgaW4gdGhpcy5tZXNzYWdlc01hcCl7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlc01hcFtpZF0oZXZlbnQuZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5tZXNzYWdlc01hcFtpZF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYXN5bmMgb25EaXNjb25uZWN0KCl7fVxuXG4gICAgcmVzZXQoKSB7fVxufVxuXG5leHBvcnQgZGVmYXVsdCBEYXRhU291cmNlO1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAyMCBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgRGF0YVNvdXJjZSBmcm9tIFwiLi9EYXRhU291cmNlXCI7XG5pbXBvcnQge0RBVEFfU1lOQ0hST05JWkVSX1RPUElDLCBEQVRBU09VUkNFX1RJTUVfVE9QSUN9IGZyb20gXCIuLi9Db25zdGFudHNcIjtcbmltcG9ydCB7YXNzZXJ0RGVmaW5lZCwgaXNEZWZpbmVkfSBmcm9tIFwiLi4vdXRpbHMvVXRpbHNcIjtcblxuLyoqXG4gKiBUaGUgRGF0YVNvdXJjZSBpcyB0aGUgYWJzdHJhY3QgY2xhc3MgdXNlZCB0byBjcmVhdGUgZGlmZmVyZW50IGRhdGFzb3VyY2VzLlxuICpcbiAqL1xuY2xhc3MgVGltZVNlcmllc0RhdGFTb3VyY2UgZXh0ZW5kcyBEYXRhU291cmNlIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIHRoZSBkYXRhc291cmNlIG5hbWVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllcyAtIHRoZSBkYXRhc291cmNlIHByb3BlcnRpZXNcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtwcm9wZXJ0aWVzLnRpbWVTaGlmdD1mYWxzZV0gLSBmaXggc29tZSBwcm9ibGVtIHdpdGggc29tZSBhbmRyb2lkIGRldmljZXMgd2l0aCBzb21lIHRpbWVzdGFtcCBzaGlmdCB0byAxNiBzZWNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMuYnVmZmVyaW5nVGltZT0wIC0gZGVmaW5lcyB0aGUgdGltZSBkdXJpbmcgdGhlIGRhdGEgaGFzIHRvIGJlIGJ1ZmZlcmVkLiBVc2VmdWwgb25seSB3aGVuIHVzZWQgd2l0aCBEYXRhU3luY2hyb25pemVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLnRpbWVPdXQ9MF0gLSBkZWZpbmVzIHRoZSBsaW1pdCB0aW1lIGJlZm9yZSBkYXRhIGhhcyB0byBiZSBza2lwcGVkLiBVc2VmdWwgb25seSB3aGVuIHVzZWQgd2l0aCBEYXRhU3luY2hyb25pemVyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMucHJvdG9jb2wgLSBkZWZpbmVzIHRoZSBwcm90b2NvbCBvZiB0aGUgZGF0YXNvdXJjZS4gQHNlZSB7QGxpbmsgRGF0YUNvbm5lY3Rvcn1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5lbmRwb2ludFVybCB0aGUgZW5kcG9pbnQgdXJsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuc2VydmljZSB0aGUgc2VydmljZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLm9mZmVyaW5nSUQgdGhlIG9mZmVyaW5nSURcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5vYnNlcnZlZFByb3BlcnR5IHRoZSBvYnNlcnZlZCBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLnN0YXJ0VGltZSB0aGUgc3RhcnQgdGltZSAoSVNPIGZvcm1hdClcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5lbmRUaW1lIHRoZSBlbmQgdGltZSAoSVNPIGZvcm1hdClcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW3Byb3BlcnRpZXMubWluVGltZT1wcm9wZXJ0aWVzLnN0YXJ0VGltZV0gdGhlIG1pbiByYW5nZSB0aW1lIChJU08gZm9ybWF0KVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbcHJvcGVydGllcy5tYXhUaW1lPXByb3BlcnRpZXMuZW5kVGltZV0gdGhlIG1heCByYW5nZSB0aW1lIChJU08gZm9ybWF0KVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy5yZXBsYXlTcGVlZD0xXSB0aGUgcmVwbGF5IGZhY3RvclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy5yZXNwb25zZUZvcm1hdF0gdGhlIHJlc3BvbnNlIGZvcm1hdCAoZS5nIHZpZGVvL21wNClcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMucmVjb25uZWN0VGltZW91dD0xMDAwMF0gLSB0aGUgdGltZSBiZWZvcmUgcmVjb25uZWN0aW5nIChpbiBtaWxsaXNlY29uZHMpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLmJhdGNoU2l6ZT0xXSAtIHRoZSBudW1iZXIgb2YgZGF0YSB0byBmZXRjaFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcy5jdXN0b21VcmxQYXJhbXM9e31dIC0gY3VzdG9tIHBhcmFtZXRlcnMgYXBwZW5kZWQgdG8gdGhlIFVSTCBhcyB0aGV5IGFyZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB3b3JrZXIgLSBEYXRhU291cmNlIHdvcmtlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHByb3BlcnRpZXMpIHtcbiAgICAgICAgc3VwZXIobmFtZSxwcm9wZXJ0aWVzKTtcblxuICAgICAgICBhc3NlcnREZWZpbmVkKHByb3BlcnRpZXMsJ1NvbWUgcHJvcGVydGllcyBtdXN0IGJlIGRlZmluZWQnKTtcbiAgICAgICAgYXNzZXJ0RGVmaW5lZChwcm9wZXJ0aWVzLnN0YXJ0VGltZSwnc3RhcnRUaW1lIG11c3QgbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgICAgIGFzc2VydERlZmluZWQocHJvcGVydGllcy5lbmRUaW1lLCdzdGFydFRpbWUgbXVzdCBtdXN0IGJlIGRlZmluZWQnKTtcblxuICAgICAgICB0aGlzLnRpbWVTeW5jID0gbnVsbDtcbiAgICB9XG5cbiAgICBnZXRUaW1lVG9waWNJZCgpIHtcbiAgICAgICAgcmV0dXJuIERBVEFTT1VSQ0VfVElNRV9UT1BJQyArIHRoaXMuaWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc3RhcnRUaW1lXG4gICAgICogQHJldHVybnMge1N0cmluZ30gLSBzdGFydFRpbWUgYXMgSVNPIGRhdGVcbiAgICAgKi9cbiAgICBnZXRTdGFydFRpbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXMuc3RhcnRUaW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGVuZFRpbWVcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSAtIGVuZFRpbWUgYXMgSVNPIGRhdGVcbiAgICAgKi9cbiAgICBnZXRFbmRUaW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wZXJ0aWVzLmVuZFRpbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc3RhcnRUaW1lXG4gICAgICogQHJldHVybnMge1N0cmluZ30gLSBzdGFydFRpbWUgYXMgSVNPIGRhdGVcbiAgICAgKi9cbiAgICBnZXRNaW5UaW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wZXJ0aWVzLm1pblRpbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZW5kVGltZVxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IC0gZW5kVGltZSBhcyBJU08gZGF0ZVxuICAgICAqL1xuICAgIGdldE1heFRpbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXMubWF4VGltZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBlbmRUaW1lXG4gICAgICogQHJldHVybnMge1N0cmluZ30gLSBlbmRUaW1lIGFzIElTTyBkYXRlXG4gICAgICovXG4gICAgZ2V0UmVwbGF5U3BlZWQoKSB7XG4gICAgICAgIGlmKGlzRGVmaW5lZCh0aGlzLmN1cnJlbnRSdW5uaW5nUHJvcGVydGllcykgJiYgaXNEZWZpbmVkKHRoaXMuY3VycmVudFJ1bm5pbmdQcm9wZXJ0aWVzLnJlcGxheVNwZWVkKSApe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFJ1bm5pbmdQcm9wZXJ0aWVzLnJlcGxheVNwZWVkO1xuICAgICAgICB9IGVsc2UgaWYoaXNEZWZpbmVkKHRoaXMucHJvcGVydGllcy5yZXBsYXlTcGVlZCkpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvcGVydGllcy5yZXBsYXlTcGVlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAxLjA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLy0tLS0tLS0tLS0tIEFTWU5DSFJPTk9VUyBGVU5DVElPTlMgLS0tLS0tLS0tLS0tLS0tLS0vL1xuXG4gICAgYXN5bmMgc2V0RGF0YVN5bmNocm9uaXplcih0aW1lU3luYykge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jaGVja0luaXQoKTtcbiAgICAgICAgICAgIGNvbnN0IHRvcGljID0gREFUQV9TWU5DSFJPTklaRVJfVE9QSUMgKyB0aW1lU3luYy5pZDtcbiAgICAgICAgICAgIHRoaXMudGltZVN5bmMgPSB0aW1lU3luYztcbiAgICAgICAgICAgIHRoaXMucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICd0b3BpYycsXG4gICAgICAgICAgICAgICAgdG9waWM6IHRvcGljLFxuICAgICAgICAgICAgICAgIHRpbWVUb3BpYzogdGhpcy5nZXRUaW1lVG9waWNJZCgpXG4gICAgICAgICAgICB9LCByZXNvbHZlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdHMgdGhlIGRhdGFzb3VyY2Ugd2l0aCB0aGUgY29uc3RydWN0b3IgcHJvcGVydGllcy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBhc3luYyBpbml0RGF0YVNvdXJjZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGF3YWl0IHN1cGVyLmluaXREYXRhU291cmNlKHByb3BlcnRpZXMpO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgcmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAndG9waWMnLFxuICAgICAgICAgICAgICAgIHRvcGljOiB0aGlzLmdldFRvcGljSWQoKSxcbiAgICAgICAgICAgICAgICB0aW1lVG9waWM6IHRoaXMuZ2V0VGltZVRvcGljSWQoKVxuICAgICAgICAgICAgfSwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGxpc3RlbiBmb3IgRXZlbnRzIHRvIGNhbGxiYWNrIHRvIHN1YnNjcmlwdGlvbnNcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhc291cmNlQnJvYWRjYXN0Q2hhbm5lbCA9IG5ldyBCcm9hZGNhc3RDaGFubmVsKHRoaXMuZ2V0VGltZVRvcGljSWQoKSk7XG4gICAgICAgICAgICAgICAgZGF0YXNvdXJjZUJyb2FkY2FzdENoYW5uZWwub25tZXNzYWdlID0gYXN5bmMgKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVRpbWVNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jIGhhbmRsZVRpbWVNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IG1lc3NhZ2UuZGF0YS50eXBlO1xuICAgICAgICBpZiAodHlwZSBpbiB0aGlzLmV2ZW50U3Vic2NyaXB0aW9uTWFwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZXZlbnRTdWJzY3JpcHRpb25NYXBbdHlwZV0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50U3Vic2NyaXB0aW9uTWFwW3R5cGVdW2ldKG1lc3NhZ2UuZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBkYXRhIHNvdXJjZSB0aW1lIHJhbmdlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN0YXJ0VGltZSAtIHRoZSBzdGFydFRpbWUgKGluIGRhdGUgSVNPKVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBlbmRUaW1lIC0gdGhlIHN0YXJ0VGltZSAoaW4gZGF0ZSBJU08pXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJlcGxheVNwZWVkIC0gdGhlIHJlcGxheSBzcGVlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVjb25uZWN0IC0gcmVjb25uZWN0IGlmIHdhcyBjb25uZWN0ZWRcbiAgICAgKi9cbiAgICBhc3luYyBzZXRUaW1lUmFuZ2Uoc3RhcnRUaW1lLCBlbmRUaW1lLCByZXBsYXlTcGVlZCwgcmVjb25uZWN0PSBmYWxzZSkge1xuICAgICAgICBsZXQgcmVwbGF5ID0ge307XG4gICAgICAgIGlmKGlzRGVmaW5lZChyZXBsYXlTcGVlZCkpIHtcbiAgICAgICAgICAgIHJlcGxheSA9ICB7XG4gICAgICAgICAgICAgICAgcmVwbGF5U3BlZWQ6IHJlcGxheVNwZWVkXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZVByb3BlcnRpZXMoe1xuICAgICAgICAgICAgLi4udGhpcy5jdXJyZW50UnVubmluZ1Byb3BlcnRpZXMsXG4gICAgICAgICAgICBzdGFydFRpbWU6IHN0YXJ0VGltZSxcbiAgICAgICAgICAgIGVuZFRpbWU6IGVuZFRpbWUsXG4gICAgICAgICAgIC4uLnJlcGxheSxcbiAgICAgICAgICAgIHJlY29ubmVjdCA6IHJlY29ubmVjdFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBnZXRDdXJyZW50VGltZSgpIHtcbiAgICAgICAgaWYoaXNEZWZpbmVkKHRoaXMudGltZVN5bmMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aW1lU3luYy5nZXRDdXJyZW50VGltZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnbGFzdC10aW1lc3RhbXAnXG4gICAgICAgICAgICAgICAgfSwgcmVzb2x2ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGltZVNlcmllc0RhdGFTb3VyY2U7XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogQkVHSU4gTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuIFRoZSBjb250ZW50cyBvZiB0aGlzIGZpbGUgYXJlIHN1YmplY3QgdG8gdGhlIE1vemlsbGEgUHVibGljIExpY2Vuc2UsIHYuIDIuMC5cbiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmVcbiBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uXG5cbiBTb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgYmFzaXMsXG4gV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlXG4gZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcmlnaHRzIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuIENvcHlyaWdodCAoQykgMjAxNS0yMDIwIE1hdGhpZXUgRGhhaW5hdXQuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbiBBdXRob3I6IE1hdGhpZXUgRGhhaW5hdXQgPG1hdGhpZXUuZGhhaW5hdXRAZ21haWwuY29tPlxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cblxuaW1wb3J0IFRpbWVTZXJpZXNEYXRhU291cmNlIGZyb20gJy4uL1RpbWVTZXJpZXNEYXRhU291cmNlLmpzJztcbmltcG9ydCBTb3NHZXRSZXN1bHRXb3JrZXIgZnJvbSAnLi93b3JrZXIvU29zR2V0UmVzdWx0Lndvcmtlci5qcyc7XG5cbmNsYXNzIFNvc0dldFJlc3VsdCBleHRlbmRzIFRpbWVTZXJpZXNEYXRhU291cmNlIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIHRoZSBkYXRhc291cmNlIG5hbWVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllcyAtIHRoZSBkYXRhc291cmNlIHByb3BlcnRpZXNcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtwcm9wZXJ0aWVzLnRpbWVTaGlmdD1mYWxzZV0gLSBmaXggc29tZSBwcm9ibGVtIHdpdGggc29tZSBhbmRyb2lkIGRldmljZXMgd2l0aCBzb21lIHRpbWVzdGFtcCBzaGlmdCB0byAxNiBzZWNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMuYnVmZmVyaW5nVGltZT0wIC0gZGVmaW5lcyB0aGUgdGltZSBkdXJpbmcgdGhlIGRhdGEgaGFzIHRvIGJlIGJ1ZmZlcmVkLiBVc2VmdWwgb25seSB3aGVuIHVzZWQgd2l0aCBEYXRhU3luY2hyb25pemVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLnRpbWVPdXQ9MF0gLSBkZWZpbmVzIHRoZSBsaW1pdCB0aW1lIGJlZm9yZSBkYXRhIGhhcyB0byBiZSBza2lwcGVkLiBVc2VmdWwgb25seSB3aGVuIHVzZWQgd2l0aCBEYXRhU3luY2hyb25pemVyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMucHJvdG9jb2wgLSBkZWZpbmVzIHRoZSBwcm90b2NvbCBvZiB0aGUgZGF0YXNvdXJjZS4gQHNlZSB7QGxpbmsgRGF0YUNvbm5lY3Rvcn1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5lbmRwb2ludFVybCAtIHRoZSBlbmRwb2ludCB1cmxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5zZXJ2aWNlIC0gdGhlIHNlcnZpY2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5vZmZlcmluZ0lEIC0gdGhlIG9mZmVyaW5nSURcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5vYnNlcnZlZFByb3BlcnR5IC0gdGhlIG9ic2VydmVkIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuc3RhcnRUaW1lIC0gdGhlIHN0YXJ0IHRpbWUgKElTTyBmb3JtYXQpXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuZW5kVGltZSAtIHRoZSBlbmQgdGltZSAoSVNPIGZvcm1hdClcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMucmVwbGF5U3BlZWQ9MV0gIC0gdGhlIHJlcGxheSBmYWN0b3JcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMucmVzcG9uc2VGb3JtYXRdIC0gdGhlIHJlc3BvbnNlIGZvcm1hdCAoZS5nIHZpZGVvL21wNClcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMucmVjb25uZWN0VGltZW91dD0xMDAwMF0gLSB0aGUgdGltZSBiZWZvcmUgcmVjb25uZWN0aW5nIChpbiBtaWxsaXNlY29uZHMpXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobmFtZSwgcHJvcGVydGllcykge1xuICAgICAgICBzdXBlcihuYW1lLCB7XG4gICAgICAgICAgICB0aW1lU2hpZnQ6MCxcbiAgICAgICAgICAgIHJlY29ubmVjdFRpbWVvdXQ6IDEwMDAgKiA1LCAvLyBkZWZhdWx0IGlmIG5vdCBkZWZpbmVkIGludG8gcHJvcGVydGllc1xuICAgICAgICAgICAgdGxzOiBmYWxzZSxcbiAgICAgICAgICAgIC4uLnByb3BlcnRpZXNcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgY3JlYXRlV29ya2VyKHByb3BlcnRpZXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTb3NHZXRSZXN1bHRXb3JrZXIoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNvc0dldFJlc3VsdDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///12\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/utils/Utils.js\nvar Utils = __webpack_require__(0);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/resources/css/view.css\nvar view = __webpack_require__(30);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/Constants.js\nvar Constants = __webpack_require__(2);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/protocol/Status.js\nvar Status = __webpack_require__(16);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/event/EventType.js\nconst EventType = {\n  DATA: \'data\',\n  TIME: \'time\',\n  STATUS: \'status\',\n  TIME_CHANGED: \'time-changed\'\n};\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/ui/layer/Layer.js\nvar Layer = __webpack_require__(5);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/ui/layer/DataLayer.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2017 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\nclass DataLayer_DataLayer extends Layer["a" /* default */] {\n  constructor(properties) {\n    super(properties);\n    this.type = \'data\';\n  }\n\n  async setData(dataSourceId, records, options) {\n    this.props.data = records;\n  }\n  /**\n   * Clone current layer properties\n   * @return {Object} a shallow copy of current properties\n   */\n\n\n  getProps() {\n    return {\n      type: this.type,\n      values: this.props.data\n    };\n  }\n\n}\n\n/* harmony default export */ var layer_DataLayer = (DataLayer_DataLayer);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/ui/view/View.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n/**\n * The abstract object to represent a view.\n */\n\n\n\n\n\n\n\nclass View_View {\n  /**\n   * Create a View.\n   * @param {Object} [properties={}] - the properties of the view\n   * @param {string} properties.container - The div element to attach to\n   * @param {string} properties.css - The css classes to set, can be multiple if separate by spaces\n   * @param {string[]} properties.supportedLayers - List the supported layers of this View. It is corresponding to the the \'type\' Layer property\n   * @param {boolean} properties.visible - set the default behavior of the visibility of the view\n   * @param {Object[]}  [properties.layers=[]] - The initial layers to add\n   */\n  constructor(properties) {\n    // list of layers\n    this.layers = [];\n    this.lastRec = {};\n    this.dataSources = []; //this.divId = divId;\n\n    this.id = "view-" + Object(Utils["m" /* randomUUID */])();\n    this.css = "";\n\n    if (Object(Utils["k" /* isDefined */])(properties) && Object(Utils["k" /* isDefined */])(properties.css)) {\n      this.css = properties.css;\n    }\n\n    Object(Utils["c" /* assertDefined */])(properties && properties.supportedLayers, \'supportedLayers\');\n    Object(Utils["a" /* assertArray */])(properties.supportedLayers, \'supportedLayers\');\n    Object(Utils["i" /* assertTrue */])(properties.supportedLayers.length > 0, \'supportedLayers.length === 0\');\n    this.supportedLayers = properties.supportedLayers; // inits the view before adding the viewItem\n\n    this.init(properties);\n  }\n  /**\n   * Inits the view component.\n   * @private\n   */\n\n\n  init(properties) {\n    this.properties = properties;\n    this.elementDiv = document.createElement("div");\n    this.elementDiv.setAttribute("id", this.id);\n    this.elementDiv.setAttribute("class", this.css + " osh-view");\n    this.divId = this.id;\n    let parentDivId = Object(Utils["k" /* isDefined */])(properties.container) ? properties.container : document.body;\n    let div = document.getElementById(parentDivId);\n\n    if (!Object(Utils["k" /* isDefined */])(div) || div === null) {\n      document.body.appendChild(this.elementDiv);\n      this.hide();\n      this.container = document.body;\n    } else {\n      div.appendChild(this.elementDiv);\n      this.container = div;\n    }\n\n    this.beforeAddingItems(properties);\n\n    if (Object(Utils["k" /* isDefined */])(properties)) {\n      if (Object(Utils["k" /* isDefined */])(properties.layers)) {\n        for (let i = 0; i < properties.layers.length; i++) {\n          this.addLayer(properties.layers[i]);\n        }\n      }\n\n      if (Object(Utils["k" /* isDefined */])(properties.visible)) {\n        document.getElementById(this.divId).style.display = properties.visible ? "block" : "none";\n      }\n    }\n\n    const that = this; // observes the event associated to the dataSourceId\n\n    let observer = new MutationObserver(mutations => {\n      mutations.forEach(function (mutation) {\n        // Was it the style attribute that changed? (Maybe a classname or other attribute change could do this too?\n        // You might want to remove the attribute condition) Is display set to \'none\'?\n        if (mutation.attributeName === \'style\') {\n          that.onResize();\n        }\n      });\n    }); // Attach the mutation observer to blocker, and only when attribute values change\n\n    observer.observe(this.elementDiv, {\n      attributes: true\n    });\n    const rootObserver = new MutationObserver(function (mutations) {\n      // try to get the div element by the id to check if it is still owned by the document object\n      if (!Object(Utils["k" /* isDefined */])(document.getElementById(that.divId))) {\n        this.disconnect();\n        that.destroy();\n      }\n    });\n    rootObserver.observe(document.body, {\n      childList: true\n    });\n  }\n  /**\n   * Hide the view\n   */\n\n\n  hide() {\n    this.elementDiv.style.display = "none";\n  }\n  /**\n   * Callback called when the view is resized\n   * @event\n   */\n\n\n  onResize() {}\n  /**\n   * Attach the view to a specific div. If the view has already been attached to a div, it will be removed\n   * from its current parent and will be attached to new one.\n   * Note: the onResize() is called at the end of the process.\n   * @param {String} divId - The div element to attach to\n   */\n\n\n  attachTo(divId) {\n    if (Object(Utils["k" /* isDefined */])(this.elementDiv.parentNode)) {\n      // detach from its parent\n      this.elementDiv.parentNode.removeChild(this.elementDiv);\n    }\n\n    document.getElementById(divId).appendChild(this.elementDiv);\n\n    if (this.elementDiv.style.display === "none") {\n      this.elementDiv.style.display = "block";\n    }\n\n    this.onResize();\n  }\n  /**\n   * This method is called before attaching any view items passed as arguments in the constructor of the view.\n   * @event\n   * @param {Object} options - A generic object to use\n   */\n\n\n  beforeAddingItems(options) {}\n  /**\n   * Gets the inner id of the view object.\n   * @return {String} The id of the view\n   */\n\n\n  getId() {\n    return this.id;\n  }\n  /**\n   * Gets the div id of the DOM element.\n   * @return {String} The div id of the view\n   */\n\n\n  getDivId() {\n    return this.divId;\n  }\n  /**\n   * Set the data to the view. Each view has to handle the kind of the data separately.\n   * @param {String} dataSourceId - The dataSource id of the source providing the data\n   * @param {any[]} data - The data array to set\n   */\n\n\n  setData(dataSourceId, data) {}\n  /**\n   * Show the view.\n   * @param  {Object} properties - A generic object\n   */\n\n\n  show(properties) {}\n\n  destroy() {}\n  /**\n   * Adds a layer to the view. A broadcastChannel is going to listen the new dataSources\n   * @param {Layer} layer - The layer object\n   */\n\n\n  addLayer(layer) {\n    Object(Utils["i" /* assertTrue */])(this.supportedLayers.includes(layer.type), \'this layer is not supported: \' + layer.type + \', should be \' + this.supportedLayers);\n    this.layers.push(layer);\n    let ds = layer.getDataSourcesIds();\n\n    for (let i = 0; i < ds.length; i++) {\n      const dataSourceId = ds[i]; // this.setData(dataSourceId, [layer.getProps()]);\n      // observes the data come in\n\n      let self = this;\n      const broadcastChannel = new BroadcastChannel(Constants["a" /* DATASOURCE_DATA_TOPIC */] + dataSourceId);\n\n      broadcastChannel.onmessage = async event => {\n        if (event.data.type === EventType.STATUS && event.data.status === Status["a" /* Status */].CLOSED_ERROR) {\n          self.reset();\n        } else if (event.data.type === EventType.DATA) {\n          const that = this; // transform the data\n\n          layer.setData(dataSourceId, event.data.values).then(() => {\n            // set the transformed data to the view\n            that.setData(dataSourceId, layer.getProps()); // store as last record\n\n            self.lastRec[dataSourceId] = event.data;\n          });\n        }\n      };\n\n      const timeBroadcastChannel = new BroadcastChannel(Constants["b" /* DATASOURCE_TIME_TOPIC */] + dataSourceId);\n\n      timeBroadcastChannel.onmessage = event => {\n        // skip data reset events for now\n        if (event.data.type === EventType.TIME_CHANGED) {\n          self.reset(); // on time changed\n        }\n      };\n    }\n  }\n  /**\n   * Removes a Layer from the view.\n   * @param {Layer} layer - The layer object\n   */\n\n\n  removeAllFromLayer(layer) {\n    if (this.layers.includes(layer)) {\n      // 1) remove from STYLER fn\n      for (let ds in layer.dataSourcesToFn) {\n        delete this.lastRec[ds];\n      }\n\n      layer.reset();\n    }\n  }\n  /**\n   * Removes all view item from the view.\n   */\n\n\n  removeAllFromLayers() {\n    for (let layer of this.layers) {\n      this.removeAllFromLayer(layer);\n    }\n  }\n  /**\n   * Gets the list of the dataSource ids contained into the view.\n   * @return {String[]} The list of dataSource ids\n   */\n\n\n  getDataSourcesId() {\n    let res = []; // check for layers\n\n    for (let i = 0; i < this.layers.length; i++) {\n      let layer = this.layers[i];\n      res = res.concat(layer.getDataSourcesIds());\n    }\n\n    return res;\n  }\n  /**\n   * Calls for resetting the view.\n   */\n\n\n  reset() {\n    this.removeAllFromLayers();\n  }\n\n}\n\n/* harmony default export */ var view_View = __webpack_exports__["a"] = (View_View);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9ldmVudC9FdmVudFR5cGUuanM/OWUzMCIsIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91aS9sYXllci9EYXRhTGF5ZXIuanM/ZGZjOCIsIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91aS92aWV3L1ZpZXcuanM/MDRjMiJdLCJuYW1lcyI6WyJFdmVudFR5cGUiLCJEQVRBIiwiVElNRSIsIlNUQVRVUyIsIlRJTUVfQ0hBTkdFRCIsIkRhdGFMYXllciIsIkxheWVyIiwiY29uc3RydWN0b3IiLCJwcm9wZXJ0aWVzIiwidHlwZSIsInNldERhdGEiLCJkYXRhU291cmNlSWQiLCJyZWNvcmRzIiwib3B0aW9ucyIsInByb3BzIiwiZGF0YSIsImdldFByb3BzIiwidmFsdWVzIiwiVmlldyIsImxheWVycyIsImxhc3RSZWMiLCJkYXRhU291cmNlcyIsImlkIiwicmFuZG9tVVVJRCIsImNzcyIsImlzRGVmaW5lZCIsImFzc2VydERlZmluZWQiLCJzdXBwb3J0ZWRMYXllcnMiLCJhc3NlcnRBcnJheSIsImFzc2VydFRydWUiLCJsZW5ndGgiLCJpbml0IiwiZWxlbWVudERpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImRpdklkIiwicGFyZW50RGl2SWQiLCJjb250YWluZXIiLCJib2R5IiwiZGl2IiwiZ2V0RWxlbWVudEJ5SWQiLCJhcHBlbmRDaGlsZCIsImhpZGUiLCJiZWZvcmVBZGRpbmdJdGVtcyIsImkiLCJhZGRMYXllciIsInZpc2libGUiLCJzdHlsZSIsImRpc3BsYXkiLCJ0aGF0Iiwib2JzZXJ2ZXIiLCJNdXRhdGlvbk9ic2VydmVyIiwibXV0YXRpb25zIiwiZm9yRWFjaCIsIm11dGF0aW9uIiwiYXR0cmlidXRlTmFtZSIsIm9uUmVzaXplIiwib2JzZXJ2ZSIsImF0dHJpYnV0ZXMiLCJyb290T2JzZXJ2ZXIiLCJkaXNjb25uZWN0IiwiZGVzdHJveSIsImNoaWxkTGlzdCIsImF0dGFjaFRvIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiZ2V0SWQiLCJnZXREaXZJZCIsInNob3ciLCJsYXllciIsImluY2x1ZGVzIiwicHVzaCIsImRzIiwiZ2V0RGF0YVNvdXJjZXNJZHMiLCJzZWxmIiwiYnJvYWRjYXN0Q2hhbm5lbCIsIkJyb2FkY2FzdENoYW5uZWwiLCJEQVRBU09VUkNFX0RBVEFfVE9QSUMiLCJvbm1lc3NhZ2UiLCJldmVudCIsInN0YXR1cyIsIlN0YXR1cyIsIkNMT1NFRF9FUlJPUiIsInJlc2V0IiwidGhlbiIsInRpbWVCcm9hZGNhc3RDaGFubmVsIiwiREFUQVNPVVJDRV9USU1FX1RPUElDIiwicmVtb3ZlQWxsRnJvbUxheWVyIiwiZGF0YVNvdXJjZXNUb0ZuIiwicmVtb3ZlQWxsRnJvbUxheWVycyIsImdldERhdGFTb3VyY2VzSWQiLCJyZXMiLCJjb25jYXQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQU8sTUFBTUEsU0FBUyxHQUFHO0FBQ3JCQyxNQUFJLEVBQUUsTUFEZTtBQUVyQkMsTUFBSSxFQUFFLE1BRmU7QUFHckJDLFFBQU0sRUFBRSxRQUhhO0FBSXJCQyxjQUFZLEVBQUU7QUFKTyxDQUFsQixDOzs7OztBQ0FQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBLE1BQU1DLG1CQUFOLFNBQXdCQyx3QkFBeEIsQ0FBOEI7QUFFMUJDLGFBQVcsQ0FBQ0MsVUFBRCxFQUFhO0FBQ3BCLFVBQU1BLFVBQU47QUFDQSxTQUFLQyxJQUFMLEdBQVksTUFBWjtBQUNIOztBQUVZLFFBQVBDLE9BQU8sQ0FBQ0Ms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O0FBQ0o7QUFDQTs7O0FBQ0lNLHFCQUFtQixHQUFHO0FBQ2xCLFNBQUksSUFBSXBCLEtBQVIsSUFBaUIsS0FBS25ELE1BQXRCLEVBQThCO0FBQzFCLFdBQUtxRSxrQkFBTCxDQUF3QmxCLEtBQXhCO0FBQ0g7QUFDSjtBQUVEO0FBQ0o7QUFDQTtBQUNBOzs7QUFDSXFCLGtCQUFnQixHQUFHO0FBQ2YsUUFBSUMsR0FBRyxHQUFHLEVBQVYsQ0FEZSxDQUdmOztBQUNBLFNBQUssSUFBSS9DLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUcsS0FBSzFCLE1BQUwsQ0FBWVcsTUFBaEMsRUFBd0NlLENBQUMsRUFBekMsRUFBNkM7QUFDekMsVUFBSXlCLEtBQUssR0FBRyxLQUFLbkQsTUFBTCxDQUFZMEIsQ0FBWixDQUFaO0FBQ0ErQyxTQUFHLEdBQUdBLEdBQUcsQ0FBQ0MsTUFBSixDQUFXdkIsS0FBSyxDQUFDSSxpQkFBTixFQUFYLENBQU47QUFDSDs7QUFFRCxXQUFPa0IsR0FBUDtBQUNIO0FBRUQ7QUFDSjtBQUNBOzs7QUFDSVIsT0FBSyxHQUFHO0FBQ0osU0FBS00sbUJBQUw7QUFDSDs7QUF2UU07O0FBMlFJeEUsa0ZBQWYiLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgRXZlbnRUeXBlID0ge1xuICAgIERBVEE6ICdkYXRhJyxcbiAgICBUSU1FOiAndGltZScsXG4gICAgU1RBVFVTOiAnc3RhdHVzJyxcbiAgICBUSU1FX0NIQU5HRUQ6ICd0aW1lLWNoYW5nZWQnXG59O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAxNyBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgTGF5ZXIgZnJvbSBcIi4vTGF5ZXJcIjtcblxuY2xhc3MgRGF0YUxheWVyIGV4dGVuZHMgTGF5ZXIge1xuXG4gICAgY29uc3RydWN0b3IocHJvcGVydGllcykge1xuICAgICAgICBzdXBlcihwcm9wZXJ0aWVzKTtcbiAgICAgICAgdGhpcy50eXBlID0gJ2RhdGEnO1xuICAgIH1cblxuICAgIGFzeW5jIHNldERhdGEoZGF0YVNvdXJjZUlkLCByZWNvcmRzLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMucHJvcHMuZGF0YSA9IHJlY29yZHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvbmUgY3VycmVudCBsYXllciBwcm9wZXJ0aWVzXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBhIHNoYWxsb3cgY29weSBvZiBjdXJyZW50IHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBnZXRQcm9wcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIHZhbHVlczogdGhpcy5wcm9wcy5kYXRhXG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBEYXRhTGF5ZXI7XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogQkVHSU4gTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuIFRoZSBjb250ZW50cyBvZiB0aGlzIGZpbGUgYXJlIHN1YmplY3QgdG8gdGhlIE1vemlsbGEgUHVibGljIExpY2Vuc2UsIHYuIDIuMC5cbiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmVcbiBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uXG5cbiBTb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgYmFzaXMsXG4gV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlXG4gZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcmlnaHRzIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuIENvcHlyaWdodCAoQykgMjAxNS0yMDIwIE1hdGhpZXUgRGhhaW5hdXQuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbiBBdXRob3I6IE1hdGhpZXUgRGhhaW5hdXQgPG1hdGhpZXUuZGhhaW5hdXRAZ21haWwuY29tPlxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogVGhlIGFic3RyYWN0IG9iamVjdCB0byByZXByZXNlbnQgYSB2aWV3LlxuICovXG5pbXBvcnQge1xuICAgIGFzc2VydEFycmF5LFxuICAgIGFzc2VydEJvb2xlYW4sXG4gICAgYXNzZXJ0RGVmaW5lZCxcbiAgICBhc3NlcnRTdHJpbmcsXG4gICAgYXNzZXJ0VHJ1ZSxcbiAgICBpc0RlZmluZWQsXG4gICAgcmFuZG9tVVVJRFxufSBmcm9tICcuLi8uLi91dGlscy9VdGlscy5qcyc7XG5pbXBvcnQgJy4uLy4uL3Jlc291cmNlcy9jc3Mvdmlldy5jc3MnO1xuaW1wb3J0IHtEQVRBU09VUkNFX0RBVEFfVE9QSUMsIERBVEFTT1VSQ0VfVElNRV9UT1BJQ30gZnJvbSBcIi4uLy4uL0NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IHtTdGF0dXN9IGZyb20gXCIuLi8uLi9wcm90b2NvbC9TdGF0dXMuanNcIjtcbmltcG9ydCB7RXZlbnRUeXBlfSBmcm9tIFwiLi4vLi4vZXZlbnQvRXZlbnRUeXBlLmpzXCI7XG5pbXBvcnQgRGF0YUxheWVyIGZyb20gXCIuLi9sYXllci9EYXRhTGF5ZXJcIjtcblxuY2xhc3MgVmlldyB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgVmlldy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIC0gdGhlIHByb3BlcnRpZXMgb2YgdGhlIHZpZXdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydGllcy5jb250YWluZXIgLSBUaGUgZGl2IGVsZW1lbnQgdG8gYXR0YWNoIHRvXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnRpZXMuY3NzIC0gVGhlIGNzcyBjbGFzc2VzIHRvIHNldCwgY2FuIGJlIG11bHRpcGxlIGlmIHNlcGFyYXRlIGJ5IHNwYWNlc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHByb3BlcnRpZXMuc3VwcG9ydGVkTGF5ZXJzIC0gTGlzdCB0aGUgc3VwcG9ydGVkIGxheWVycyBvZiB0aGlzIFZpZXcuIEl0IGlzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHRoZSAndHlwZScgTGF5ZXIgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHByb3BlcnRpZXMudmlzaWJsZSAtIHNldCB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgdmlld1xuICAgICAqIEBwYXJhbSB7T2JqZWN0W119ICBbcHJvcGVydGllcy5sYXllcnM9W11dIC0gVGhlIGluaXRpYWwgbGF5ZXJzIHRvIGFkZFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb3BlcnRpZXMpIHtcbiAgICAgICAgLy8gbGlzdCBvZiBsYXllcnNcbiAgICAgICAgdGhpcy5sYXllcnMgPSBbXTtcbiAgICAgICAgdGhpcy5sYXN0UmVjID0ge307XG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZXMgPSBbXTtcblxuICAgICAgICAvL3RoaXMuZGl2SWQgPSBkaXZJZDtcbiAgICAgICAgdGhpcy5pZCA9IFwidmlldy1cIiArIHJhbmRvbVVVSUQoKTtcblxuICAgICAgICB0aGlzLmNzcyA9IFwiXCI7XG4gICAgICAgIGlmIChpc0RlZmluZWQocHJvcGVydGllcykgJiYgaXNEZWZpbmVkKHByb3BlcnRpZXMuY3NzKSkge1xuICAgICAgICAgICAgdGhpcy5jc3MgPSBwcm9wZXJ0aWVzLmNzcztcbiAgICAgICAgfVxuXG4gICAgICAgIGFzc2VydERlZmluZWQocHJvcGVydGllcyAmJiBwcm9wZXJ0aWVzLnN1cHBvcnRlZExheWVycywgJ3N1cHBvcnRlZExheWVycycpO1xuICAgICAgICBhc3NlcnRBcnJheShwcm9wZXJ0aWVzLnN1cHBvcnRlZExheWVycywgJ3N1cHBvcnRlZExheWVycycpO1xuICAgICAgICBhc3NlcnRUcnVlKHByb3BlcnRpZXMuc3VwcG9ydGVkTGF5ZXJzLmxlbmd0aCA+IDAsICdzdXBwb3J0ZWRMYXllcnMubGVuZ3RoID09PSAwJyk7XG5cbiAgICAgICAgdGhpcy5zdXBwb3J0ZWRMYXllcnMgPSBwcm9wZXJ0aWVzLnN1cHBvcnRlZExheWVycztcblxuICAgICAgICAvLyBpbml0cyB0aGUgdmlldyBiZWZvcmUgYWRkaW5nIHRoZSB2aWV3SXRlbVxuICAgICAgICB0aGlzLmluaXQocHJvcGVydGllcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdHMgdGhlIHZpZXcgY29tcG9uZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgaW5pdChwcm9wZXJ0aWVzKSB7XG5cbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gcHJvcGVydGllcztcbiAgICAgICAgdGhpcy5lbGVtZW50RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5lbGVtZW50RGl2LnNldEF0dHJpYnV0ZShcImlkXCIsIHRoaXMuaWQpO1xuICAgICAgICB0aGlzLmVsZW1lbnREaXYuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgdGhpcy5jc3MrXCIgb3NoLXZpZXdcIik7XG4gICAgICAgIHRoaXMuZGl2SWQgPSB0aGlzLmlkO1xuXG4gICAgICAgIGxldCBwYXJlbnREaXZJZCA9IChpc0RlZmluZWQocHJvcGVydGllcy5jb250YWluZXIpPyBwcm9wZXJ0aWVzLmNvbnRhaW5lciA6IGRvY3VtZW50LmJvZHkpO1xuXG4gICAgICAgIGxldCBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwYXJlbnREaXZJZCk7XG5cbiAgICAgICAgaWYgKCFpc0RlZmluZWQoZGl2KSB8fCBkaXYgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50RGl2KTtcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudERpdik7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGRpdjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmVmb3JlQWRkaW5nSXRlbXMocHJvcGVydGllcyk7XG5cbiAgICAgICAgaWYoaXNEZWZpbmVkKHByb3BlcnRpZXMpKSB7XG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKHByb3BlcnRpZXMubGF5ZXJzKSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcGVydGllcy5sYXllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRMYXllcihwcm9wZXJ0aWVzLmxheWVyc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKHByb3BlcnRpZXMudmlzaWJsZSkpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmRpdklkKS5zdHlsZS5kaXNwbGF5ID0gKHByb3BlcnRpZXMudmlzaWJsZSkgPyBcImJsb2NrXCIgOiBcIm5vbmVcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzO1xuICAgICAgICAvLyBvYnNlcnZlcyB0aGUgZXZlbnQgYXNzb2NpYXRlZCB0byB0aGUgZGF0YVNvdXJjZUlkXG5cbiAgICAgICAgbGV0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4ge1xuICAgICAgICAgICAgbXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24gKG11dGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gV2FzIGl0IHRoZSBzdHlsZSBhdHRyaWJ1dGUgdGhhdCBjaGFuZ2VkPyAoTWF5YmUgYSBjbGFzc25hbWUgb3Igb3RoZXIgYXR0cmlidXRlIGNoYW5nZSBjb3VsZCBkbyB0aGlzIHRvbz9cbiAgICAgICAgICAgICAgICAvLyBZb3UgbWlnaHQgd2FudCB0byByZW1vdmUgdGhlIGF0dHJpYnV0ZSBjb25kaXRpb24pIElzIGRpc3BsYXkgc2V0IHRvICdub25lJz9cbiAgICAgICAgICAgICAgICBpZiAobXV0YXRpb24uYXR0cmlidXRlTmFtZSA9PT0gJ3N0eWxlJykge1xuICAgICAgICAgICAgICAgICAgICB0aGF0Lm9uUmVzaXplKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBBdHRhY2ggdGhlIG11dGF0aW9uIG9ic2VydmVyIHRvIGJsb2NrZXIsIGFuZCBvbmx5IHdoZW4gYXR0cmlidXRlIHZhbHVlcyBjaGFuZ2VcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmVsZW1lbnREaXYsIHthdHRyaWJ1dGVzOiB0cnVlfSk7XG5cbiAgICAgICAgY29uc3Qgcm9vdE9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24obXV0YXRpb25zKSB7XG4gICAgICAgICAgICAvLyB0cnkgdG8gZ2V0IHRoZSBkaXYgZWxlbWVudCBieSB0aGUgaWQgdG8gY2hlY2sgaWYgaXQgaXMgc3RpbGwgb3duZWQgYnkgdGhlIGRvY3VtZW50IG9iamVjdFxuICAgICAgICAgICAgaWYoIWlzRGVmaW5lZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGF0LmRpdklkKSkpe1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIHRoYXQuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcm9vdE9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwge1xuICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIaWRlIHRoZSB2aWV3XG4gICAgICovXG4gICAgaGlkZSgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50RGl2LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayBjYWxsZWQgd2hlbiB0aGUgdmlldyBpcyByZXNpemVkXG4gICAgICogQGV2ZW50XG4gICAgICovXG4gICAgb25SZXNpemUoKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXR0YWNoIHRoZSB2aWV3IHRvIGEgc3BlY2lmaWMgZGl2LiBJZiB0aGUgdmlldyBoYXMgYWxyZWFkeSBiZWVuIGF0dGFjaGVkIHRvIGEgZGl2LCBpdCB3aWxsIGJlIHJlbW92ZWRcbiAgICAgKiBmcm9tIGl0cyBjdXJyZW50IHBhcmVudCBhbmQgd2lsbCBiZSBhdHRhY2hlZCB0byBuZXcgb25lLlxuICAgICAqIE5vdGU6IHRoZSBvblJlc2l6ZSgpIGlzIGNhbGxlZCBhdCB0aGUgZW5kIG9mIHRoZSBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkaXZJZCAtIFRoZSBkaXYgZWxlbWVudCB0byBhdHRhY2ggdG9cbiAgICAgKi9cbiAgICBhdHRhY2hUbyhkaXZJZCkge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKHRoaXMuZWxlbWVudERpdi5wYXJlbnROb2RlKSkge1xuICAgICAgICAgICAgLy8gZGV0YWNoIGZyb20gaXRzIHBhcmVudFxuICAgICAgICAgICAgdGhpcy5lbGVtZW50RGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50RGl2KTtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkaXZJZCkuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50RGl2KTtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudERpdi5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50RGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9uUmVzaXplKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGJlZm9yZSBhdHRhY2hpbmcgYW55IHZpZXcgaXRlbXMgcGFzc2VkIGFzIGFyZ3VtZW50cyBpbiB0aGUgY29uc3RydWN0b3Igb2YgdGhlIHZpZXcuXG4gICAgICogQGV2ZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBBIGdlbmVyaWMgb2JqZWN0IHRvIHVzZVxuICAgICAqL1xuICAgIGJlZm9yZUFkZGluZ0l0ZW1zKG9wdGlvbnMpIHtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGlubmVyIGlkIG9mIHRoZSB2aWV3IG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBpZCBvZiB0aGUgdmlld1xuICAgICAqL1xuICAgIGdldElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBkaXYgaWQgb2YgdGhlIERPTSBlbGVtZW50LlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIGRpdiBpZCBvZiB0aGUgdmlld1xuICAgICAqL1xuICAgIGdldERpdklkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXZJZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGRhdGEgdG8gdGhlIHZpZXcuIEVhY2ggdmlldyBoYXMgdG8gaGFuZGxlIHRoZSBraW5kIG9mIHRoZSBkYXRhIHNlcGFyYXRlbHkuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGFTb3VyY2VJZCAtIFRoZSBkYXRhU291cmNlIGlkIG9mIHRoZSBzb3VyY2UgcHJvdmlkaW5nIHRoZSBkYXRhXG4gICAgICogQHBhcmFtIHthbnlbXX0gZGF0YSAtIFRoZSBkYXRhIGFycmF5IHRvIHNldFxuICAgICAqL1xuICAgIHNldERhdGEoZGF0YVNvdXJjZUlkLCBkYXRhKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvdyB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IHByb3BlcnRpZXMgLSBBIGdlbmVyaWMgb2JqZWN0XG4gICAgICovXG4gICAgc2hvdyhwcm9wZXJ0aWVzKSB7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpICB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBsYXllciB0byB0aGUgdmlldy4gQSBicm9hZGNhc3RDaGFubmVsIGlzIGdvaW5nIHRvIGxpc3RlbiB0aGUgbmV3IGRhdGFTb3VyY2VzXG4gICAgICogQHBhcmFtIHtMYXllcn0gbGF5ZXIgLSBUaGUgbGF5ZXIgb2JqZWN0XG4gICAgICovXG4gICAgYWRkTGF5ZXIobGF5ZXIpIHtcbiAgICAgICAgYXNzZXJ0VHJ1ZSh0aGlzLnN1cHBvcnRlZExheWVycy5pbmNsdWRlcyhsYXllci50eXBlKSwgJ3RoaXMgbGF5ZXIgaXMgbm90IHN1cHBvcnRlZDogJytsYXllci50eXBlKycsIHNob3VsZCBiZSAnK3RoaXMuc3VwcG9ydGVkTGF5ZXJzKTtcbiAgICAgICAgdGhpcy5sYXllcnMucHVzaChsYXllcik7XG5cbiAgICAgICAgbGV0IGRzID0gbGF5ZXIuZ2V0RGF0YVNvdXJjZXNJZHMoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZGF0YVNvdXJjZUlkID0gZHNbaV07XG4gICAgICAgICAgIC8vIHRoaXMuc2V0RGF0YShkYXRhU291cmNlSWQsIFtsYXllci5nZXRQcm9wcygpXSk7XG4gICAgICAgICAgICAvLyBvYnNlcnZlcyB0aGUgZGF0YSBjb21lIGluXG4gICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBjb25zdCBicm9hZGNhc3RDaGFubmVsID0gbmV3IEJyb2FkY2FzdENoYW5uZWwoREFUQVNPVVJDRV9EQVRBX1RPUElDK2RhdGFTb3VyY2VJZCk7XG4gICAgICAgICAgICBicm9hZGNhc3RDaGFubmVsLm9ubWVzc2FnZSA9IGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChldmVudC5kYXRhLnR5cGUgPT09IEV2ZW50VHlwZS5TVEFUVVMgJiYgZXZlbnQuZGF0YS5zdGF0dXMgPT09IFN0YXR1cy5DTE9TRURfRVJST1IpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZXNldCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuZGF0YS50eXBlID09PSBFdmVudFR5cGUuREFUQSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRyYW5zZm9ybSB0aGUgZGF0YVxuICAgICAgICAgICAgICAgICAgICBsYXllci5zZXREYXRhKGRhdGFTb3VyY2VJZCwgZXZlbnQuZGF0YS52YWx1ZXMpLnRoZW4oKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIHRyYW5zZm9ybWVkIGRhdGEgdG8gdGhlIHZpZXdcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuc2V0RGF0YShkYXRhU291cmNlSWQsIGxheWVyLmdldFByb3BzKCkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzdG9yZSBhcyBsYXN0IHJlY29yZFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5sYXN0UmVjW2RhdGFTb3VyY2VJZF0gPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCB0aW1lQnJvYWRjYXN0Q2hhbm5lbCA9IG5ldyBCcm9hZGNhc3RDaGFubmVsKERBVEFTT1VSQ0VfVElNRV9UT1BJQytkYXRhU291cmNlSWQpO1xuICAgICAgICAgICAgdGltZUJyb2FkY2FzdENoYW5uZWwub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gc2tpcCBkYXRhIHJlc2V0IGV2ZW50cyBmb3Igbm93XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEudHlwZSA9PT0gRXZlbnRUeXBlLlRJTUVfQ0hBTkdFRCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnJlc2V0KCk7IC8vIG9uIHRpbWUgY2hhbmdlZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgTGF5ZXIgZnJvbSB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge0xheWVyfSBsYXllciAtIFRoZSBsYXllciBvYmplY3RcbiAgICAgKi9cbiAgICByZW1vdmVBbGxGcm9tTGF5ZXIobGF5ZXIpIHtcbiAgICAgICAgaWYodGhpcy5sYXllcnMuaW5jbHVkZXMobGF5ZXIpKSB7XG4gICAgICAgICAgICAvLyAxKSByZW1vdmUgZnJvbSBTVFlMRVIgZm5cbiAgICAgICAgICAgIGZvcihsZXQgZHMgaW4gbGF5ZXIuZGF0YVNvdXJjZXNUb0ZuKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMubGFzdFJlY1tkc107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXllci5yZXNldCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgdmlldyBpdGVtIGZyb20gdGhlIHZpZXcuXG4gICAgICovXG4gICAgcmVtb3ZlQWxsRnJvbUxheWVycygpIHtcbiAgICAgICAgZm9yKGxldCBsYXllciBvZiB0aGlzLmxheWVycykge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVBbGxGcm9tTGF5ZXIobGF5ZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGlzdCBvZiB0aGUgZGF0YVNvdXJjZSBpZHMgY29udGFpbmVkIGludG8gdGhlIHZpZXcuXG4gICAgICogQHJldHVybiB7U3RyaW5nW119IFRoZSBsaXN0IG9mIGRhdGFTb3VyY2UgaWRzXG4gICAgICovXG4gICAgZ2V0RGF0YVNvdXJjZXNJZCgpIHtcbiAgICAgICAgbGV0IHJlcyA9IFtdO1xuXG4gICAgICAgIC8vIGNoZWNrIGZvciBsYXllcnNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxheWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGxheWVyID0gdGhpcy5sYXllcnNbaV07XG4gICAgICAgICAgICByZXMgPSByZXMuY29uY2F0KGxheWVyLmdldERhdGFTb3VyY2VzSWRzKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxscyBmb3IgcmVzZXR0aW5nIHRoZSB2aWV3LlxuICAgICAqL1xuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnJlbW92ZUFsbEZyb21MYXllcnMoKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmlldztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///13\n')},,,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Status; });\n/**\n * Enum for connection status.\n * @readonly\n * @enum {{name: string}}\n */\nconst Status = {\n  CONNECTING: "connecting",\n  CONNECTED: "connected",\n  DISCONNECTED: "disconnected",\n  CLOSED_ERROR: "closed-error"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9wcm90b2NvbC9TdGF0dXMuanM/ODg4YSJdLCJuYW1lcyI6WyJTdGF0dXMiLCJDT05ORUNUSU5HIiwiQ09OTkVDVEVEIiwiRElTQ09OTkVDVEVEIiwiQ0xPU0VEX0VSUk9SIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxNQUFNQSxNQUFNLEdBQUc7QUFDbEJDLFlBQVUsRUFBRSxZQURNO0FBRWxCQyxXQUFTLEVBQUcsV0FGTTtBQUdsQkMsY0FBWSxFQUFFLGNBSEk7QUFJbEJDLGNBQVksRUFBRTtBQUpJLENBQWYiLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEVudW0gZm9yIGNvbm5lY3Rpb24gc3RhdHVzLlxuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7e25hbWU6IHN0cmluZ319XG4gKi9cbmV4cG9ydCBjb25zdCBTdGF0dXMgPSB7XG4gICAgQ09OTkVDVElORzogXCJjb25uZWN0aW5nXCIsXG4gICAgQ09OTkVDVEVEOiAgXCJjb25uZWN0ZWRcIixcbiAgICBESVNDT05ORUNURUQ6IFwiZGlzY29ubmVjdGVkXCIsXG4gICAgQ0xPU0VEX0VSUk9SOiBcImNsb3NlZC1lcnJvclwiXG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///16\n')},function(module,exports,__webpack_require__){eval('module.exports = function () {\n  return new Worker(__webpack_require__.p + "e9b0782ff39e8fd36b15.worker.js");\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9kYXRhc291cmNlL3Nvcy93b3JrZXIvU29zR2V0UmVzdWx0Lndvcmtlci5qcz82NDM5Il0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJXb3JrZXIiLCJfX3dlYnBhY2tfcHVibGljX3BhdGhfXyJdLCJtYXBwaW5ncyI6IkFBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixZQUFXO0FBQzFCLFNBQU8sSUFBSUMsTUFBSixDQUFXQyxxQkFBdUIsR0FBRyxnQ0FBckMsQ0FBUDtBQUNELENBRkQiLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFdvcmtlcihfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZTliMDc4MmZmMzllOGZkMzZiMTUud29ya2VyLmpzXCIpO1xufTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///17\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var _Layer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5);\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2017 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * @extends Layer\n * @example\n *\n * import PointMarkerLayer from \'core/ui/layer/PointMarkerLayer.js\';\n *\n * let pointMarkerLayer = new PointMarkerLayer({\n        location : {\n            x : 1.42376557,\n            y : 43.61758626,\n            z : 100\n        },\n        getLocation : {\n            dataSourceIds : [androidPhoneGpsDataSource.getId()],\n            handler : function(rec) {\n                return {\n                    x : rec.lon,\n                    y : rec.lat,\n                    z : rec.alt\n                };\n            }\n        },\n        getOrientation : {\n            dataSourceIds : [androidPhoneOrientationDataSource.getId()],\n            handler : function(rec) {\n                return {\n                    heading : rec.heading\n                };\n            }\n        },\n        icon : \'images/cameralook.png\',\n        getIcon : {\n            dataSourceIds: [androidPhoneGpsDataSource.getId()],\n            handler : function(rec,timeStamp,options) {\n                if(options.selected) {\n                    return \'images/cameralook-selected.png\'\n                } else {\n                    return \'images/cameralook.png\';\n                };\n            }\n        }\n    });\n */\n\nclass PointMarkerLayer extends _Layer_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"] {\n  /**\n   * Create the PointMarker\n   * @param {Object} properties\n   * @param {Number[]} properties.location - [x,y,z]\n   * @param {Number} [properties.orientation=0] -\n   * @param {String} properties.icon -\n   * @param {String} [properties.iconScale=1] - the icon scale size\n   * @param {String} [properties.iconColor="#000000"] - the icon color\n   * @param {Number[]} [properties.iconAnchor=[16,16]] -\n   * @param {Number[]} [properties.iconSize=[16,16]] -\n   * @param {Number} [properties.iconOpacity=0.75] - icon opacity\n   * @param {String} [properties.label=""] - the label to display\n   * @param {String} [properties.labelColor="#000000"] - color\n   * @param {String} [properties.labelOutlineColor=undefined] - color\n   * @param {String} [properties.labelBackgroundColor=undefined] -  color\n   * @param {Number} [properties.labelSize=16] -\n   * @param {Number} [properties.labelScale=1.0] - label scale\n   * @param {Number[]} [properties.labelOffset=[0,0]] -\n   * @param {Number} [properties.zIndex=0] - z-ordering of markers\n   * @param {Number} [properties.allowBillboardRotation=true] - allow billboard rotation\n   * @param {Function} [properties.getLocation] -\n   * @param {Function} [properties.getDescription] -\n   * @param {Function} [properties.getOrientation] -\n   * @param {Function} [properties.getIcon] -\n   * @param {Function} [properties.getIconColor] -\n   * @param {Function} [properties.getIconScale] -\n   * @param {Function} [properties.getLabel] -\n   * @param {Function} [properties.getLabelColor] -\n   * @param {Function} [properties.getLabelSize] -\n   * @param {Function} [properties.getZindex] - z-ordering of markers\n   * @param {Function} [properties.onLeftClick] - trigger onLeftClick marker event\n   * @param {Function} [properties.onRightClick] - trigger onRightClick marker event\n   * @param {Function} [properties.onHover] - trigger onHover marker event\n   * @param {Function} [properties.getMarkerId] - map an id to a unique marker\n   * @param {Number} [properties.zoomLevel=15] - Set the default zoom level\n   * @param {Boolean} [properties.defaultToTerrainElevation=false] - Set the default to terrain elevation\n   *\n   */\n  constructor(properties) {\n    super(properties);\n    this.type = \'marker\';\n    this.props.location = null;\n    this.props.orientation = {\n      heading: 0\n    };\n    this.props.icon = null;\n    this.props.iconAnchor = [16, 16];\n    this.props.iconSize = [16, 16];\n    this.props.iconScale = 1.0;\n    this.props.iconColor = "#000000";\n    this.props.iconOpacity = 0.75;\n    this.props.label = null;\n    this.props.labelColor = "#000000";\n    this.props.labelOutlineColor = undefined;\n    this.props.labelBackgroundColor = undefined;\n    this.props.labelSize = 16;\n    this.props.labelScale = 1.0;\n    this.props.labelOffset = [0, 0];\n    this.props.zoomLevel = 15;\n    this.props.color = \'#000000\';\n    this.props.defaultToTerrainElevation = false;\n    this.props.zIndex = 0;\n    this.props.allowBillboardRotation = true;\n    this.props.options = {};\n    this.props.markerId = \'marker\';\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(properties.defaultToTerrainElevation)) {\n      this.props.defaultToTerrainElevation = properties.defaultToTerrainElevation;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.location)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertObject */ "f"])(properties.location, "location");\n      this.props.location = properties.location;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.orientation)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertObject */ "f"])(properties.orientation, "orientation");\n      this.props.orientation = properties.orientation;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.icon)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertString */ "h"])(properties.icon, "icon");\n      this.props.icon = properties.icon;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.iconAnchor)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertArray */ "a"])(properties.iconAnchor, "iconAnchor");\n      this.props.iconAnchor = properties.iconAnchor;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.iconSize)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertArray */ "a"])(properties.iconSize, "iconSize");\n      this.props.iconSize = properties.iconSize;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.iconScale)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertPositive */ "g"])(properties.iconScale, "iconScale");\n      this.props.iconScale = properties.iconScale;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.iconColor)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertString */ "h"])(properties.iconColor, "iconColor");\n      this.props.iconColor = properties.iconColor;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.iconOpacity)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertString */ "h"])(properties.iconOpacity, "iconOpacity");\n      this.props.iconOpacity = properties.iconOpacity;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.label)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertString */ "h"])(properties.label, "label");\n      this.props.label = properties.label;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.labelColor)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertString */ "h"])(properties.labelColor, "labelColor");\n      this.props.labelColor = properties.labelColor;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.labelOutlineColor)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertString */ "h"])(properties.labelOutlineColor, "labelOutlineColor");\n      this.props.labelOutlineColor = properties.labelOutlineColor;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.labelBackgroundColor)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertString */ "h"])(properties.labelBackgroundColor, "labelBackgroundColor");\n      this.props.labelBackgroundColor = properties.labelBackgroundColor;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.labelSize)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertPositive */ "g"])(properties.labelSize, "labelSize");\n      this.props.labelSize = properties.labelSize;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.labelScale)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertPositive */ "g"])(properties.labelScale, "labelScale");\n      this.props.labelScale = properties.labelScale;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.labelOffset)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertArray */ "a"])(properties.labelOffset, "labelOffset");\n      this.props.labelOffset = properties.labelOffset;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.zoomLevel)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertPositive */ "g"])(properties.zoomLevel, "zoomLevel");\n      this.props.zoomLevel = properties.zoomLevel;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.zIndex)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertNumber */ "e"])(properties.zIndex, "zIndex");\n      this.props.zIndex = properties.zIndex;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.allowBillboardRotation)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertBoolean */ "b"])(properties.allowBillboardRotation, "allowBillboardRotation");\n      this.props.allowBillboardRotation = properties.allowBillboardRotation;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.color)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertString */ "h"])(properties.color, "color");\n      this.props.color = properties.color;\n    }\n\n    const that = this; // must be first to assign correctly the first location to the right id if it is defined\n\n    if (this.checkFn("getMarkerId")) {\n      let fn = async (rec, timestamp, options) => {\n        that.props.markerId = await that.getFunc(\'getMarkerId\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getMarkerId\'), fn);\n    }\n\n    if (this.checkFn("getLocation")) {\n      let fn = async (rec, timestamp, options) => {\n        that.props.location = await that.getFunc(\'getLocation\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getLocation\'), fn);\n    }\n\n    if (this.checkFn("getOrientation")) {\n      let fn = async (rec, timestamp, options) => {\n        that.props.orientation = await that.getFunc(\'getOrientation\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getOrientation\'), fn);\n    }\n\n    if (this.checkFn("getDescription")) {\n      let fn = async (rec, timestamp, options) => {\n        that.props.description = await that.getFunc(\'getDescription\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getDescription\'), fn);\n    }\n\n    if (this.checkFn("getIcon")) {\n      let fn = async (rec, timestamp, options) => {\n        that.props.icon = await that.getFunc(\'getIcon\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getIcon\'), fn);\n    }\n\n    if (this.checkFn("getIconColor")) {\n      let fn = async (rec, timestamp, options) => {\n        that.props.iconColor = await that.getFunc(\'getIconColor\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getIconColor\'), fn);\n    }\n\n    if (this.checkFn("getIconScale")) {\n      let fn = async (rec, timestamp, options) => {\n        that.props.iconScale = await that.getFunc(\'getIconScale\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getIconScale\'), fn);\n    }\n\n    if (this.checkFn("getLabel")) {\n      let fn = async (rec, timestamp, options) => {\n        that.props.label = await that.getFunc(\'getLabel\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getLabel\'), fn);\n    }\n\n    if (this.checkFn("getLabelColor")) {\n      let fn = async (rec, timestamp, options) => {\n        that.props.labelColor = await that.getFunc(\'getLabelColor\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getLabelColor\'), fn);\n    }\n\n    if (this.checkFn("getLabelSize")) {\n      let fn = async (rec, timestamp, options) => {\n        that.props.labelSize = await that.getFunc(\'getLabelSize\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getLabelSize\'), fn);\n    }\n\n    if (this.checkFn("getZindex")) {\n      let fn = async (rec, timestamp, options) => {\n        that.props.zIndex = await that.getFunc(\'getZindex\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getZindex\'), fn);\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(properties.onLeftClick) && Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertFunction */ "d"])(properties.onLeftClick)) {\n      this.props.onLeftClick = properties.onLeftClick;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(properties.onRightClick) && Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertFunction */ "d"])(properties.onRightClick)) {\n      this.props.onRightClick = properties.onRightClick;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(properties.onHover) && Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertFunction */ "d"])(properties.onHover)) {\n      this.props.onHover = properties.onHover;\n    }\n\n    this.saveState();\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__["a"] = (PointMarkerLayer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91aS9sYXllci9Qb2ludE1hcmtlckxheWVyLmpzPzhiMDUiXSwibmFtZXMiOlsiUG9pbnRNYXJrZXJMYXllciIsIkxheWVyIiwiY29uc3RydWN0b3IiLCJwcm9wZXJ0aWVzIiwidHlwZSIsInByb3BzIiwibG9jYXRpb24iLCJvcmllbnRhdGlvbiIsImhlYWRpbmciLCJpY29uIiwiaWNvbkFuY2hvciIsImljb25TaXplIiwiaWNvblNjYWxlIiwiaWNvbkNvbG9yIiwiaWNvbk9wYWNpdHkiLCJsYWJlbCIsImxhYmVsQ29sb3IiLCJsYWJlbE91dGxpbmVDb2xvciIsInVuZGVmaW5lZCIsImxhYmVsQmFja2dyb3VuZENvbG9yIiwibGFiZWxTaXplIiwibGFiZWxTY2FsZSIsImxhYmVsT2Zmc2V0Iiwiem9vbUxldmVsIiwiY29sb3IiLCJkZWZhdWx0VG9UZXJyYWluRWxldmF0aW9uIiwiekluZGV4IiwiYWxsb3dCaWxsYm9hcmRSb3RhdGlvbiIsIm9wdGlvbnMiLCJtYXJrZXJJZCIsImlzRGVmaW5lZCIsImhhc1ZhbHVlIiwiYXNzZXJ0T2JqZWN0IiwiYXNzZXJ0U3RyaW5nIiwiYXNzZXJ0QXJyYXkiLCJhc3NlcnRQb3NpdGl2ZSIsImFzc2VydE51bWJlciIsImFzc2VydEJvb2xlYW4iLCJ0aGF0IiwiY2hlY2tGbiIsImZuIiwicmVjIiwidGltZXN0YW1wIiwiZ2V0RnVuYyIsImFkZEZuIiwiZ2V0RGF0YVNvdXJjZXNJZHNCeVByb3BlcnR5IiwiZGVzY3JpcHRpb24iLCJvbkxlZnRDbGljayIsImFzc2VydEZ1bmN0aW9uIiwib25SaWdodENsaWNrIiwib25Ib3ZlciIsInNhdmVTdGF0ZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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RixHQUExQixFQUErQkMsU0FBL0IsRUFBMENkLE9BQTFDLENBQTFCO0FBQ0gsT0FGRDs7QUFHQSxXQUFLZ0IsS0FBTCxDQUFXTixJQUFJLENBQUNPLDJCQUFMLENBQWlDLFdBQWpDLENBQVgsRUFBMERMLEVBQTFEO0FBQ0g7O0FBRUQsUUFBSVYseUVBQVMsQ0FBQzNCLFVBQVUsQ0FBQzRDLFdBQVosQ0FBVCxJQUFxQ0MsOEVBQWMsQ0FBQzdDLFVBQVUsQ0FBQzRDLFdBQVosQ0FBdkQsRUFBaUY7QUFDN0UsV0FBSzFDLEtBQUwsQ0FBVzBDLFdBQVgsR0FBeUI1QyxVQUFVLENBQUM0QyxXQUFwQztBQUNIOztBQUVELFFBQUlqQix5RUFBUyxDQUFDM0IsVUFBVSxDQUFDOEMsWUFBWixDQUFULElBQXNDRCw4RUFBYyxDQUFDN0MsVUFBVSxDQUFDOEMsWUFBWixDQUF4RCxFQUFtRjtBQUMvRSxXQUFLNUMsS0FBTCxDQUFXNEMsWUFBWCxHQUEwQjlDLFVBQVUsQ0FBQzhDLFlBQXJDO0FBQ0g7O0FBRUQsUUFBSW5CLHlFQUFTLENBQUMzQixVQUFVLENBQUMrQyxPQUFaLENBQVQsSUFBaUNGLDhFQUFjLENBQUM3QyxVQUFVLENBQUMrQyxPQUFaLENBQW5ELEVBQXlFO0FBQ3JFLFdBQUs3QyxLQUFMLENBQVc2QyxPQUFYLEdBQXFCL0MsVUFBVSxDQUFDK0MsT0FBaEM7QUFDSDs7QUFFRCxTQUFLQyxTQUFMO0FBQ0g7O0FBblFnQzs7QUFzUXRCbkQseUVBQWYiLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogQkVHSU4gTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuIFRoZSBjb250ZW50cyBvZiB0aGlzIGZpbGUgYXJlIHN1YmplY3QgdG8gdGhlIE1vemlsbGEgUHVibGljIExpY2Vuc2UsIHYuIDIuMC5cbiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmVcbiBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uXG5cbiBTb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgYmFzaXMsXG4gV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlXG4gZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcmlnaHRzIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuIENvcHlyaWdodCAoQykgMjAxNS0yMDE3IE1hdGhpZXUgRGhhaW5hdXQuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbiBBdXRob3I6IE1hdGhpZXUgRGhhaW5hdXQgPG1hdGhpZXUuZGhhaW5hdXRAZ21haWwuY29tPlxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCB7XG4gICAgYXNzZXJ0QXJyYXksXG4gICAgYXNzZXJ0RnVuY3Rpb24sIGFzc2VydE51bWJlcixcbiAgICBhc3NlcnRPYmplY3QsXG4gICAgYXNzZXJ0UG9zaXRpdmUsXG4gICAgYXNzZXJ0U3RyaW5nLFxuICAgIGFzc2VydEJvb2xlYW4sXG4gICAgaGFzVmFsdWUsXG4gICAgaXNEZWZpbmVkXG59IGZyb20gXCIuLi8uLi91dGlscy9VdGlscy5qc1wiO1xuaW1wb3J0IExheWVyIGZyb20gXCIuL0xheWVyLmpzXCI7XG5cbi8qKlxuICogQGV4dGVuZHMgTGF5ZXJcbiAqIEBleGFtcGxlXG4gKlxuICogaW1wb3J0IFBvaW50TWFya2VyTGF5ZXIgZnJvbSAnY29yZS91aS9sYXllci9Qb2ludE1hcmtlckxheWVyLmpzJztcbiAqXG4gKiBsZXQgcG9pbnRNYXJrZXJMYXllciA9IG5ldyBQb2ludE1hcmtlckxheWVyKHtcbiAgICAgICAgbG9jYXRpb24gOiB7XG4gICAgICAgICAgICB4IDogMS40MjM3NjU1NyxcbiAgICAgICAgICAgIHkgOiA0My42MTc1ODYyNixcbiAgICAgICAgICAgIHogOiAxMDBcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0TG9jYXRpb24gOiB7XG4gICAgICAgICAgICBkYXRhU291cmNlSWRzIDogW2FuZHJvaWRQaG9uZUdwc0RhdGFTb3VyY2UuZ2V0SWQoKV0sXG4gICAgICAgICAgICBoYW5kbGVyIDogZnVuY3Rpb24ocmVjKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgeCA6IHJlYy5sb24sXG4gICAgICAgICAgICAgICAgICAgIHkgOiByZWMubGF0LFxuICAgICAgICAgICAgICAgICAgICB6IDogcmVjLmFsdFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldE9yaWVudGF0aW9uIDoge1xuICAgICAgICAgICAgZGF0YVNvdXJjZUlkcyA6IFthbmRyb2lkUGhvbmVPcmllbnRhdGlvbkRhdGFTb3VyY2UuZ2V0SWQoKV0sXG4gICAgICAgICAgICBoYW5kbGVyIDogZnVuY3Rpb24ocmVjKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGluZyA6IHJlYy5oZWFkaW5nXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaWNvbiA6ICdpbWFnZXMvY2FtZXJhbG9vay5wbmcnLFxuICAgICAgICBnZXRJY29uIDoge1xuICAgICAgICAgICAgZGF0YVNvdXJjZUlkczogW2FuZHJvaWRQaG9uZUdwc0RhdGFTb3VyY2UuZ2V0SWQoKV0sXG4gICAgICAgICAgICBoYW5kbGVyIDogZnVuY3Rpb24ocmVjLHRpbWVTdGFtcCxvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2ltYWdlcy9jYW1lcmFsb29rLXNlbGVjdGVkLnBuZydcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2ltYWdlcy9jYW1lcmFsb29rLnBuZyc7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICovXG5jbGFzcyBQb2ludE1hcmtlckxheWVyIGV4dGVuZHMgTGF5ZXIge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgUG9pbnRNYXJrZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyW119IHByb3BlcnRpZXMubG9jYXRpb24gLSBbeCx5LHpdXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLm9yaWVudGF0aW9uPTBdIC1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5pY29uIC1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW3Byb3BlcnRpZXMuaWNvblNjYWxlPTFdIC0gdGhlIGljb24gc2NhbGUgc2l6ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbcHJvcGVydGllcy5pY29uQ29sb3I9XCIjMDAwMDAwXCJdIC0gdGhlIGljb24gY29sb3JcbiAgICAgKiBAcGFyYW0ge051bWJlcltdfSBbcHJvcGVydGllcy5pY29uQW5jaG9yPVsxNiwxNl1dIC1cbiAgICAgKiBAcGFyYW0ge051bWJlcltdfSBbcHJvcGVydGllcy5pY29uU2l6ZT1bMTYsMTZdXSAtXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLmljb25PcGFjaXR5PTAuNzVdIC0gaWNvbiBvcGFjaXR5XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtwcm9wZXJ0aWVzLmxhYmVsPVwiXCJdIC0gdGhlIGxhYmVsIHRvIGRpc3BsYXlcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW3Byb3BlcnRpZXMubGFiZWxDb2xvcj1cIiMwMDAwMDBcIl0gLSBjb2xvclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbcHJvcGVydGllcy5sYWJlbE91dGxpbmVDb2xvcj11bmRlZmluZWRdIC0gY29sb3JcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW3Byb3BlcnRpZXMubGFiZWxCYWNrZ3JvdW5kQ29sb3I9dW5kZWZpbmVkXSAtICBjb2xvclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy5sYWJlbFNpemU9MTZdIC1cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMubGFiZWxTY2FsZT0xLjBdIC0gbGFiZWwgc2NhbGVcbiAgICAgKiBAcGFyYW0ge051bWJlcltdfSBbcHJvcGVydGllcy5sYWJlbE9mZnNldD1bMCwwXV0gLVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy56SW5kZXg9MF0gLSB6LW9yZGVyaW5nIG9mIG1hcmtlcnNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMuYWxsb3dCaWxsYm9hcmRSb3RhdGlvbj10cnVlXSAtIGFsbG93IGJpbGxib2FyZCByb3RhdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcm9wZXJ0aWVzLmdldExvY2F0aW9uXSAtXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BlcnRpZXMuZ2V0RGVzY3JpcHRpb25dIC1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcGVydGllcy5nZXRPcmllbnRhdGlvbl0gLVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcm9wZXJ0aWVzLmdldEljb25dIC1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcGVydGllcy5nZXRJY29uQ29sb3JdIC1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcGVydGllcy5nZXRJY29uU2NhbGVdIC1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcGVydGllcy5nZXRMYWJlbF0gLVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcm9wZXJ0aWVzLmdldExhYmVsQ29sb3JdIC1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcGVydGllcy5nZXRMYWJlbFNpemVdIC1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcGVydGllcy5nZXRaaW5kZXhdIC0gei1vcmRlcmluZyBvZiBtYXJrZXJzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BlcnRpZXMub25MZWZ0Q2xpY2tdIC0gdHJpZ2dlciBvbkxlZnRDbGljayBtYXJrZXIgZXZlbnRcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcGVydGllcy5vblJpZ2h0Q2xpY2tdIC0gdHJpZ2dlciBvblJpZ2h0Q2xpY2sgbWFya2VyIGV2ZW50XG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BlcnRpZXMub25Ib3Zlcl0gLSB0cmlnZ2VyIG9uSG92ZXIgbWFya2VyIGV2ZW50XG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BlcnRpZXMuZ2V0TWFya2VySWRdIC0gbWFwIGFuIGlkIHRvIGEgdW5pcXVlIG1hcmtlclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy56b29tTGV2ZWw9MTVdIC0gU2V0IHRoZSBkZWZhdWx0IHpvb20gbGV2ZWxcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtwcm9wZXJ0aWVzLmRlZmF1bHRUb1RlcnJhaW5FbGV2YXRpb249ZmFsc2VdIC0gU2V0IHRoZSBkZWZhdWx0IHRvIHRlcnJhaW4gZWxldmF0aW9uXG4gICAgICpcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0aWVzKSB7XG4gICAgICAgIHN1cGVyKHByb3BlcnRpZXMpO1xuICAgICAgICB0aGlzLnR5cGUgPSAnbWFya2VyJztcblxuICAgICAgICB0aGlzLnByb3BzLmxvY2F0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9wcy5vcmllbnRhdGlvbiA9IHtoZWFkaW5nOiAwfTtcbiAgICAgICAgdGhpcy5wcm9wcy5pY29uID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9wcy5pY29uQW5jaG9yID0gWzE2LCAxNl07XG4gICAgICAgIHRoaXMucHJvcHMuaWNvblNpemUgPSBbMTYsIDE2XTtcbiAgICAgICAgdGhpcy5wcm9wcy5pY29uU2NhbGUgPSAxLjA7XG4gICAgICAgIHRoaXMucHJvcHMuaWNvbkNvbG9yID0gXCIjMDAwMDAwXCI7XG4gICAgICAgIHRoaXMucHJvcHMuaWNvbk9wYWNpdHkgPSAwLjc1O1xuICAgICAgICB0aGlzLnByb3BzLmxhYmVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9wcy5sYWJlbENvbG9yID0gXCIjMDAwMDAwXCI7XG4gICAgICAgIHRoaXMucHJvcHMubGFiZWxPdXRsaW5lQ29sb3IgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucHJvcHMubGFiZWxCYWNrZ3JvdW5kQ29sb3IgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucHJvcHMubGFiZWxTaXplID0gMTY7XG4gICAgICAgIHRoaXMucHJvcHMubGFiZWxTY2FsZSA9IDEuMDtcbiAgICAgICAgdGhpcy5wcm9wcy5sYWJlbE9mZnNldCA9IFswLCAwXTtcbiAgICAgICAgdGhpcy5wcm9wcy56b29tTGV2ZWwgPSAxNTtcbiAgICAgICAgdGhpcy5wcm9wcy5jb2xvciA9ICcjMDAwMDAwJztcbiAgICAgICAgdGhpcy5wcm9wcy5kZWZhdWx0VG9UZXJyYWluRWxldmF0aW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMucHJvcHMuekluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5wcm9wcy5hbGxvd0JpbGxib2FyZFJvdGF0aW9uID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zID0ge307XG4gICAgICAgIHRoaXMucHJvcHMubWFya2VySWQgPSAnbWFya2VyJztcblxuICAgICAgICBpZiAoaXNEZWZpbmVkKHByb3BlcnRpZXMuZGVmYXVsdFRvVGVycmFpbkVsZXZhdGlvbikpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZGVmYXVsdFRvVGVycmFpbkVsZXZhdGlvbiA9IHByb3BlcnRpZXMuZGVmYXVsdFRvVGVycmFpbkVsZXZhdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLmxvY2F0aW9uKSkge1xuICAgICAgICAgICAgYXNzZXJ0T2JqZWN0KHByb3BlcnRpZXMubG9jYXRpb24sIFwibG9jYXRpb25cIik7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmxvY2F0aW9uID0gcHJvcGVydGllcy5sb2NhdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLm9yaWVudGF0aW9uKSkge1xuICAgICAgICAgICAgYXNzZXJ0T2JqZWN0KHByb3BlcnRpZXMub3JpZW50YXRpb24sIFwib3JpZW50YXRpb25cIik7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9yaWVudGF0aW9uID0gcHJvcGVydGllcy5vcmllbnRhdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLmljb24pKSB7XG4gICAgICAgICAgICBhc3NlcnRTdHJpbmcocHJvcGVydGllcy5pY29uLCBcImljb25cIik7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmljb24gPSBwcm9wZXJ0aWVzLmljb247XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzVmFsdWUocHJvcGVydGllcy5pY29uQW5jaG9yKSkge1xuICAgICAgICAgICAgYXNzZXJ0QXJyYXkocHJvcGVydGllcy5pY29uQW5jaG9yLCBcImljb25BbmNob3JcIik7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmljb25BbmNob3IgPSBwcm9wZXJ0aWVzLmljb25BbmNob3I7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzVmFsdWUocHJvcGVydGllcy5pY29uU2l6ZSkpIHtcbiAgICAgICAgICAgIGFzc2VydEFycmF5KHByb3BlcnRpZXMuaWNvblNpemUsIFwiaWNvblNpemVcIik7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmljb25TaXplID0gcHJvcGVydGllcy5pY29uU2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLmljb25TY2FsZSkpIHtcbiAgICAgICAgICAgIGFzc2VydFBvc2l0aXZlKHByb3BlcnRpZXMuaWNvblNjYWxlLCBcImljb25TY2FsZVwiKTtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuaWNvblNjYWxlID0gcHJvcGVydGllcy5pY29uU2NhbGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzVmFsdWUocHJvcGVydGllcy5pY29uQ29sb3IpKSB7XG4gICAgICAgICAgICBhc3NlcnRTdHJpbmcocHJvcGVydGllcy5pY29uQ29sb3IsIFwiaWNvbkNvbG9yXCIpO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5pY29uQ29sb3IgPSBwcm9wZXJ0aWVzLmljb25Db2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLmljb25PcGFjaXR5KSkge1xuICAgICAgICAgICAgYXNzZXJ0U3RyaW5nKHByb3BlcnRpZXMuaWNvbk9wYWNpdHksIFwiaWNvbk9wYWNpdHlcIik7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmljb25PcGFjaXR5ID0gcHJvcGVydGllcy5pY29uT3BhY2l0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLmxhYmVsKSkge1xuICAgICAgICAgICAgYXNzZXJ0U3RyaW5nKHByb3BlcnRpZXMubGFiZWwsIFwibGFiZWxcIik7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmxhYmVsID0gcHJvcGVydGllcy5sYWJlbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLmxhYmVsQ29sb3IpKSB7XG4gICAgICAgICAgICBhc3NlcnRTdHJpbmcocHJvcGVydGllcy5sYWJlbENvbG9yLCBcImxhYmVsQ29sb3JcIik7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmxhYmVsQ29sb3IgPSBwcm9wZXJ0aWVzLmxhYmVsQ29sb3I7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzVmFsdWUocHJvcGVydGllcy5sYWJlbE91dGxpbmVDb2xvcikpIHtcbiAgICAgICAgICAgIGFzc2VydFN0cmluZyhwcm9wZXJ0aWVzLmxhYmVsT3V0bGluZUNvbG9yLCBcImxhYmVsT3V0bGluZUNvbG9yXCIpO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5sYWJlbE91dGxpbmVDb2xvciA9IHByb3BlcnRpZXMubGFiZWxPdXRsaW5lQ29sb3I7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzVmFsdWUocHJvcGVydGllcy5sYWJlbEJhY2tncm91bmRDb2xvcikpIHtcbiAgICAgICAgICAgIGFzc2VydFN0cmluZyhwcm9wZXJ0aWVzLmxhYmVsQmFja2dyb3VuZENvbG9yLCBcImxhYmVsQmFja2dyb3VuZENvbG9yXCIpO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5sYWJlbEJhY2tncm91bmRDb2xvciA9IHByb3BlcnRpZXMubGFiZWxCYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzVmFsdWUocHJvcGVydGllcy5sYWJlbFNpemUpKSB7XG4gICAgICAgICAgICBhc3NlcnRQb3NpdGl2ZShwcm9wZXJ0aWVzLmxhYmVsU2l6ZSwgXCJsYWJlbFNpemVcIik7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmxhYmVsU2l6ZSA9IHByb3BlcnRpZXMubGFiZWxTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1ZhbHVlKHByb3BlcnRpZXMubGFiZWxTY2FsZSkpIHtcbiAgICAgICAgICAgIGFzc2VydFBvc2l0aXZlKHByb3BlcnRpZXMubGFiZWxTY2FsZSwgXCJsYWJlbFNjYWxlXCIpO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5sYWJlbFNjYWxlID0gcHJvcGVydGllcy5sYWJlbFNjYWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1ZhbHVlKHByb3BlcnRpZXMubGFiZWxPZmZzZXQpKSB7XG4gICAgICAgICAgICBhc3NlcnRBcnJheShwcm9wZXJ0aWVzLmxhYmVsT2Zmc2V0LCBcImxhYmVsT2Zmc2V0XCIpO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5sYWJlbE9mZnNldCA9IHByb3BlcnRpZXMubGFiZWxPZmZzZXQ7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLnpvb21MZXZlbCkpIHtcbiAgICAgICAgICAgIGFzc2VydFBvc2l0aXZlKHByb3BlcnRpZXMuem9vbUxldmVsLCBcInpvb21MZXZlbFwiKTtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuem9vbUxldmVsID0gcHJvcGVydGllcy56b29tTGV2ZWw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzVmFsdWUocHJvcGVydGllcy56SW5kZXgpKSB7XG4gICAgICAgICAgICBhc3NlcnROdW1iZXIocHJvcGVydGllcy56SW5kZXgsIFwiekluZGV4XCIpO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy56SW5kZXggPSBwcm9wZXJ0aWVzLnpJbmRleDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLmFsbG93QmlsbGJvYXJkUm90YXRpb24pKSB7XG4gICAgICAgICAgICBhc3NlcnRCb29sZWFuKHByb3BlcnRpZXMuYWxsb3dCaWxsYm9hcmRSb3RhdGlvbiwgXCJhbGxvd0JpbGxib2FyZFJvdGF0aW9uXCIpO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5hbGxvd0JpbGxib2FyZFJvdGF0aW9uID0gcHJvcGVydGllcy5hbGxvd0JpbGxib2FyZFJvdGF0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1ZhbHVlKHByb3BlcnRpZXMuY29sb3IpKSB7XG4gICAgICAgICAgICBhc3NlcnRTdHJpbmcocHJvcGVydGllcy5jb2xvciwgXCJjb2xvclwiKTtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuY29sb3IgPSBwcm9wZXJ0aWVzLmNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgLy8gbXVzdCBiZSBmaXJzdCB0byBhc3NpZ24gY29ycmVjdGx5IHRoZSBmaXJzdCBsb2NhdGlvbiB0byB0aGUgcmlnaHQgaWQgaWYgaXQgaXMgZGVmaW5lZFxuICAgICAgICBpZiAodGhpcy5jaGVja0ZuKFwiZ2V0TWFya2VySWRcIikpIHtcbiAgICAgICAgICAgIGxldCBmbiA9IGFzeW5jIChyZWMsIHRpbWVzdGFtcCwgb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgIHRoYXQucHJvcHMubWFya2VySWQgPSBhd2FpdCB0aGF0LmdldEZ1bmMoJ2dldE1hcmtlcklkJykocmVjLCB0aW1lc3RhbXAsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYWRkRm4odGhhdC5nZXREYXRhU291cmNlc0lkc0J5UHJvcGVydHkoJ2dldE1hcmtlcklkJyksIGZuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNoZWNrRm4oXCJnZXRMb2NhdGlvblwiKSkge1xuICAgICAgICAgICAgbGV0IGZuID0gYXN5bmMgKHJlYywgdGltZXN0YW1wLCBvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhhdC5wcm9wcy5sb2NhdGlvbiA9IGF3YWl0IHRoYXQuZ2V0RnVuYygnZ2V0TG9jYXRpb24nKShyZWMsIHRpbWVzdGFtcCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5hZGRGbih0aGF0LmdldERhdGFTb3VyY2VzSWRzQnlQcm9wZXJ0eSgnZ2V0TG9jYXRpb24nKSwgZm4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2hlY2tGbihcImdldE9yaWVudGF0aW9uXCIpKSB7XG4gICAgICAgICAgICBsZXQgZm4gPSBhc3luYyAocmVjLCB0aW1lc3RhbXAsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICB0aGF0LnByb3BzLm9yaWVudGF0aW9uID0gYXdhaXQgdGhhdC5nZXRGdW5jKCdnZXRPcmllbnRhdGlvbicpKHJlYywgdGltZXN0YW1wLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmFkZEZuKHRoYXQuZ2V0RGF0YVNvdXJjZXNJZHNCeVByb3BlcnR5KCdnZXRPcmllbnRhdGlvbicpLCBmbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jaGVja0ZuKFwiZ2V0RGVzY3JpcHRpb25cIikpIHtcbiAgICAgICAgICAgIGxldCBmbiA9IGFzeW5jIChyZWMsIHRpbWVzdGFtcCwgb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgIHRoYXQucHJvcHMuZGVzY3JpcHRpb24gPSBhd2FpdCB0aGF0LmdldEZ1bmMoJ2dldERlc2NyaXB0aW9uJykocmVjLCB0aW1lc3RhbXAsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYWRkRm4odGhhdC5nZXREYXRhU291cmNlc0lkc0J5UHJvcGVydHkoJ2dldERlc2NyaXB0aW9uJyksIGZuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNoZWNrRm4oXCJnZXRJY29uXCIpKSB7XG4gICAgICAgICAgICBsZXQgZm4gPSBhc3luYyAocmVjLCB0aW1lc3RhbXAsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICB0aGF0LnByb3BzLmljb24gPSBhd2FpdCB0aGF0LmdldEZ1bmMoJ2dldEljb24nKShyZWMsIHRpbWVzdGFtcCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5hZGRGbih0aGF0LmdldERhdGFTb3VyY2VzSWRzQnlQcm9wZXJ0eSgnZ2V0SWNvbicpLCBmbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jaGVja0ZuKFwiZ2V0SWNvbkNvbG9yXCIpKSB7XG4gICAgICAgICAgICBsZXQgZm4gPSBhc3luYyAocmVjLCB0aW1lc3RhbXAsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICB0aGF0LnByb3BzLmljb25Db2xvciA9IGF3YWl0IHRoYXQuZ2V0RnVuYygnZ2V0SWNvbkNvbG9yJykocmVjLCB0aW1lc3RhbXAsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYWRkRm4odGhhdC5nZXREYXRhU291cmNlc0lkc0J5UHJvcGVydHkoJ2dldEljb25Db2xvcicpLCBmbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jaGVja0ZuKFwiZ2V0SWNvblNjYWxlXCIpKSB7XG4gICAgICAgICAgICBsZXQgZm4gPSBhc3luYyAocmVjLCB0aW1lc3RhbXAsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICB0aGF0LnByb3BzLmljb25TY2FsZSA9IGF3YWl0IHRoYXQuZ2V0RnVuYygnZ2V0SWNvblNjYWxlJykocmVjLCB0aW1lc3RhbXAsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYWRkRm4odGhhdC5nZXREYXRhU291cmNlc0lkc0J5UHJvcGVydHkoJ2dldEljb25TY2FsZScpLCBmbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jaGVja0ZuKFwiZ2V0TGFiZWxcIikpIHtcbiAgICAgICAgICAgIGxldCBmbiA9IGFzeW5jIChyZWMsIHRpbWVzdGFtcCwgb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgIHRoYXQucHJvcHMubGFiZWwgPSBhd2FpdCB0aGF0LmdldEZ1bmMoJ2dldExhYmVsJykocmVjLCB0aW1lc3RhbXAsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYWRkRm4odGhhdC5nZXREYXRhU291cmNlc0lkc0J5UHJvcGVydHkoJ2dldExhYmVsJyksIGZuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNoZWNrRm4oXCJnZXRMYWJlbENvbG9yXCIpKSB7XG4gICAgICAgICAgICBsZXQgZm4gPSBhc3luYyAocmVjLCB0aW1lc3RhbXAsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICB0aGF0LnByb3BzLmxhYmVsQ29sb3IgPSBhd2FpdCB0aGF0LmdldEZ1bmMoJ2dldExhYmVsQ29sb3InKShyZWMsIHRpbWVzdGFtcCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5hZGRGbih0aGF0LmdldERhdGFTb3VyY2VzSWRzQnlQcm9wZXJ0eSgnZ2V0TGFiZWxDb2xvcicpLCBmbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jaGVja0ZuKFwiZ2V0TGFiZWxTaXplXCIpKSB7XG4gICAgICAgICAgICBsZXQgZm4gPSBhc3luYyAocmVjLCB0aW1lc3RhbXAsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICB0aGF0LnByb3BzLmxhYmVsU2l6ZSA9IGF3YWl0IHRoYXQuZ2V0RnVuYygnZ2V0TGFiZWxTaXplJykocmVjLCB0aW1lc3RhbXAsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYWRkRm4odGhhdC5nZXREYXRhU291cmNlc0lkc0J5UHJvcGVydHkoJ2dldExhYmVsU2l6ZScpLCBmbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jaGVja0ZuKFwiZ2V0WmluZGV4XCIpKSB7XG4gICAgICAgICAgICBsZXQgZm4gPSBhc3luYyAocmVjLCB0aW1lc3RhbXAsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICB0aGF0LnByb3BzLnpJbmRleCA9IGF3YWl0IHRoYXQuZ2V0RnVuYygnZ2V0WmluZGV4JykocmVjLCB0aW1lc3RhbXAsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYWRkRm4odGhhdC5nZXREYXRhU291cmNlc0lkc0J5UHJvcGVydHkoJ2dldFppbmRleCcpLCBmbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNEZWZpbmVkKHByb3BlcnRpZXMub25MZWZ0Q2xpY2spICYmIGFzc2VydEZ1bmN0aW9uKHByb3BlcnRpZXMub25MZWZ0Q2xpY2spKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uTGVmdENsaWNrID0gcHJvcGVydGllcy5vbkxlZnRDbGljaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0RlZmluZWQocHJvcGVydGllcy5vblJpZ2h0Q2xpY2spICYmIGFzc2VydEZ1bmN0aW9uKHByb3BlcnRpZXMub25SaWdodENsaWNrKSkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5vblJpZ2h0Q2xpY2sgPSBwcm9wZXJ0aWVzLm9uUmlnaHRDbGljaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0RlZmluZWQocHJvcGVydGllcy5vbkhvdmVyKSAmJiBhc3NlcnRGdW5jdGlvbihwcm9wZXJ0aWVzLm9uSG92ZXIpKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uSG92ZXIgPSBwcm9wZXJ0aWVzLm9uSG92ZXI7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNhdmVTdGF0ZSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9pbnRNYXJrZXJMYXllcjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///18\n')},,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _View_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(13);\n/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * @extends View\n * @example\n *\n import MjpegView from \'core/ui/view/video/MjpegView.js\';\n\n let videoView = new MjpegView({\n  container: \'container\',\n  css: \'video-h264\',\n  name: \'UAV Video\',\n  showTime: true,\n  showStats: true,\n  layers: [\n      new DataLayer({\n        dataSourceId: videoDataSource.id,\n         getFrameData: (rec) => rec.videoFrame,\n         getTimestamp: (rec) => rec.timestamp\n      })\n  ]\n});\n */\n\nclass MjpegView extends _View_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"] {\n  /**\n   * Create a View.\n   * @param {Object} [properties={}] - the properties of the view\n   * @param {string} properties.container - The div element to attach to\n   * @param {string} properties.css - The css classes to set, can be multiple if separate by spaces\n   * @param {String} properties.showTime - Display or not the time onto the view\n   * @param {String} properties.rotation - Allow to define a rotation in degree\n   *\n   */\n  constructor(properties) {\n    super({\n      supportedLayers: [\'videoData\'],\n      ...properties\n    }); // create timestamp slot\n\n    this.timestamp = null;\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__[/* isDefined */ "k"])(properties.showTime) && properties.showTime) {\n      this.timestamp = document.createElement("div");\n      this.timestamp.setAttribute("class", "video-time");\n      document.getElementById(this.divId).appendChild(this.timestamp);\n    } // creates video tag element\n\n\n    this.imgTag = document.createElement("img");\n    this.imgTag.setAttribute("class", "video-mjpeg"); // rotation option\n\n    this.rotation = 0;\n\n    if (typeof properties != "undefined" && typeof properties.rotation != "undefined") {\n      this.rotation = properties.rotation * Math.PI / 180;\n      this.canvas = document.createElement(\'canvas\');\n      this.canvas.width = 640;\n      this.canvas.height = 480;\n      var ctx = this.canvas.getContext(\'2d\');\n      ctx.translate(0, 480);\n      ctx.rotate(this.rotation);\n      document.getElementById(this.divId).appendChild(this.canvas);\n    } else {\n      // appends <img> tag to <div>\n      document.getElementById(this.divId).appendChild(this.imgTag);\n    }\n  }\n\n  async setData(dataSourceId, data) {\n    if (data.type === \'videoData\') {\n      const values = data.values;\n\n      for (let i = 0; i < values.length; i++) {\n        this.updateVideo(values[i]);\n      }\n    }\n  }\n\n  updateVideo(props) {\n    let imgBlob = new Blob([props.frameData.data]);\n    let url = window.URL.createObjectURL(imgBlob);\n    let oldBlobURL = this.imgTag.src;\n    this.imgTag.src = url;\n\n    if (this.timestamp !== null) {\n      this.timestamp.innerHTML = new Date(props.timestamp).toISOString();\n    }\n\n    window.URL.revokeObjectURL(oldBlobURL);\n  }\n\n  selectDataView(dataSourceIds, entityId) {\n    if (dataSourceIds.indexOf(this.dataSourceId) > -1 || Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__[/* isDefined */ "k"])(this.entity) && this.entity.getId() === entityId) {\n      document.getElementById(this.divId).setAttribute("class", this.css + " " + this.cssSelected);\n    } else {\n      document.getElementById(this.divId).setAttribute("class", this.css);\n    }\n  }\n\n  reset() {\n    this.imgTag.src = "";\n  }\n\n  async getCanvas() {\n    return this.canvas;\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__["a"] = (MjpegView);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91aS92aWV3L3ZpZGVvL01qcGVnVmlldy5qcz9kNmZhIl0sIm5hbWVzIjpbIk1qcGVnVmlldyIsIlZpZXciLCJjb25zdHJ1Y3RvciIsInByb3BlcnRpZXMiLCJzdXBwb3J0ZWRMYXllcnMiLCJ0aW1lc3RhbXAiLCJpc0RlZmluZWQiLCJzaG93VGltZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImdldEVsZW1lbnRCeUlkIiwiZGl2SWQiLCJhcHBlbmRDaGlsZCIsImltZ1RhZyIsInJvdGF0aW9uIiwiTWF0aCIsIlBJIiwiY2FudmFzIiwid2lkdGgiLCJoZWlnaHQiLCJjdHgiLCJnZXRDb250ZXh0IiwidHJhbnNsYXRlIiwicm90YXRlIiwic2V0RGF0YSIsImRhdGFTb3VyY2VJZCIsImRhdGEiLCJ0eXBlIiwidmFsdWVzIiwiaSIsImxlbmd0aCIsInVwZGF0ZVZpZGVvIiwicHJvcHMiLCJpbWdCbG9iIiwiQmxvYiIsImZyYW1lRGF0YSIsInVybCIsIndpbmRvdyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsIm9sZEJsb2JVUkwiLCJzcmMiLCJpbm5lckhUTUwiLCJEYXRlIiwidG9JU09TdHJpbmciLCJyZXZva2VPYmplY3RVUkwiLCJzZWxlY3REYXRhVmlldyIsImRhdGFTb3VyY2VJZHMiLCJlbnRpdHlJZCIsImluZGV4T2YiLCJlbnRpdHkiLCJnZXRJZCIsImNzcyIsImNzc1NlbGVjdGVkIiwicmVzZXQiLCJnZXRDYW52YXMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUFZNEIsR0FBN0I7QUFDQSxTQUFLNUIsTUFBTCxDQUFZNEIsR0FBWixHQUFrQkwsR0FBbEI7O0FBQ0EsUUFBSSxLQUFLaEMsU0FBTCxLQUFtQixJQUF2QixFQUE2QjtBQUN6QixXQUFLQSxTQUFMLENBQWVzQyxTQUFmLEdBQTJCLElBQUlDLElBQUosQ0FBU1gsS0FBSyxDQUFDNUIsU0FBZixFQUEwQndDLFdBQTFCLEVBQTNCO0FBQ0g7O0FBQ0RQLFVBQU0sQ0FBQ0MsR0FBUCxDQUFXTyxlQUFYLENBQTJCTCxVQUEzQjtBQUNIOztBQUVETSxnQkFBYyxDQUFDQyxhQUFELEVBQWdCQyxRQUFoQixFQUEwQjtBQUNwQyxRQUFJRCxhQUFhLENBQUNFLE9BQWQsQ0FBc0IsS0FBS3hCLFlBQTNCLElBQTJDLENBQUMsQ0FBNUMsSUFBa0RwQix5RUFBUyxDQUFDLEtBQUs2QyxNQUFOLENBQVYsSUFBNEIsS0FBS0EsTUFBTCxDQUFZQyxLQUFaLE9BQXdCSCxRQUF6RyxFQUFtSDtBQUMvR3pDLGNBQVEsQ0FBQ0csY0FBVCxDQUF3QixLQUFLQyxLQUE3QixFQUFvQ0YsWUFBcEMsQ0FBaUQsT0FBakQsRUFBMEQsS0FBSzJDLEdBQUwsR0FBVyxHQUFYLEdBQWlCLEtBQUtDLFdBQWhGO0FBQ0gsS0FGRCxNQUVPO0FBQ0g5QyxjQUFRLENBQUNHLGNBQVQsQ0FBd0IsS0FBS0MsS0FBN0IsRUFBb0NGLFlBQXBDLENBQWlELE9BQWpELEVBQTBELEtBQUsyQyxHQUEvRDtBQUNIO0FBQ0o7O0FBRURFLE9BQUssR0FBRztBQUNKLFNBQUt6QyxNQUFMLENBQVk0QixHQUFaLEdBQWtCLEVBQWxCO0FBQ0g7O0FBRWMsUUFBVGMsU0FBUyxHQUFHO0FBQ2QsV0FBTyxLQUFLdEMsTUFBWjtBQUNIOztBQWhGd0I7O0FBbUZkbEIsa0VBQWYiLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogQkVHSU4gTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuIFRoZSBjb250ZW50cyBvZiB0aGlzIGZpbGUgYXJlIHN1YmplY3QgdG8gdGhlIE1vemlsbGEgUHVibGljIExpY2Vuc2UsIHYuIDIuMC5cbiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmVcbiBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uXG5cbiBTb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgYmFzaXMsXG4gV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlXG4gZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcmlnaHRzIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuIENvcHlyaWdodCAoQykgMjAxNS0yMDIwIE1hdGhpZXUgRGhhaW5hdXQuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbiBBdXRob3I6IE1hdGhpZXUgRGhhaW5hdXQgPG1hdGhpZXUuZGhhaW5hdXRAZ21haWwuY29tPlxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCBWaWV3IGZyb20gXCIuLi9WaWV3LmpzXCI7XG5pbXBvcnQge2lzRGVmaW5lZH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL1V0aWxzLmpzXCI7XG5cbi8qKlxuICogQGV4dGVuZHMgVmlld1xuICogQGV4YW1wbGVcbiAqXG4gaW1wb3J0IE1qcGVnVmlldyBmcm9tICdjb3JlL3VpL3ZpZXcvdmlkZW8vTWpwZWdWaWV3LmpzJztcblxuIGxldCB2aWRlb1ZpZXcgPSBuZXcgTWpwZWdWaWV3KHtcbiAgY29udGFpbmVyOiAnY29udGFpbmVyJyxcbiAgY3NzOiAndmlkZW8taDI2NCcsXG4gIG5hbWU6ICdVQVYgVmlkZW8nLFxuICBzaG93VGltZTogdHJ1ZSxcbiAgc2hvd1N0YXRzOiB0cnVlLFxuICBsYXllcnM6IFtcbiAgICAgIG5ldyBEYXRhTGF5ZXIoe1xuICAgICAgICBkYXRhU291cmNlSWQ6IHZpZGVvRGF0YVNvdXJjZS5pZCxcbiAgICAgICAgIGdldEZyYW1lRGF0YTogKHJlYykgPT4gcmVjLnZpZGVvRnJhbWUsXG4gICAgICAgICBnZXRUaW1lc3RhbXA6IChyZWMpID0+IHJlYy50aW1lc3RhbXBcbiAgICAgIH0pXG4gIF1cbn0pO1xuICovXG5cbmNsYXNzIE1qcGVnVmlldyBleHRlbmRzIFZpZXcge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIFZpZXcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSAtIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSB2aWV3XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnRpZXMuY29udGFpbmVyIC0gVGhlIGRpdiBlbGVtZW50IHRvIGF0dGFjaCB0b1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0aWVzLmNzcyAtIFRoZSBjc3MgY2xhc3NlcyB0byBzZXQsIGNhbiBiZSBtdWx0aXBsZSBpZiBzZXBhcmF0ZSBieSBzcGFjZXNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5zaG93VGltZSAtIERpc3BsYXkgb3Igbm90IHRoZSB0aW1lIG9udG8gdGhlIHZpZXdcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5yb3RhdGlvbiAtIEFsbG93IHRvIGRlZmluZSBhIHJvdGF0aW9uIGluIGRlZ3JlZVxuICAgICAqXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHJvcGVydGllcykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBzdXBwb3J0ZWRMYXllcnM6IFsndmlkZW9EYXRhJ10sXG4gICAgICAgICAgICAuLi5wcm9wZXJ0aWVzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGNyZWF0ZSB0aW1lc3RhbXAgc2xvdFxuICAgICAgICB0aGlzLnRpbWVzdGFtcCA9IG51bGw7XG4gICAgICAgIGlmIChpc0RlZmluZWQocHJvcGVydGllcy5zaG93VGltZSkgJiYgcHJvcGVydGllcy5zaG93VGltZSkge1xuICAgICAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgdGhpcy50aW1lc3RhbXAuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJ2aWRlby10aW1lXCIpO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5kaXZJZCkuYXBwZW5kQ2hpbGQodGhpcy50aW1lc3RhbXApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY3JlYXRlcyB2aWRlbyB0YWcgZWxlbWVudFxuICAgICAgICB0aGlzLmltZ1RhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICAgIHRoaXMuaW1nVGFnLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwidmlkZW8tbWpwZWdcIik7XG5cbiAgICAgICAgLy8gcm90YXRpb24gb3B0aW9uXG4gICAgICAgIHRoaXMucm90YXRpb24gPSAwO1xuICAgICAgICBpZiAodHlwZW9mIChwcm9wZXJ0aWVzKSAhPSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiAocHJvcGVydGllcy5yb3RhdGlvbikgIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHByb3BlcnRpZXMucm90YXRpb24gKiBNYXRoLlBJIC8gMTgwO1xuICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gNjQwO1xuICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gNDgwO1xuICAgICAgICAgICAgdmFyIGN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICBjdHgudHJhbnNsYXRlKDAsIDQ4MCk7XG4gICAgICAgICAgICBjdHgucm90YXRlKHRoaXMucm90YXRpb24pO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5kaXZJZCkuYXBwZW5kQ2hpbGQodGhpcy5jYW52YXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gYXBwZW5kcyA8aW1nPiB0YWcgdG8gPGRpdj5cbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZGl2SWQpLmFwcGVuZENoaWxkKHRoaXMuaW1nVGFnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHNldERhdGEoZGF0YVNvdXJjZUlkLCBkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICd2aWRlb0RhdGEnKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBkYXRhLnZhbHVlcztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVWaWRlbyh2YWx1ZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlVmlkZW8ocHJvcHMpIHtcbiAgICAgICAgbGV0IGltZ0Jsb2IgPSBuZXcgQmxvYihbcHJvcHMuZnJhbWVEYXRhLmRhdGFdKTtcbiAgICAgICAgbGV0IHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGltZ0Jsb2IpO1xuXG4gICAgICAgIGxldCBvbGRCbG9iVVJMID0gdGhpcy5pbWdUYWcuc3JjO1xuICAgICAgICB0aGlzLmltZ1RhZy5zcmMgPSB1cmw7XG4gICAgICAgIGlmICh0aGlzLnRpbWVzdGFtcCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy50aW1lc3RhbXAuaW5uZXJIVE1MID0gbmV3IERhdGUocHJvcHMudGltZXN0YW1wKS50b0lTT1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKG9sZEJsb2JVUkwpO1xuICAgIH1cblxuICAgIHNlbGVjdERhdGFWaWV3KGRhdGFTb3VyY2VJZHMsIGVudGl0eUlkKSB7XG4gICAgICAgIGlmIChkYXRhU291cmNlSWRzLmluZGV4T2YodGhpcy5kYXRhU291cmNlSWQpID4gLTEgfHwgKGlzRGVmaW5lZCh0aGlzLmVudGl0eSkpICYmIHRoaXMuZW50aXR5LmdldElkKCkgPT09IGVudGl0eUlkKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmRpdklkKS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCB0aGlzLmNzcyArIFwiIFwiICsgdGhpcy5jc3NTZWxlY3RlZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmRpdklkKS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCB0aGlzLmNzcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5pbWdUYWcuc3JjID0gXCJcIjtcbiAgICB9XG5cbiAgICBhc3luYyBnZXRDYW52YXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1qcGVnVmlldztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///20\n')},,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/utils/Utils.js\nvar Utils = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/leaflet/dist/leaflet-src.js\nvar leaflet_src = __webpack_require__(1);\nvar leaflet_src_default = /*#__PURE__*/__webpack_require__.n(leaflet_src);\n\n// EXTERNAL MODULE: ./node_modules/leaflet/dist/leaflet.css\nvar leaflet = __webpack_require__(24);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/ui/view/View.js + 2 modules\nvar View = __webpack_require__(13);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/ui/view/map/MapView.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * This class is an abstract class in charge of handling common Map operations.\n * @extends View\n */\n\nclass MapView_MapView extends View["a" /* default */] {\n  constructor(properties) {\n    super(properties); // map Layer id to array of corresponding markers\n\n    this.layerIdToMarkers = {}; // map Layer id to array of corresponding polylines\n\n    this.layerIdToPolylines = {}; // map Layer id to array of corresponding polylines\n\n    this.layerIdToEllipsoids = {}; // map Layer id to array of corresponding polygons\n\n    this.layerIdToPolygon = {}; // map Layer id to array of corresponding frustums\n\n    this.layerIdToFrustum = {}; // map Layer id to array of corresponding draping\n\n    this.layerIdToDrapedImage = {};\n  }\n\n  async setData(dataSourceId, data) {\n    const values = data.values;\n\n    for (let i = 0; i < values.length; i++) {\n      const d = values[i];\n\n      if (data.type === \'marker\') {\n        this.updateMarker(d);\n      } else if (data.type === \'polyline\') {\n        this.updatePolyline(d);\n      } else if (data.type === \'drapedImage\') {\n        this.updateDrapedImage(d);\n      } else if (data.type === \'ellipse\') {\n        this.updateEllipse(d);\n      } else if (data.type === \'polygon\') {\n        this.updatePolygon(d);\n      } else if (data.type === \'coplanarPolygon\') {\n        this.updateCoPlanarPolygon(d);\n      } else if (data.type === \'frustum\') {\n        this.updateFrustum(d);\n      }\n    }\n  }\n\n  async addPolygonToLayer(props, polygon) {\n    const currentLayer = this.getLayer(props); // associate the list of markers owning by a specific marker\n\n    if (!(props.id in this.layerIdToPolygon)) {\n      this.layerIdToPolygon[props.id] = {};\n    }\n\n    this.layerIdToPolygon[props.id][props.polygonId] = polygon;\n  }\n  /**\n   * Associate a markerId to a Layer for a fast lookup\n   * @protected\n   * @param {PointMarkerLayer.props} layer - the Layer object\n   * @param {Object} markerObject - the Map marker object\n   */\n\n\n  async addMarkerToLayer(props, markerObject) {\n    const currentLayer = this.getLayer(props); // associate the list of markers owning by a specific marker\n\n    if (!(props.id in this.layerIdToMarkers)) {\n      this.layerIdToMarkers[props.id] = {};\n    }\n\n    this.layerIdToMarkers[props.id][props.markerId] = markerObject;\n  }\n  /**\n   * Associate a polylineId to a Layer for a fast lookup\n   * @protected\n   * @param {Polyline.props} layer - the Layer object\n   * @param {Object} polylineObject - the Map polyline object\n   */\n\n\n  async addPolylineToLayer(props, polylineObject) {\n    // associate the list of markers owning by a specific marker\n    if (!(props.id in this.layerIdToPolylines)) {\n      this.layerIdToPolylines[props.id] = {};\n    }\n\n    this.layerIdToPolylines[props.id][props.polylineId] = polylineObject;\n  }\n  /**\n   * Associate a ellipseId to a Layer for a fast lookup\n   * @protected\n   * @param {Ellipse.props} layer - the Layer object\n   * @param {Object} ellipseObject - the Map ellipse object\n   */\n\n\n  async addEllipseToLayer(props, ellipseObject) {\n    // associate the list of markers owning by a specific marker\n    if (!(props.id in this.layerIdToEllipsoids)) {\n      this.layerIdToEllipsoids[props.id] = {};\n    }\n\n    this.layerIdToEllipsoids[props.id][props.ellipseId] = ellipseObject;\n  }\n  /**\n   * Associate a drapedImageId to a Layer for a fast lookup\n   * @protected\n   * @param {ImageDraping.props} layer - the Layer object\n   * @param {Object} drapedImageObject - the Map drapedImage object\n   */\n\n\n  async addDrapedImageToLayer(props, drapedImageObject) {\n    // associate the list of markers owning by a specific marker\n    if (!(props.id in this.layerIdToDrapedImage)) {\n      this.layerIdToDrapedImage[props.id] = {};\n    }\n\n    this.layerIdToDrapedImage[props.id][props.drapedImageId] = drapedImageObject;\n  }\n\n  async addFrustumToLayer(props, frustum) {\n    const currentLayer = this.getLayer(props); // associate the list of markers owning by a specific marker\n\n    if (!(props.id in this.layerIdToFrustum)) {\n      this.layerIdToFrustum[props.id] = {};\n    }\n\n    this.layerIdToFrustum[props.id][props.frustumId] = frustum;\n  }\n\n  getPolygons() {\n    const array = [];\n\n    for (let id in this.layerIdToPolygon) {\n      for (let polygonId in this.layerIdToPolygon[id]) {\n        array.push(this.layerIdToPolygon[id][polygonId]);\n      }\n    }\n\n    return array;\n  }\n\n  getPolygon(props) {\n    if (!(props.id in this.layerIdToPolygon)) {\n      return null;\n    }\n\n    return this.layerIdToPolygon[props.id][props.polygonId];\n  }\n  /**\n   * Get the markerId associate to the Layer\n   * @protected\n   * @param {PointMarkerLayer.props} props - the Layer Object\n   */\n\n\n  getMarker(props) {\n    if (!(props.id in this.layerIdToMarkers)) {\n      return null;\n    }\n\n    return this.layerIdToMarkers[props.id][props.markerId];\n  }\n  /**\n   * Get all markers contained in this view\n   * @protected\n   */\n\n\n  getMarkers() {\n    const array = [];\n\n    for (let id in this.layerIdToMarkers) {\n      for (let markerId in this.layerIdToMarkers[id]) {\n        array.push(this.layerIdToMarkers[id][markerId]);\n      }\n    }\n\n    return array;\n  }\n  /**\n   * Get all polylines contained in this view\n   * @protected\n   */\n\n\n  getPolylines() {\n    const array = [];\n\n    for (let id in this.layerIdToPolylines) {\n      for (let polylineId in this.layerIdToPolylines[id]) {\n        array.push(this.layerIdToPolylines[id][polylineId]);\n      }\n    }\n\n    return array;\n  }\n  /**\n   * Get all ellpsoids contained in this view\n   * @protected\n   */\n\n\n  getEllipsoids() {\n    const array = [];\n\n    for (let id in this.layerIdToEllipsoids) {\n      for (let ellipseId in this.layerIdToEllipsoids[id]) {\n        array.push(this.layerIdToEllipsoids[id][ellipseId]);\n      }\n    }\n\n    return array;\n  }\n  /**\n   * Get the ellipse associate to the Layer\n   * @protected\n   * @param {Ellipse.props} layer - the Layer Object\n   */\n\n\n  getPolyline(props) {\n    if (!(props.id in this.layerIdToEllipsoids)) {\n      return null;\n    }\n\n    return this.layerIdToEllipsoids[props.id][props.ellipseId];\n  }\n  /**\n   * Get the ellipse associate to the Layer\n   * @protected\n   * @param {Ellipse.props} layer - the Layer Object\n   */\n\n\n  getEllipse(props) {\n    if (!(props.id in this.layerIdToEllipsoids)) {\n      return null;\n    }\n\n    return this.layerIdToEllipsoids[props.id][props.ellipseId];\n  }\n  /**\n   * Get the polyline associate to the Layer\n   * @protected\n   * @param {Polyline.props} layer - the Layer Object\n   */\n\n\n  getPolyline(props) {\n    if (!(props.id in this.layerIdToPolylines)) {\n      return null;\n    }\n\n    return this.layerIdToPolylines[props.id][props.polylineId];\n  }\n  /**\n   * Get the draped image associate to the Layer\n   * @protected\n   * @param {ImageDrapingLayer.props} layer - the Layer Object\n   */\n\n\n  getDrapedImage(props) {\n    if (!(props.id in this.layerIdToDrapedImage)) {\n      return null;\n    }\n\n    return this.layerIdToDrapedImage[props.id][props.drapedImageId];\n  }\n\n  getFrustums() {\n    const array = [];\n\n    for (let id in this.layerIdToFrustum) {\n      for (let frustumId in this.layerIdToFrustum[id]) {\n        array.push(this.layerIdToFrustum[id][frustumId]);\n      }\n    }\n\n    return array;\n  }\n\n  getFrustum(props) {\n    if (!(props.id in this.layerIdToFrustum)) {\n      return null;\n    }\n\n    return this.layerIdToFrustum[props.id][props.frustumId];\n  }\n  /**\n   * Get the Layer associated to its id\n   * @param {String} layerId - the id of the Layer\n   * @return {Layer} - the corresponding layer, null otherwise\n   */\n\n\n  getLayer(layerId) {\n    // find corresponding layer\n    for (let currentLayer of this.layers) {\n      if (currentLayer.props.id === layerId) {\n        return currentLayer;\n      }\n    }\n\n    return null;\n  }\n  /**\n   * Remove Corresponding Layer\n   * @param {Layer} layer - The layer object\n   */\n\n\n  removeAllFromLayer(layer) {\n    super.removeAllFromLayer(layer); // check for marker\n\n    this.removeMarkers(layer); // check for polylines\n\n    this.removePolylines(layer);\n    this.removeEllipsoids(layer);\n    this.removePolygons(layer);\n    this.removeFrustums(layer);\n  }\n\n  removePolygons(layer) {\n    if (Object(Utils["k" /* isDefined */])(layer.props.polygonId)) {\n      const polygonMap = this.layerIdToPolygon[layer.props.id];\n\n      if (Object(Utils["k" /* isDefined */])(polygonMap)) {\n        for (let polygonId in polygonMap) {\n          const polygon = polygonMap[polygonId];\n          this.removePolygonFromLayer(polygon);\n        }\n      } // remove markers ids from Layer map\n\n\n      delete this.layerIdToPolygon[layer.props.id];\n    }\n  }\n  /**\n   * Remove the markers corresponding to a PointMarker Layer\n   * @param {PointMarkerLayer} layer - the layer to remove the markers from\n   */\n\n\n  removeMarkers(layer) {\n    if (Object(Utils["k" /* isDefined */])(layer.props.markerId)) {\n      const markersMap = this.layerIdToMarkers[layer.props.id];\n\n      if (Object(Utils["k" /* isDefined */])(markersMap)) {\n        for (let markerId in markersMap) {\n          const marker = markersMap[markerId];\n          this.removeMarkerFromLayer(marker);\n        }\n      } // remove markers ids from Layer map\n\n\n      delete this.layerIdToMarkers[layer.props.id];\n    }\n  }\n  /**\n   * Remove the ellipsoids corresponding to a EllipseLayer Layer\n   * @param {Ellipse} ellipse - the layer to remove the ellipsoids from\n   */\n\n\n  removeEllipsoids(ellipse) {\n    if (Object(Utils["k" /* isDefined */])(ellipse.props.ellipseId)) {\n      const ellipseMap = this.layerIdToEllipsoids[ellipse.props.id];\n\n      if (Object(Utils["k" /* isDefined */])(ellipseMap)) {\n        for (let ellipseId in ellipseMap) {\n          const ellipse = ellipseMap[ellipseId];\n          this.removeEllipseFromLayer(ellipse);\n        }\n      } // remove polylines ids from Layer map\n\n\n      delete this.layerIdToEllipsoids[ellipse.props.id];\n    }\n  }\n  /**\n   * Remove the polylines corresponding to a PolylineLayer Layer\n   * @param {Polyline} polyline - the layer to remove the polylines from\n   */\n\n\n  removePolylines(polyline) {\n    if (Object(Utils["k" /* isDefined */])(polyline.props.polylineId)) {\n      const polylinesMap = this.layerIdToPolylines[polyline.props.id];\n\n      if (Object(Utils["k" /* isDefined */])(polylinesMap)) {\n        for (let polylineId in polylinesMap) {\n          const polyline = polylinesMap[polylineId];\n          this.removePolylineFromLayer(polyline);\n        }\n      } // remove polylines ids from Layer map\n\n\n      delete this.layerIdToPolylines[polyline.props.id];\n    }\n  }\n  /**\n   * Remove the drapedImage corresponding to a ImageDraping Layer\n   * @param {ImageDraping} imageDraping - the layer to remove the drapedImage from\n   */\n\n\n  removeDrapedImages(drapedImage) {\n    if (Object(Utils["k" /* isDefined */])(drapedImage.props.drapedImageId)) {\n      const drapedImageMap = this.layerIdToDrapedImage[drapedImage.props.id];\n\n      if (Object(Utils["k" /* isDefined */])(drapedImageMap)) {\n        for (let drapedImageId in drapedImageMap) {\n          const drapedImage = drapedImageMap[drapedImageId];\n          this.removeDrapedImageFromLayer(drapedImage);\n        }\n      } // remove drapedImage ids from Layer map\n\n\n      delete this.layerIdToDrapedImage[drapedImage.props.id];\n    }\n  }\n  /**\n   * Remove the frustums corresponding to a Frustum Layer\n   * @param {FrustumLayer} polyline - the layer to remove the Frustum from\n   */\n\n\n  removeFrustums(layer) {\n    if (Object(Utils["k" /* isDefined */])(layer.props.frustumId)) {\n      const frustumMap = this.layerIdToFrustum[layer.props.id];\n\n      if (Object(Utils["k" /* isDefined */])(frustumMap)) {\n        for (let frustumId in frustumMap) {\n          const frustum = frustumMap[frustumId];\n          this.removeFrustumFromLayer(frustum);\n        }\n      } // remove markers ids from Layer map\n\n\n      delete this.layerIdToFrustum[layer.props.id];\n    }\n  }\n  /**\n   * Abstract method to remove a marker from its corresponding layer.\n   * This is library dependant.\n   * @protected\n   * @param {Object} marker - The Map marker object\n   */\n\n\n  removeMarkerFromLayer(marker) {}\n  /**\n   * Abstract method to remove a polyline from its corresponding layer.\n   * This is library dependant.\n   * @protected\n   * @param {Object} polyline - The Map polyline object\n   */\n\n\n  removePolylineFromLayer(polyline) {}\n  /**\n   * Abstract method to remove a draped image from its corresponding layer.\n   * This is library dependant.\n   * @protected\n   * @param {Object} drapedImage - The Map drapedImage object\n   */\n\n\n  removeDrapedImageFromLayer(drapedImage) {}\n  /**\n   * Abstract method to remove a polygon from its corresponding layer.\n   * This is library dependant.\n   * @protected\n   * @param {Object} polygon - The Map polygon object\n   */\n\n\n  removePolygonFromLayer(marker) {}\n  /**\n   * Method to call onLeftClick Layer method if exists\n   * @param {String} markerId - the Layer markerId\n   * @param {Object} markerObject - the View marker object\n   * @param {PointMarkerLayer} layer - the Layer object\n   * @param {Object} event - the original Map View event\n   */\n\n\n  onMarkerLeftClick(markerId, markerObject, layer, event) {\n    if (Object(Utils["k" /* isDefined */])(layer.onLeftClick)) {\n      layer.onLeftClick.call(layer, markerId, markerObject, event);\n    }\n  }\n  /**\n   * Method to call onRightClick Layer method if exists\n   * @param {String} markerId - the Layer markerId\n   * @param {Object} markerObject - the View marker object\n   * @param {PointMarkerLayer} layer - the Layer object\n   * @param {Object} event - the original Map View event\n   */\n\n\n  onMarkerRightClick(markerId, markerObject, layer, event) {\n    if (Object(Utils["k" /* isDefined */])(layer.onRightClick)) {\n      layer.onRightClick.call(layer, markerId, markerObject, event);\n    }\n  }\n  /**\n   * Method to call onMove Layer method if exists\n   * @param {String} markerId - the Layer markerId\n   * @param {Object} markerObject - the View marker object\n   * @param {PointMarkerLayer} layer - the Layer object\n   * @param {Object} event - the original Map View event\n   */\n\n\n  onMarkerMove(markerId, markerObject, layer, event) {\n    if (Object(Utils["k" /* isDefined */])(layer.onMove)) {\n      layer.onMove.call(layer, markerId, markerObject, event);\n    }\n  }\n  /**\n   * Method to call onHover Layer method if exists\n   * @param {String} markerId - the Layer markerId\n   * @param {Object} markerObject - the View marker object\n   * @param {PointMarkerLayer} layer - the Layer object\n   * @param {Object} event - the original Map View event\n   */\n\n\n  onMarkerHover(markerId, markerObject, layer, event) {\n    if (Object(Utils["k" /* isDefined */])(layer.onHover)) {\n      layer.onHover.call(layer, markerId, markerObject, event);\n    }\n  }\n  /**\n   * Gets the the Layer id from  a concatenated id\n   * @param {String} id - the concatenated such as layerId$markerId\n   * @return {null|String} the Layer id\n   */\n\n\n  getLayerId(id) {\n    const split = id.split(\'$\');\n\n    if (Object(Utils["k" /* isDefined */])(split) && split.length === 2) {\n      return split[0];\n    }\n\n    return null;\n  }\n  /**\n   * Gets the the Marker id from  a concatenated id\n   * @param {String} id - the concatenated such as layerId$markerId\n   * @return {null|String} the marker id\n   */\n\n\n  getMarkerId(id) {\n    if (!Object(Utils["k" /* isDefined */])(id)) {\n      return null;\n    }\n\n    const split = id.split(\'$\');\n\n    if (Object(Utils["k" /* isDefined */])(split) && split.length === 2) {\n      return split[1];\n    }\n\n    return null;\n  }\n\n  async updateMarker() {}\n\n  async updatePolyline() {}\n\n  async updatePolygon() {}\n\n  async updateEllipse() {}\n\n  async updateCoPlanarPolygon() {}\n\n  async updateDrapedImage() {}\n\n}\n\n/* harmony default export */ var map_MapView = (MapView_MapView);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/ui/view/map/LeafletView.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n\n\n/**\n * This class is in charge of displaying GPS/orientation data by adding a marker to the Leaflet Map object.\n * @extends MapView\n * @example\n\n import LeafletView from \'core/ui/view/map/LeafletView.js\';\n\n let leafletMapView = new LeafletView({\n\tcontainer: \'leafletMap\',\n\tlayers: [\n\t  new PointMarkerLayer({\n      dataSourceId: gpsDataSource.id,\n      getLocation: (rec) => ({\n        x: rec.location.lon,\n        y: rec.location.lat,\n        z: rec.location.alt\n      }),\n      icon: \'./images/car-location.png\',\n      iconSize: [32, 64],\n      iconAnchor: [16, 65],\n      name: \'Car\',\n      description: \'GPS car Toulouse\'\n    })\n  ],\n\tautoZoomOnFirstMarker: true\n});\n */\n\nclass LeafletView_LeafletView extends map_MapView {\n  /**\n   * Create a View.\n   * @param {Object} [properties={}] - the properties of the view\n   * @param {String} properties.container - The div element to attach to\n   * @param {Object[]}  [properties.layers=[]] - The initial layers to add\n   * @param {Boolean} [properties.autoZoomOnFirstMarker=false] - auto zoom on the first added marker\n   * @param {Boolean} [properties.follow=false] - follow the marker\n   * @param {Object} [properties.initialView] - Sets the view of the map (geographical center and zoom) with the given animation options. [See details]{@link https://leafletjs.com/reference-1.7.1.html#map-setview}\n   * @param {Object[]} [properties.overlayLayers] - [L.tileLayer]{@link https://leafletjs.com/reference-1.7.1.html#tilelayer-l-tilelayer} objects to use as overlay layer\n   * @param {Object[]} [properties.baseLayers] - [L.tileLayer]{@link https://leafletjs.com/reference-1.7.1.html#tilelayer-l-tilelayer} objects to use as base layer\n   *\n   */\n  constructor(properties) {\n    super({\n      supportedLayers: [\'marker\', \'draping\', \'polyline\', \'polygon\'],\n      ...properties\n    });\n    let cssClass = document.getElementById(this.divId).className;\n    document.getElementById(this.divId).setAttribute("class", cssClass + " " + this.css);\n  }\n\n  beforeAddingItems(options) {\n    // inits the map\n    this.initMap(options);\n  } //---------- MAP SETUP --------------//\n\n  /**\n   *\n   * @private\n   */\n\n\n  initMap(options) {\n    // #region snippet_leafletview_initial_view\n    let initialView = {\n      location: new leaflet_src_default.a.LatLng(0, 0),\n      zoom: 3\n    }; // #endregion snippet_leafletview_initial_view\n\n    this.first = true;\n    this.follow = false;\n    this.autoZoomOnFirstMarker = false;\n    let defaultLayers = this.getDefaultLayers();\n    let defaultLayer = defaultLayers[0].layer;\n    let baseLayers = {};\n    let overlays = {};\n    baseLayers[defaultLayers[0].name] = defaultLayers[0].layer;\n    overlays[defaultLayers[1].name] = defaultLayers[1].layer;\n\n    if (Object(Utils["k" /* isDefined */])(options)) {\n      if (Object(Utils["k" /* isDefined */])(options.initialView)) {\n        initialView = {\n          location: new leaflet_src_default.a.LatLng(options.initialView.lat, options.initialView.lon),\n          zoom: options.initialView.zoom\n        };\n      } // checks autoZoom\n\n\n      if (Object(Utils["k" /* isDefined */])(options.autoZoomOnFirstMarker)) {\n        this.autoZoomOnFirstMarker = options.autoZoomOnFirstMarker;\n      } // checks overlayers\n\n\n      if (Object(Utils["k" /* isDefined */])(options.overlayLayers)) {\n        overlays = options.overlayLayers;\n      } // checks baseLayer\n\n\n      if (Object(Utils["k" /* isDefined */])(options.baseLayers)) {\n        baseLayers = options.baseLayers;\n      }\n\n      if (Object(Utils["k" /* isDefined */])(options.follow)) {\n        this.follow = options.follow;\n      } // checks defaultLayer\n\n\n      if (Object(Utils["k" /* isDefined */])(options.defaultLayer)) {\n        defaultLayer = options.defaultLayer;\n      }\n    } // sets layers to map\n\n\n    this.map = new leaflet_src_default.a.Map(this.divId, {\n      fullscreenControl: true,\n      layers: defaultLayer\n    });\n    leaflet_src_default.a.control.layers(baseLayers, overlays).addTo(this.map);\n    this.map.setView(initialView.location, initialView.zoom); //this.initLayers();\n  }\n  /**\n   * Gets the list of default layers.\n   * @return {Array}\n   */\n\n\n  getDefaultLayers(options) {\n    let maxZoom = 22;\n\n    if (Object(Utils["k" /* isDefined */])(options) && options.maxZoom) {\n      maxZoom = options.maxZoom;\n    } // copyrights\n\n\n    let mbAttr = \'Map data © <a href="http://openstreetmap.org">OpenStreetMap</a> contributors\',\n        mbUrl = \'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\';\n    let esriLink = \'<a href="http://www.esri.com/">Esri</a>\';\n    let esriWholink = \'i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community\'; // leaflet layers\n\n    let esriLayer = leaflet_src_default.a.tileLayer(\'http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\', {\n      attribution: \'&copy; \' + esriLink + \', \' + esriWholink,\n      maxZoom: maxZoom,\n      maxNativeZoom: 19\n    });\n    let streets = leaflet_src_default.a.tileLayer(mbUrl, {\n      id: \'mapbox.streets\',\n      attribution: mbAttr,\n      maxZoom: maxZoom\n    });\n    return [{\n      name: "OSM Streets",\n      layer: streets\n    }, {\n      name: "Esri Satellite",\n      layer: esriLayer\n    }];\n  }\n  /**\n   * @private\n   */\n\n\n  initLayers() {\n    // create the tile layer with correct attribution\n    let osmUrl = \'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\';\n    let osmAttrib = \'Map data © <a href="http://openstreetmap.org">OpenStreetMap</a> contributors\';\n    let osm = new leaflet_src_default.a.tileLayer(osmUrl, {\n      minZoom: 1,\n      maxZoom: 22,\n      attribution: osmAttrib\n    });\n    this.map.addLayer(osm);\n  }\n  /**\n   * Add a marker to the map.\n   * @param {PointMarkerLayer.properties} properties - the layer properties\n   * @return {Object} the the new created marker\n   */\n\n\n  addMarker(properties) {\n    Object(Utils["c" /* assertDefined */])(properties.location, \'location\'); //create marker\n\n    let marker = null;\n\n    if (properties.icon !== null) {\n      let markerIcon = leaflet_src_default.a.icon({\n        iconAnchor: properties.iconAnchor,\n        iconUrl: properties.icon,\n        iconSize: properties.iconSize\n      });\n      marker = leaflet_src_default.a.marker([properties.location.y, properties.location.x], {\n        icon: markerIcon\n      });\n    } else {\n      marker = leaflet_src_default.a.marker([properties.location.y, properties.location.x]);\n    }\n\n    if (properties.label !== null) {\n      marker.bindTooltip(properties.label, {\n        permanent: false,\n        direction: \'center\',\n        offset: leaflet_src_default.a.point(properties.labelOffset[0], properties.labelOffset[1])\n      });\n    }\n\n    let name = properties.hasOwnProperty("name") && properties.label != null ? properties.label : "";\n    let desc = properties.hasOwnProperty("description") && properties.description != null ? properties.description : "";\n\n    if (!Object(Utils["k" /* isDefined */])(properties.onLeftClick) && (name.length > 0 || desc.length > 0)) {\n      marker.bindPopup(name + \'<div>\' + desc + \'</div>\', {\n        offset: leaflet_src_default.a.point(properties.labelOffset[0], properties.labelOffset[1])\n      });\n    }\n\n    marker.setZIndexOffset(properties.zIndex);\n    marker.id = properties.id + "$" + properties.markerId;\n    marker.addTo(this.map);\n\n    if (properties.hasOwnProperty(properties.orientation)) {\n      marker.setRotationAngle(properties.orientation.heading);\n    }\n\n    return marker;\n  }\n  /**\n   * Add a polyline to the map.\n   * @param {Object} properties\n   */\n\n\n  addPolyline(properties) {\n    const locations = properties.locations[properties.polylineId];\n    let polylinePoints = [];\n\n    if (Object(Utils["k" /* isDefined */])(locations) && locations.length > 0) {\n      for (let i = 0; i < locations.length; i++) {\n        polylinePoints.push(new leaflet_src_default.a.LatLng(locations[i].y, locations[i].x));\n      }\n    } //create path\n\n\n    let polyline = new leaflet_src_default.a.Polyline(polylinePoints, {\n      color: properties.color,\n      weight: properties.weight,\n      opacity: properties.opacity,\n      smoothFactor: properties.smoothFactor\n    }).addTo(this.map);\n    return polyline;\n  }\n  /**\n   * Updates the marker associated to the layer.\n   * @param {PointMarkerLayer.props} props - The layer properties allowing the update of the marker\n   */\n\n\n  async updateMarker(props) {\n    let marker = this.getMarker(props);\n\n    if (!Object(Utils["k" /* isDefined */])(marker)) {\n      // adds a new marker to the leaflet renderer\n      marker = this.addMarker(props);\n      this.addMarkerToLayer(props, marker);\n      const mId = props.markerId; //need to freeze\n\n      marker.on(\'click\', event => this.onMarkerLeftClick(mId, marker, props, event));\n      marker.on(\'contextmenu\', event => this.onMarkerRightClick(mId, marker, props, event));\n      marker.on(\'mouseover\', event => this.onMarkerHover(mId, marker, props, event));\n    } // get the current marker corresponding to the current markerId value of the PointMarker\n    // updates position\n\n\n    let lon = props.location.x;\n    let lat = props.location.y;\n\n    if (!isNaN(lon) && !isNaN(lat)) {\n      let newLatLng = new leaflet_src_default.a.LatLng(lat, lon);\n      marker.setLatLng(newLatLng);\n\n      if (this.first && this.autoZoomOnFirstMarker || this.follow) {\n        const markerBounds = leaflet_src_default.a.latLngBounds([newLatLng]);\n        this.map.fitBounds(markerBounds, {\n          maxZoom: props.zoomLevel\n        });\n\n        if (this.first) {\n          this.first = false;\n        }\n      }\n    } // updates orientation\n\n\n    if (Object(Utils["k" /* isDefined */])(props.orientation)) {\n      marker.setRotationAngle(props.orientation.heading);\n    }\n\n    if (props.icon !== null && marker._icon.iconUrl !== props.icon) {\n      // updates icon\n      let markerIcon = leaflet_src_default.a.icon({\n        iconAnchor: props.iconAnchor,\n        iconUrl: props.icon\n      });\n      marker.setIcon(markerIcon);\n    }\n\n    marker.setZIndexOffset(props.zIndex);\n  }\n  /**\n   * Abstract method to remove a marker from its corresponding layer.\n   * This is library dependant.\n   * @param {Object} marker - The Map marker object\n   */\n\n\n  removeMarkerFromLayer(marker) {\n    this.map.removeLayer(marker);\n  }\n  /**\n   * Abstract method to remove a polyline from its corresponding layer.\n   * This is library dependant.\n   * @param {Object} polyline - The Map polyline object\n   */\n\n\n  removePolylineFromLayer(polyline) {\n    this.map.removeLayer(polyline);\n  }\n  /**\n   * Updates the polyline associated to the layer.\n   * @param {PolylineLayer.props} props - The layer properties allowing the update of the polyline\n   */\n\n\n  async updatePolyline(props) {\n    let polyline = this.getPolyline(props);\n\n    if (!Object(Utils["k" /* isDefined */])(polyline)) {\n      // adds a new polygon to the leaflet renderer\n      const polylineObj = this.addPolyline(props);\n      this.addPolylineToLayer(props, polylineObj);\n    } else {\n      let polylinePoints = [];\n      const locations = props.locations[props.polylineId];\n\n      if (Object(Utils["k" /* isDefined */])(locations) && locations.length > 0) {\n        for (let i = 0; i < locations.length; i++) {\n          polylinePoints.push(new leaflet_src_default.a.LatLng(locations[i].y, locations[i].x));\n        }\n      }\n\n      polyline.setLatLngs(polylinePoints); // update style\n\n      polyline.setStyle({\n        color: props.color,\n        weight: props.weight,\n        opacity: props.opacity\n      });\n    }\n  }\n  /**\n   * Updates the polygon associated to the layer.\n   * @param {Polygon.props} props - The layer properties allowing the update of the polygon\n   */\n\n\n  async updatePolygon(props) {\n    let polygon = this.getPolygon(props);\n\n    if (!Object(Utils["k" /* isDefined */])(polygon)) {\n      // adds a new polygon to the leaflet renderer\n      const polygonObj = this.addPolygon(props);\n      this.addPolygonToLayer(props, polygonObj);\n    } else {\n      // update location\n      const vertices = props.vertices[props.polygonId];\n      let polygonPoints = [];\n\n      if (Object(Utils["k" /* isDefined */])(vertices) && vertices.length > 0) {\n        for (let i = 0; i < vertices.length - 1; i = i + 2) {\n          let latLon = new leaflet_src_default.a.LatLng(vertices[i + 1], vertices[i]);\n          polygonPoints.push([latLon.lat, latLon.lng]);\n        }\n      }\n\n      polygon.setLatLngs(polygonPoints); // update style\n\n      polygon.setStyle({\n        color: props.outlineColor,\n        weight: props.outlineWidth,\n        fillColor: props.color,\n        fill: true,\n        fillOpacity: props.opacity\n      });\n    }\n  }\n  /**\n   * Abstract method to remove a polygon from its corresponding layer.\n   * This is library dependant.\n   * @param {Object} polygon - The Map polygon object\n   */\n\n\n  removePolygonFromLayer(polygon) {\n    this.map.removeLayer(polygon);\n  }\n  /**\n   * Add a polygon to the map.\n   * @param {Object} properties\n   */\n\n\n  addPolygon(properties) {\n    const vertices = properties.vertices[properties.polygonId];\n    let polygonPoints = [];\n\n    if (Object(Utils["k" /* isDefined */])(vertices) && vertices.length > 0) {\n      for (let i = 0; i < vertices.length - 1; i = i + 2) {\n        let latLon = new leaflet_src_default.a.LatLng(vertices[i + 1], vertices[i]);\n        polygonPoints.push([latLon.lat, latLon.lng]);\n      }\n    } //create polygon\n\n\n    let polygon = new leaflet_src_default.a.polygon(polygonPoints, {\n      color: properties.outlineColor,\n      weight: properties.outlineWidth,\n      fillColor: properties.color,\n      fill: true,\n      fillOpacity: properties.opacity\n    }).addTo(this.map);\n    return polygon;\n  }\n\n  attachTo(parentElement) {\n    super.attachTo(parentElement); // Fix leaflet bug when resizing the div parent container\n\n    this.map.invalidateSize();\n  }\n\n  onResize() {\n    super.onResize();\n    let that = this;\n    setTimeout(function () {\n      that.map.invalidateSize();\n    }, 100);\n  }\n\n  onChange(data) {}\n\n}\n/***  little hack starts here ***/\n\n\nleaflet_src_default.a.Map = leaflet_src_default.a.Map.extend({\n  openPopup: function (popup) {\n    this._popup = popup;\n    return this.addLayer(popup).fire(\'popupopen\', {\n      popup: this._popup\n    });\n  }\n}); // Defines rotated marker\n\n(function () {\n  // save these original methods before they are overwritten\n  let proto_initIcon = leaflet_src_default.a.Marker.prototype._initIcon;\n  let proto_setPos = leaflet_src_default.a.Marker.prototype._setPos;\n  let oldIE = leaflet_src_default.a.DomUtil.TRANSFORM === \'msTransform\';\n  leaflet_src_default.a.Marker.addInitHook(function () {\n    let iconAnchor = this.options.icon.options.iconAnchor;\n\n    if (iconAnchor) {\n      iconAnchor = iconAnchor[0] + \'px \' + iconAnchor[1] + \'px\';\n    }\n\n    this.options.rotationOrigin = this.options.rotationOrigin || iconAnchor || \'center bottom\';\n    this.options.rotationAngle = this.options.rotationAngle || 0;\n  });\n  leaflet_src_default.a.Marker.include({\n    _initIcon: function () {\n      proto_initIcon.call(this);\n    },\n    _setPos: function (pos) {\n      proto_setPos.call(this, pos);\n\n      if (this.options.rotationAngle) {\n        this._icon.style[leaflet_src_default.a.DomUtil.TRANSFORM + \'Origin\'] = this.options.rotationOrigin;\n\n        if (oldIE) {\n          // for IE 9, use the 2D rotation\n          this._icon.style[leaflet_src_default.a.DomUtil.TRANSFORM] = \' rotate(\' + this.options.rotationAngle + \'deg)\';\n        } else {\n          // for modern browsers, prefer the 3D accelerated version\n          this._icon.style[leaflet_src_default.a.DomUtil.TRANSFORM] += \' rotateZ(\' + this.options.rotationAngle + \'deg)\';\n        }\n      }\n    },\n    setRotationAngle: function (angle) {\n      this.options.rotationAngle = angle;\n      this.update();\n      return this;\n    },\n    setRotationOrigin: function (origin) {\n      this.options.rotationOrigin = origin;\n      this.update();\n      return this;\n    }\n  });\n})();\n/***  end of hack ***/\n\n\n/* harmony default export */ var map_LeafletView = __webpack_exports__["a"] = (LeafletView_LeafletView);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91aS92aWV3L21hcC9NYXBWaWV3LmpzPzA1ZDciLCJ3ZWJwYWNrOi8vLy9ob21lL25ldnJvL1Byb2dzL3Byb2dzLWxvY2FsL2dpdC1yZXBvL09TSC9vc2gtanMvc291cmNlL2NvcmUvdWkvdmlldy9tYXAvTGVhZmxldFZpZXcuanM/NWMzMCJdLCJuYW1lcyI6WyJNYXBWaWV3IiwiVmlldyIsImNvbnN0cnVjdG9yIiwicHJvcGVydGllcyIsImxheWVySWRUb01hcmtlcnMiLCJsYXllcklkVG9Qb2x5bGluZXMiLCJsYXllcklkVG9FbGxpcHNvaWRzIiwibGF5ZXJJZFRvUG9seWdvbiIsImxheWVySWRUb0ZydXN0dW0iLCJsYXllcklkVG9EcmFwZWRJbWFnZSIsInNldERhdGEiLCJkYXRhU291cmNlSWQiLCJkYXRhIiwidmFsdWVzIiwiaSIsImxlbmd0aCIsImQiLCJ0eXBlIiwidXBkYXRlTWFya2VyIiwidXBkYXRlUG9seWxpbmUiLCJ1cGRhdGVEcmFwZWRJbWFnZSIsInVwZGF0ZUVsbGlwc2UiLCJ1cGRhdGVQb2x5Z29uIiwidXBkYXRlQ29QbGFuYXJQb2x5Z29uIiwidXBkYXRlRnJ1c3R1bSIsImFkZFBvbHlnb25Ub0xheWVyIiwicHJvcHMiLCJwb2x5Z29uIiwiY3VycmVudExheWVyIiwiZ2V0TGF5ZXIiLCJpZCIsInBvbHlnb25JZCIsImFkZE1hcmtlclRvTGF5ZXIiLCJtYXJrZXJPYmplY3QiLCJtYXJrZXJJZCIsImFkZFBvbHlsaW5lVG9MYXllciIsInBvbHlsaW5lT2JqZWN0IiwicG9seWxpbmVJZCIsImFkZEVsbGlwc2VUb0xheWVyIiwiZWxsaXBzZU9iamVjdCIsImVsbGlwc2VJZCIsImFkZERyYXBlZEltYWdlVG9MYXllciIsImRyYXBlZEltYWdlT2JqZWN0IiwiZHJhcGVkSW1hZ2VJZCIsImFkZEZydXN0dW1Ub0xheWVyIiwiZnJ1c3R1bSIsImZydXN0dW1JZCIsImdldFBvbHlnb25zIiwiYXJyYXkiLCJwdXNoIiwiZ2V0UG9seWdvbiIsImdldE1hcmtlciIsImdldE1hcmtlcnMiLCJnZXRQb2x5bGluZXMiLCJnZXRFbGxpcHNvaWRzIiwiZ2V0UG9seWxpbmUiLCJnZXRFbGxpcHNlIiwiZ2V0RHJhcGVkSW1hZ2UiLCJnZXRGcnVzdHVtcyIsImdldEZydXN0dW0iLCJsYXllcklkIiwibGF5ZXJzIiwicmVtb3ZlQWxsRnJvbUxheWVyIiwibGF5ZXIiLCJyZW1vdmVNYXJrZXJzIiwicmVtb3ZlUG9seWxpbmVzIiwicmVtb3ZlRWxsaXBzb2lkcyIsInJlbW92ZVBvbHlnb25zIiwicmVtb3ZlRnJ1c3R1bXMiLCJpc0RlZmluZWQiLCJwb2x5Z29uTWFwIiwicmVtb3ZlUG9seWdvbkZyb21MYXllciIsIm1hcmtlcnNNYXAiLCJtYXJrZXIiLCJyZW1vdmVNYXJrZXJGcm9tTGF5ZXIiLCJlbGxpcHNlIiwiZWxsaXBzZU1hcCIsInJlbW92ZUVsbGlwc2VGcm9tTGF5ZXIiLCJwb2x5bGluZSIsInBvbHlsaW5lc01hcCIsInJlbW92ZVBvbHlsaW5lRnJvbUxheWVyIiwicmVtb3ZlRHJhcGVkSW1hZ2VzIiwiZHJhcGVkSW1hZ2UiLCJkcmFwZWRJbWFnZU1hcCIsInJlbW92ZURyYXBlZEltYWdlRnJvbUxheWVyIiwiZnJ1c3R1bU1hcCIsInJlbW92ZUZydXN0dW1Gcm9tTGF5ZXIiLCJvbk1hcmtlckxlZnRDbGljayIsImV2ZW50Iiwib25MZWZ0Q2xpY2siLCJjYWxsIiwib25NYXJrZXJSaWdodENsaWNrIiwib25SaWdodENsaWNrIiwib25NYXJrZXJNb3ZlIiwib25Nb3ZlIiwib25NYXJrZXJIb3ZlciIsIm9uSG92ZXIiLCJnZXRMYXllcklkIiwic3BsaXQiLCJnZXRNYXJrZXJJZCIsIkxlYWZsZXRWaWV3Iiwic3VwcG9ydGVkTGF5ZXJzIiwiY3NzQ2xhc3MiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZGl2SWQiLCJjbGFzc05hbWUiLCJzZXRBdHRyaWJ1dGUiLCJjc3MiLCJiZWZvcmVBZGRpbmdJdGVtcyIsIm9wdGlvbnMiLCJpbml0TWFwIiwiaW5pdGlhbFZpZXciLCJsb2NhdGlvbiIsIkwiLCJMYXRMbmciLCJ6b29tIiwiZmlyc3QiLCJmb2xsb3ciLCJhdXRvWm9vbU9uRmlyc3RNYXJrZXIiLCJkZWZhdWx0TGF5ZXJzIiwiZ2V0RGVmYXVsdExheWVycyIsImRlZmF1bHRMYXllciIsImJhc2VMYXllcnMiLCJvdmVybGF5cyIsIm5hbWUiLCJsYXQiLCJsb24iLCJvdmVybGF5TGF5ZXJzIiwibWFwIiwiTWFwIiwiZnVsbHNjcmVlbkNvbnRyb2wiLCJjb250cm9sIiwiYWRkVG8iLCJzZXRWaWV3IiwibWF4Wm9vbSIsIm1iQXR0ciIsIm1iVXJsIiwiZXNyaUxpbmsiLCJlc3JpV2hvbGluayIsImVzcmlMYXllciIsInRpbGVMYXllciIsImF0dHJpYnV0aW9uIiwibWF4TmF0aXZlWm9vbSIsInN0cmVldHMiLCJpbml0TGF5ZXJzIiwib3NtVXJsIiwib3NtQXR0cmliIiwib3NtIiwibWluWm9vbSIsImFkZExheWVyIiwiYWRkTWFya2VyIiwiYXNzZXJ0RGVmaW5lZCIsImljb24iLCJtYXJrZXJJY29uIiwiaWNvbkFuY2hvciIsImljb25VcmwiLCJpY29uU2l6ZSIsInkiLCJ4IiwibGFiZWwiLCJiaW5kVG9vbHRpcCIsInBlcm1hbmVudCIsImRpcmVjdGlvbiIsIm9mZnNldCIsInBvaW50IiwibGFiZWxPZmZzZXQiLCJoYXNPd25Qcm9wZXJ0eSIsImRlc2MiLCJkZXNjcmlwdGlvbiIsImJpbmRQb3B1cCIsInNldFpJbmRleE9mZnNldCIsInpJbmRleCIsIm9yaWVudGF0aW9uIiwic2V0Um90YXRpb25BbmdsZSIsImhlYWRpbmciLCJhZGRQb2x5bGluZSIsImxvY2F0aW9ucyIsInBvbHlsaW5lUG9pbnRzIiwiUG9seWxpbmUiLCJjb2xvciIsIndlaWdodCIsIm9wYWNpdHkiLCJzbW9vdGhGYWN0b3IiLCJtSWQiLCJvbiIsImlzTmFOIiwibmV3TGF0TG5nIiwic2V0TGF0TG5nIiwibWFya2VyQm91bmRzIiwibGF0TG5nQm91bmRzIiwiZml0Qm91bmRzIiwiem9vbUxldmVsIiwiX2ljb24iLCJzZXRJY29uIiwicmVtb3ZlTGF5ZXIiLCJwb2x5bGluZU9iaiIsInNldExhdExuZ3MiLCJzZXRTdHlsZSIsInBvbHlnb25PYmoiLCJhZGRQb2x5Z29uIiwidmVydGljZXMiLCJwb2x5Z29uUG9pbnRzIiwibGF0TG9uIiwibG5nIiwib3V0bGluZUNvbG9yIiwib3V0bGluZVdpZHRoIiwiZmlsbENvbG9yIiwiZmlsbCIsImZpbGxPcGFjaXR5IiwiYXR0YWNoVG8iLCJwYXJlbnRFbGVtZW50IiwiaW52YWxpZGF0ZVNpemUiLCJvblJlc2l6ZSIsInRoYXQiLCJzZXRUaW1lb3V0Iiwib25DaGFuZ2UiLCJleHRlbmQiLCJvcGVuUG9wdXAiLCJwb3B1cCIsIl9wb3B1cCIsImZpcmUiLCJwcm90b19pbml0SWNvbiIsIk1hcmtlciIsInByb3RvdHlwZSIsIl9pbml0SWNvbiIsInByb3RvX3NldFBvcyIsIl9zZXRQb3MiLCJvbGRJRSIsIkRvbVV0aWwiLCJUUkFOU0ZPUk0iLCJhZGRJbml0SG9vayIsInJvdGF0aW9uT3JpZ2luIiwicm90YXRpb25BbmdsZSIsImluY2x1ZGUiLCJwb3MiLCJzdHlsZSIsImFuZ2xlIiwidXBkYXRlIiwic2V0Um90YXRpb25PcmlnaW4iLCJvcmlnaW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxNQUFNQSxlQUFOLFNBQXNCQyx1QkFBdEIsQ0FBMkI7QUFDdkJDLGFBQVcsQ0FBQ0MsVUFBRCxFQUFhO0FBQ3BCLFVBQU1BLFVBQU4sRUFEb0IsQ0FHcEI7O0FBQ0EsU0FBS0MsZ0JBQUwsR0FBd0IsRUFBeEIsQ0FKb0IsQ0FN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R0FBakI7QUFpQ0gsQ0FqREQ7QUFvREE7OztBQUVnQjFJLHNHQUFoQiIsImZpbGUiOiIyMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSwgdi4gMi4wLlxuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZVxuIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cblxuIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcyxcbiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2VcbiBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyByaWdodHMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4gQ29weXJpZ2h0IChDKSAyMDE1LTIwMjAgTWF0aGlldSBEaGFpbmF1dC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuIEF1dGhvcjogTWF0aGlldSBEaGFpbmF1dCA8bWF0aGlldS5kaGFpbmF1dEBnbWFpbC5jb20+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IFZpZXcgZnJvbSBcIi4uL1ZpZXdcIjtcbmltcG9ydCB7aXNEZWZpbmVkfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvVXRpbHNcIjtcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGlzIGFuIGFic3RyYWN0IGNsYXNzIGluIGNoYXJnZSBvZiBoYW5kbGluZyBjb21tb24gTWFwIG9wZXJhdGlvbnMuXG4gKiBAZXh0ZW5kcyBWaWV3XG4gKi9cbmNsYXNzIE1hcFZpZXcgZXh0ZW5kcyBWaWV3IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0aWVzKSB7XG4gICAgICAgIHN1cGVyKHByb3BlcnRpZXMpO1xuXG4gICAgICAgIC8vIG1hcCBMYXllciBpZCB0byBhcnJheSBvZiBjb3JyZXNwb25kaW5nIG1hcmtlcnNcbiAgICAgICAgdGhpcy5sYXllcklkVG9NYXJrZXJzID0ge307XG5cbiAgICAgICAgLy8gbWFwIExheWVyIGlkIHRvIGFycmF5IG9mIGNvcnJlc3BvbmRpbmcgcG9seWxpbmVzXG4gICAgICAgIHRoaXMubGF5ZXJJZFRvUG9seWxpbmVzPSB7fTtcblxuICAgICAgICAvLyBtYXAgTGF5ZXIgaWQgdG8gYXJyYXkgb2YgY29ycmVzcG9uZGluZyBwb2x5bGluZXNcbiAgICAgICAgdGhpcy5sYXllcklkVG9FbGxpcHNvaWRzPSB7fTtcblxuICAgICAgICAvLyBtYXAgTGF5ZXIgaWQgdG8gYXJyYXkgb2YgY29ycmVzcG9uZGluZyBwb2x5Z29uc1xuICAgICAgICB0aGlzLmxheWVySWRUb1BvbHlnb249IHt9O1xuXG4gICAgICAgIC8vIG1hcCBMYXllciBpZCB0byBhcnJheSBvZiBjb3JyZXNwb25kaW5nIGZydXN0dW1zXG4gICAgICAgIHRoaXMubGF5ZXJJZFRvRnJ1c3R1bT0ge307XG5cbiAgICAgICAgLy8gbWFwIExheWVyIGlkIHRvIGFycmF5IG9mIGNvcnJlc3BvbmRpbmcgZHJhcGluZ1xuICAgICAgICB0aGlzLmxheWVySWRUb0RyYXBlZEltYWdlPSB7fTtcbiAgICB9XG5cbiAgICBhc3luYyBzZXREYXRhKGRhdGFTb3VyY2VJZCwgZGF0YSkge1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBkYXRhLnZhbHVlcztcbiAgICAgICAgZm9yKGxldCBpPTA7aSA8IHZhbHVlcy5sZW5ndGg7aSsrKSB7XG4gICAgICAgICAgICBjb25zdCBkID0gdmFsdWVzW2ldO1xuICAgICAgICAgICAgaWYoZGF0YS50eXBlID09PSAnbWFya2VyJykge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTWFya2VyKGQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmKGRhdGEudHlwZSA9PT0gJ3BvbHlsaW5lJykge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUG9seWxpbmUoZCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYoZGF0YS50eXBlID09PSAnZHJhcGVkSW1hZ2UnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVEcmFwZWRJbWFnZShkKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZihkYXRhLnR5cGUgPT09ICdlbGxpcHNlJykge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRWxsaXBzZShkKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAncG9seWdvbicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBvbHlnb24oZCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ2NvcGxhbmFyUG9seWdvbicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvUGxhbmFyUG9seWdvbihkKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZihkYXRhLnR5cGUgPT09ICdmcnVzdHVtJykge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRnJ1c3R1bShkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGFkZFBvbHlnb25Ub0xheWVyKHByb3BzLCBwb2x5Z29uKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRMYXllciA9IHRoaXMuZ2V0TGF5ZXIocHJvcHMpO1xuICAgICAgICAvLyBhc3NvY2lhdGUgdGhlIGxpc3Qgb2YgbWFya2VycyBvd25pbmcgYnkgYSBzcGVjaWZpYyBtYXJrZXJcbiAgICAgICAgaWYoIShwcm9wcy5pZCBpbiB0aGlzLmxheWVySWRUb1BvbHlnb24pKSB7XG4gICAgICAgICAgICB0aGlzLmxheWVySWRUb1BvbHlnb25bcHJvcHMuaWRdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXllcklkVG9Qb2x5Z29uW3Byb3BzLmlkXVtwcm9wcy5wb2x5Z29uSWRdID0gcG9seWdvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NvY2lhdGUgYSBtYXJrZXJJZCB0byBhIExheWVyIGZvciBhIGZhc3QgbG9va3VwXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UG9pbnRNYXJrZXJMYXllci5wcm9wc30gbGF5ZXIgLSB0aGUgTGF5ZXIgb2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcmtlck9iamVjdCAtIHRoZSBNYXAgbWFya2VyIG9iamVjdFxuICAgICAqL1xuICAgIGFzeW5jIGFkZE1hcmtlclRvTGF5ZXIocHJvcHMsIG1hcmtlck9iamVjdCkge1xuICAgICAgICBjb25zdCBjdXJyZW50TGF5ZXIgPSB0aGlzLmdldExheWVyKHByb3BzKTtcbiAgICAgICAgLy8gYXNzb2NpYXRlIHRoZSBsaXN0IG9mIG1hcmtlcnMgb3duaW5nIGJ5IGEgc3BlY2lmaWMgbWFya2VyXG4gICAgICAgIGlmKCEocHJvcHMuaWQgaW4gdGhpcy5sYXllcklkVG9NYXJrZXJzKSkge1xuICAgICAgICAgICAgdGhpcy5sYXllcklkVG9NYXJrZXJzW3Byb3BzLmlkXSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGF5ZXJJZFRvTWFya2Vyc1twcm9wcy5pZF1bcHJvcHMubWFya2VySWRdID0gbWFya2VyT2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc29jaWF0ZSBhIHBvbHlsaW5lSWQgdG8gYSBMYXllciBmb3IgYSBmYXN0IGxvb2t1cFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BvbHlsaW5lLnByb3BzfSBsYXllciAtIHRoZSBMYXllciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9seWxpbmVPYmplY3QgLSB0aGUgTWFwIHBvbHlsaW5lIG9iamVjdFxuICAgICAqL1xuICAgIGFzeW5jIGFkZFBvbHlsaW5lVG9MYXllcihwcm9wcywgcG9seWxpbmVPYmplY3QpIHtcbiAgICAgICAgLy8gYXNzb2NpYXRlIHRoZSBsaXN0IG9mIG1hcmtlcnMgb3duaW5nIGJ5IGEgc3BlY2lmaWMgbWFya2VyXG4gICAgICAgIGlmKCEocHJvcHMuaWQgaW4gdGhpcy5sYXllcklkVG9Qb2x5bGluZXMpKSB7XG4gICAgICAgICAgICB0aGlzLmxheWVySWRUb1BvbHlsaW5lc1twcm9wcy5pZF0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxheWVySWRUb1BvbHlsaW5lc1twcm9wcy5pZF1bcHJvcHMucG9seWxpbmVJZF0gPSBwb2x5bGluZU9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NvY2lhdGUgYSBlbGxpcHNlSWQgdG8gYSBMYXllciBmb3IgYSBmYXN0IGxvb2t1cFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge0VsbGlwc2UucHJvcHN9IGxheWVyIC0gdGhlIExheWVyIG9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlbGxpcHNlT2JqZWN0IC0gdGhlIE1hcCBlbGxpcHNlIG9iamVjdFxuICAgICAqL1xuICAgIGFzeW5jIGFkZEVsbGlwc2VUb0xheWVyKHByb3BzLCBlbGxpcHNlT2JqZWN0KSB7XG4gICAgICAgIC8vIGFzc29jaWF0ZSB0aGUgbGlzdCBvZiBtYXJrZXJzIG93bmluZyBieSBhIHNwZWNpZmljIG1hcmtlclxuICAgICAgICBpZighKHByb3BzLmlkIGluIHRoaXMubGF5ZXJJZFRvRWxsaXBzb2lkcykpIHtcbiAgICAgICAgICAgIHRoaXMubGF5ZXJJZFRvRWxsaXBzb2lkc1twcm9wcy5pZF0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxheWVySWRUb0VsbGlwc29pZHNbcHJvcHMuaWRdW3Byb3BzLmVsbGlwc2VJZF0gPSBlbGxpcHNlT2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc29jaWF0ZSBhIGRyYXBlZEltYWdlSWQgdG8gYSBMYXllciBmb3IgYSBmYXN0IGxvb2t1cFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge0ltYWdlRHJhcGluZy5wcm9wc30gbGF5ZXIgLSB0aGUgTGF5ZXIgb2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRyYXBlZEltYWdlT2JqZWN0IC0gdGhlIE1hcCBkcmFwZWRJbWFnZSBvYmplY3RcbiAgICAgKi9cbiAgICBhc3luYyBhZGREcmFwZWRJbWFnZVRvTGF5ZXIocHJvcHMsIGRyYXBlZEltYWdlT2JqZWN0KSB7XG4gICAgICAgIC8vIGFzc29jaWF0ZSB0aGUgbGlzdCBvZiBtYXJrZXJzIG93bmluZyBieSBhIHNwZWNpZmljIG1hcmtlclxuICAgICAgICBpZighKHByb3BzLmlkIGluIHRoaXMubGF5ZXJJZFRvRHJhcGVkSW1hZ2UpKSB7XG4gICAgICAgICAgICB0aGlzLmxheWVySWRUb0RyYXBlZEltYWdlW3Byb3BzLmlkXSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGF5ZXJJZFRvRHJhcGVkSW1hZ2VbcHJvcHMuaWRdW3Byb3BzLmRyYXBlZEltYWdlSWRdID0gZHJhcGVkSW1hZ2VPYmplY3Q7XG4gICAgfVxuXG4gICAgYXN5bmMgYWRkRnJ1c3R1bVRvTGF5ZXIocHJvcHMsIGZydXN0dW0pIHtcbiAgICAgICAgY29uc3QgY3VycmVudExheWVyID0gdGhpcy5nZXRMYXllcihwcm9wcyk7XG4gICAgICAgIC8vIGFzc29jaWF0ZSB0aGUgbGlzdCBvZiBtYXJrZXJzIG93bmluZyBieSBhIHNwZWNpZmljIG1hcmtlclxuICAgICAgICBpZighKHByb3BzLmlkIGluIHRoaXMubGF5ZXJJZFRvRnJ1c3R1bSkpIHtcbiAgICAgICAgICAgIHRoaXMubGF5ZXJJZFRvRnJ1c3R1bVtwcm9wcy5pZF0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxheWVySWRUb0ZydXN0dW1bcHJvcHMuaWRdW3Byb3BzLmZydXN0dW1JZF0gPSBmcnVzdHVtO1xuICAgIH1cblxuICAgIGdldFBvbHlnb25zKCkge1xuICAgICAgICBjb25zdCBhcnJheSA9IFtdO1xuICAgICAgICBmb3IobGV0IGlkIGluIHRoaXMubGF5ZXJJZFRvUG9seWdvbikge1xuICAgICAgICAgICAgZm9yKGxldCBwb2x5Z29uSWQgaW4gdGhpcy5sYXllcklkVG9Qb2x5Z29uW2lkXSkge1xuICAgICAgICAgICAgICAgIGFycmF5LnB1c2godGhpcy5sYXllcklkVG9Qb2x5Z29uW2lkXVtwb2x5Z29uSWRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgZ2V0UG9seWdvbihwcm9wcykge1xuICAgICAgICBpZighKHByb3BzLmlkIGluICB0aGlzLmxheWVySWRUb1BvbHlnb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5sYXllcklkVG9Qb2x5Z29uW3Byb3BzLmlkXVtwcm9wcy5wb2x5Z29uSWRdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWFya2VySWQgYXNzb2NpYXRlIHRvIHRoZSBMYXllclxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BvaW50TWFya2VyTGF5ZXIucHJvcHN9IHByb3BzIC0gdGhlIExheWVyIE9iamVjdFxuICAgICAqL1xuICAgIGdldE1hcmtlcihwcm9wcykge1xuICAgICAgICBpZighKHByb3BzLmlkIGluICB0aGlzLmxheWVySWRUb01hcmtlcnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5sYXllcklkVG9NYXJrZXJzW3Byb3BzLmlkXVtwcm9wcy5tYXJrZXJJZF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBtYXJrZXJzIGNvbnRhaW5lZCBpbiB0aGlzIHZpZXdcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgZ2V0TWFya2VycygpIHtcbiAgICAgICAgY29uc3QgYXJyYXkgPSBbXTtcbiAgICAgICAgZm9yKGxldCBpZCBpbiB0aGlzLmxheWVySWRUb01hcmtlcnMpIHtcbiAgICAgICAgICAgIGZvcihsZXQgbWFya2VySWQgaW4gdGhpcy5sYXllcklkVG9NYXJrZXJzW2lkXSkge1xuICAgICAgICAgICAgICAgIGFycmF5LnB1c2godGhpcy5sYXllcklkVG9NYXJrZXJzW2lkXVttYXJrZXJJZF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIHBvbHlsaW5lcyBjb250YWluZWQgaW4gdGhpcyB2aWV3XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGdldFBvbHlsaW5lcygpIHtcbiAgICAgICAgY29uc3QgYXJyYXkgPSBbXTtcbiAgICAgICAgZm9yKGxldCBpZCBpbiB0aGlzLmxheWVySWRUb1BvbHlsaW5lcykge1xuICAgICAgICAgICAgZm9yKGxldCBwb2x5bGluZUlkIGluIHRoaXMubGF5ZXJJZFRvUG9seWxpbmVzW2lkXSkge1xuICAgICAgICAgICAgICAgIGFycmF5LnB1c2godGhpcy5sYXllcklkVG9Qb2x5bGluZXNbaWRdW3BvbHlsaW5lSWRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBlbGxwc29pZHMgY29udGFpbmVkIGluIHRoaXMgdmlld1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBnZXRFbGxpcHNvaWRzKCkge1xuICAgICAgICBjb25zdCBhcnJheSA9IFtdO1xuICAgICAgICBmb3IobGV0IGlkIGluIHRoaXMubGF5ZXJJZFRvRWxsaXBzb2lkcykge1xuICAgICAgICAgICAgZm9yKGxldCBlbGxpcHNlSWQgaW4gdGhpcy5sYXllcklkVG9FbGxpcHNvaWRzW2lkXSkge1xuICAgICAgICAgICAgICAgIGFycmF5LnB1c2godGhpcy5sYXllcklkVG9FbGxpcHNvaWRzW2lkXVtlbGxpcHNlSWRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBlbGxpcHNlIGFzc29jaWF0ZSB0byB0aGUgTGF5ZXJcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtFbGxpcHNlLnByb3BzfSBsYXllciAtIHRoZSBMYXllciBPYmplY3RcbiAgICAgKi9cbiAgICBnZXRQb2x5bGluZShwcm9wcykge1xuICAgICAgICBpZighKHByb3BzLmlkIGluICB0aGlzLmxheWVySWRUb0VsbGlwc29pZHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5sYXllcklkVG9FbGxpcHNvaWRzW3Byb3BzLmlkXVtwcm9wcy5lbGxpcHNlSWRdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZWxsaXBzZSBhc3NvY2lhdGUgdG8gdGhlIExheWVyXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7RWxsaXBzZS5wcm9wc30gbGF5ZXIgLSB0aGUgTGF5ZXIgT2JqZWN0XG4gICAgICovXG4gICAgZ2V0RWxsaXBzZShwcm9wcykge1xuICAgICAgICBpZighKHByb3BzLmlkIGluICB0aGlzLmxheWVySWRUb0VsbGlwc29pZHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5sYXllcklkVG9FbGxpcHNvaWRzW3Byb3BzLmlkXVtwcm9wcy5lbGxpcHNlSWRdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcG9seWxpbmUgYXNzb2NpYXRlIHRvIHRoZSBMYXllclxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BvbHlsaW5lLnByb3BzfSBsYXllciAtIHRoZSBMYXllciBPYmplY3RcbiAgICAgKi9cbiAgICBnZXRQb2x5bGluZShwcm9wcykge1xuICAgICAgICBpZighKHByb3BzLmlkIGluICB0aGlzLmxheWVySWRUb1BvbHlsaW5lcykpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmxheWVySWRUb1BvbHlsaW5lc1twcm9wcy5pZF1bcHJvcHMucG9seWxpbmVJZF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkcmFwZWQgaW1hZ2UgYXNzb2NpYXRlIHRvIHRoZSBMYXllclxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge0ltYWdlRHJhcGluZ0xheWVyLnByb3BzfSBsYXllciAtIHRoZSBMYXllciBPYmplY3RcbiAgICAgKi9cbiAgICBnZXREcmFwZWRJbWFnZShwcm9wcykge1xuICAgICAgICBpZighKHByb3BzLmlkIGluICB0aGlzLmxheWVySWRUb0RyYXBlZEltYWdlKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubGF5ZXJJZFRvRHJhcGVkSW1hZ2VbcHJvcHMuaWRdW3Byb3BzLmRyYXBlZEltYWdlSWRdO1xuICAgIH1cblxuICAgIGdldEZydXN0dW1zKCkge1xuICAgICAgICBjb25zdCBhcnJheSA9IFtdO1xuICAgICAgICBmb3IobGV0IGlkIGluIHRoaXMubGF5ZXJJZFRvRnJ1c3R1bSkge1xuICAgICAgICAgICAgZm9yKGxldCBmcnVzdHVtSWQgaW4gdGhpcy5sYXllcklkVG9GcnVzdHVtW2lkXSkge1xuICAgICAgICAgICAgICAgIGFycmF5LnB1c2godGhpcy5sYXllcklkVG9GcnVzdHVtW2lkXVtmcnVzdHVtSWRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgZ2V0RnJ1c3R1bShwcm9wcykge1xuICAgICAgICBpZighKHByb3BzLmlkIGluICB0aGlzLmxheWVySWRUb0ZydXN0dW0pKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5sYXllcklkVG9GcnVzdHVtW3Byb3BzLmlkXVtwcm9wcy5mcnVzdHVtSWRdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgTGF5ZXIgYXNzb2NpYXRlZCB0byBpdHMgaWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbGF5ZXJJZCAtIHRoZSBpZCBvZiB0aGUgTGF5ZXJcbiAgICAgKiBAcmV0dXJuIHtMYXllcn0gLSB0aGUgY29ycmVzcG9uZGluZyBsYXllciwgbnVsbCBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBnZXRMYXllcihsYXllcklkKSB7XG4gICAgICAgIC8vIGZpbmQgY29ycmVzcG9uZGluZyBsYXllclxuICAgICAgICBmb3IgKGxldCBjdXJyZW50TGF5ZXIgb2YgdGhpcy5sYXllcnMpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50TGF5ZXIucHJvcHMuaWQgPT09IGxheWVySWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudExheWVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBDb3JyZXNwb25kaW5nIExheWVyXG4gICAgICogQHBhcmFtIHtMYXllcn0gbGF5ZXIgLSBUaGUgbGF5ZXIgb2JqZWN0XG4gICAgICovXG4gICAgcmVtb3ZlQWxsRnJvbUxheWVyKGxheWVyKSB7XG4gICAgICAgIHN1cGVyLnJlbW92ZUFsbEZyb21MYXllcihsYXllcik7XG4gICAgICAgIC8vIGNoZWNrIGZvciBtYXJrZXJcbiAgICAgICAgdGhpcy5yZW1vdmVNYXJrZXJzKGxheWVyKTtcblxuICAgICAgICAvLyBjaGVjayBmb3IgcG9seWxpbmVzXG4gICAgICAgIHRoaXMucmVtb3ZlUG9seWxpbmVzKGxheWVyKTtcblxuICAgICAgICB0aGlzLnJlbW92ZUVsbGlwc29pZHMobGF5ZXIpO1xuXG4gICAgICAgIHRoaXMucmVtb3ZlUG9seWdvbnMobGF5ZXIpO1xuXG4gICAgICAgIHRoaXMucmVtb3ZlRnJ1c3R1bXMobGF5ZXIpO1xuICAgIH1cblxuICAgIHJlbW92ZVBvbHlnb25zKGxheWVyKSB7XG4gICAgICAgIGlmKGlzRGVmaW5lZChsYXllci5wcm9wcy5wb2x5Z29uSWQpKSB7XG4gICAgICAgICAgICBjb25zdCBwb2x5Z29uTWFwID0gdGhpcy5sYXllcklkVG9Qb2x5Z29uW2xheWVyLnByb3BzLmlkXTtcbiAgICAgICAgICAgIGlmKGlzRGVmaW5lZChwb2x5Z29uTWFwKSkge1xuICAgICAgICAgICAgICAgIGZvcihsZXQgcG9seWdvbklkIGluIHBvbHlnb25NYXApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9seWdvbiA9IHBvbHlnb25NYXBbcG9seWdvbklkXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVQb2x5Z29uRnJvbUxheWVyKHBvbHlnb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmVtb3ZlIG1hcmtlcnMgaWRzIGZyb20gTGF5ZXIgbWFwXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5sYXllcklkVG9Qb2x5Z29uW2xheWVyLnByb3BzLmlkXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgbWFya2VycyBjb3JyZXNwb25kaW5nIHRvIGEgUG9pbnRNYXJrZXIgTGF5ZXJcbiAgICAgKiBAcGFyYW0ge1BvaW50TWFya2VyTGF5ZXJ9IGxheWVyIC0gdGhlIGxheWVyIHRvIHJlbW92ZSB0aGUgbWFya2VycyBmcm9tXG4gICAgICovXG4gICAgcmVtb3ZlTWFya2VycyhsYXllcikge1xuICAgICAgICBpZihpc0RlZmluZWQobGF5ZXIucHJvcHMubWFya2VySWQpKSB7XG4gICAgICAgICAgICBjb25zdCBtYXJrZXJzTWFwID0gdGhpcy5sYXllcklkVG9NYXJrZXJzW2xheWVyLnByb3BzLmlkXTtcbiAgICAgICAgICAgIGlmKGlzRGVmaW5lZChtYXJrZXJzTWFwKSkge1xuICAgICAgICAgICAgICAgIGZvcihsZXQgbWFya2VySWQgaW4gbWFya2Vyc01hcCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXJrZXIgPSBtYXJrZXJzTWFwW21hcmtlcklkXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVNYXJrZXJGcm9tTGF5ZXIobWFya2VyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSBtYXJrZXJzIGlkcyBmcm9tIExheWVyIG1hcFxuICAgICAgICAgICAgZGVsZXRlIHRoaXMubGF5ZXJJZFRvTWFya2Vyc1tsYXllci5wcm9wcy5pZF07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIGVsbGlwc29pZHMgY29ycmVzcG9uZGluZyB0byBhIEVsbGlwc2VMYXllciBMYXllclxuICAgICAqIEBwYXJhbSB7RWxsaXBzZX0gZWxsaXBzZSAtIHRoZSBsYXllciB0byByZW1vdmUgdGhlIGVsbGlwc29pZHMgZnJvbVxuICAgICAqL1xuICAgIHJlbW92ZUVsbGlwc29pZHMoZWxsaXBzZSkge1xuICAgICAgICBpZihpc0RlZmluZWQoZWxsaXBzZS5wcm9wcy5lbGxpcHNlSWQpKSB7XG4gICAgICAgICAgICBjb25zdCBlbGxpcHNlTWFwID0gdGhpcy5sYXllcklkVG9FbGxpcHNvaWRzW2VsbGlwc2UucHJvcHMuaWRdO1xuICAgICAgICAgICAgaWYoaXNEZWZpbmVkKGVsbGlwc2VNYXApKSB7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBlbGxpcHNlSWQgaW4gZWxsaXBzZU1hcCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGxpcHNlID0gZWxsaXBzZU1hcFtlbGxpcHNlSWRdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUVsbGlwc2VGcm9tTGF5ZXIoZWxsaXBzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZW1vdmUgcG9seWxpbmVzIGlkcyBmcm9tIExheWVyIG1hcFxuICAgICAgICAgICAgZGVsZXRlIHRoaXMubGF5ZXJJZFRvRWxsaXBzb2lkc1tlbGxpcHNlLnByb3BzLmlkXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgcG9seWxpbmVzIGNvcnJlc3BvbmRpbmcgdG8gYSBQb2x5bGluZUxheWVyIExheWVyXG4gICAgICogQHBhcmFtIHtQb2x5bGluZX0gcG9seWxpbmUgLSB0aGUgbGF5ZXIgdG8gcmVtb3ZlIHRoZSBwb2x5bGluZXMgZnJvbVxuICAgICAqL1xuICAgIHJlbW92ZVBvbHlsaW5lcyhwb2x5bGluZSkge1xuICAgICAgICBpZihpc0RlZmluZWQocG9seWxpbmUucHJvcHMucG9seWxpbmVJZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvbHlsaW5lc01hcCA9IHRoaXMubGF5ZXJJZFRvUG9seWxpbmVzW3BvbHlsaW5lLnByb3BzLmlkXTtcbiAgICAgICAgICAgIGlmKGlzRGVmaW5lZChwb2x5bGluZXNNYXApKSB7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBwb2x5bGluZUlkIGluIHBvbHlsaW5lc01hcCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2x5bGluZSA9IHBvbHlsaW5lc01hcFtwb2x5bGluZUlkXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVQb2x5bGluZUZyb21MYXllcihwb2x5bGluZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZW1vdmUgcG9seWxpbmVzIGlkcyBmcm9tIExheWVyIG1hcFxuICAgICAgICAgICAgZGVsZXRlIHRoaXMubGF5ZXJJZFRvUG9seWxpbmVzW3BvbHlsaW5lLnByb3BzLmlkXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgZHJhcGVkSW1hZ2UgY29ycmVzcG9uZGluZyB0byBhIEltYWdlRHJhcGluZyBMYXllclxuICAgICAqIEBwYXJhbSB7SW1hZ2VEcmFwaW5nfSBpbWFnZURyYXBpbmcgLSB0aGUgbGF5ZXIgdG8gcmVtb3ZlIHRoZSBkcmFwZWRJbWFnZSBmcm9tXG4gICAgICovXG4gICAgcmVtb3ZlRHJhcGVkSW1hZ2VzKGRyYXBlZEltYWdlKSB7XG4gICAgICAgIGlmKGlzRGVmaW5lZChkcmFwZWRJbWFnZS5wcm9wcy5kcmFwZWRJbWFnZUlkKSkge1xuICAgICAgICAgICAgY29uc3QgZHJhcGVkSW1hZ2VNYXAgPSB0aGlzLmxheWVySWRUb0RyYXBlZEltYWdlW2RyYXBlZEltYWdlLnByb3BzLmlkXTtcbiAgICAgICAgICAgIGlmKGlzRGVmaW5lZChkcmFwZWRJbWFnZU1hcCkpIHtcbiAgICAgICAgICAgICAgICBmb3IobGV0IGRyYXBlZEltYWdlSWQgaW4gZHJhcGVkSW1hZ2VNYXApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHJhcGVkSW1hZ2UgPSBkcmFwZWRJbWFnZU1hcFtkcmFwZWRJbWFnZUlkXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVEcmFwZWRJbWFnZUZyb21MYXllcihkcmFwZWRJbWFnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZW1vdmUgZHJhcGVkSW1hZ2UgaWRzIGZyb20gTGF5ZXIgbWFwXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5sYXllcklkVG9EcmFwZWRJbWFnZVtkcmFwZWRJbWFnZS5wcm9wcy5pZF07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIGZydXN0dW1zIGNvcnJlc3BvbmRpbmcgdG8gYSBGcnVzdHVtIExheWVyXG4gICAgICogQHBhcmFtIHtGcnVzdHVtTGF5ZXJ9IHBvbHlsaW5lIC0gdGhlIGxheWVyIHRvIHJlbW92ZSB0aGUgRnJ1c3R1bSBmcm9tXG4gICAgICovXG4gICAgcmVtb3ZlRnJ1c3R1bXMobGF5ZXIpIHtcbiAgICAgICAgaWYoaXNEZWZpbmVkKGxheWVyLnByb3BzLmZydXN0dW1JZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZydXN0dW1NYXAgPSB0aGlzLmxheWVySWRUb0ZydXN0dW1bbGF5ZXIucHJvcHMuaWRdO1xuICAgICAgICAgICAgaWYoaXNEZWZpbmVkKGZydXN0dW1NYXApKSB7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBmcnVzdHVtSWQgaW4gZnJ1c3R1bU1hcCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcnVzdHVtID0gZnJ1c3R1bU1hcFtmcnVzdHVtSWRdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZydXN0dW1Gcm9tTGF5ZXIoZnJ1c3R1bSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZW1vdmUgbWFya2VycyBpZHMgZnJvbSBMYXllciBtYXBcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmxheWVySWRUb0ZydXN0dW1bbGF5ZXIucHJvcHMuaWRdO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFic3RyYWN0IG1ldGhvZCB0byByZW1vdmUgYSBtYXJrZXIgZnJvbSBpdHMgY29ycmVzcG9uZGluZyBsYXllci5cbiAgICAgKiBUaGlzIGlzIGxpYnJhcnkgZGVwZW5kYW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFya2VyIC0gVGhlIE1hcCBtYXJrZXIgb2JqZWN0XG4gICAgICovXG4gICAgcmVtb3ZlTWFya2VyRnJvbUxheWVyKG1hcmtlcikge31cblxuICAgIC8qKlxuICAgICAqIEFic3RyYWN0IG1ldGhvZCB0byByZW1vdmUgYSBwb2x5bGluZSBmcm9tIGl0cyBjb3JyZXNwb25kaW5nIGxheWVyLlxuICAgICAqIFRoaXMgaXMgbGlicmFyeSBkZXBlbmRhbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwb2x5bGluZSAtIFRoZSBNYXAgcG9seWxpbmUgb2JqZWN0XG4gICAgICovXG4gICAgcmVtb3ZlUG9seWxpbmVGcm9tTGF5ZXIocG9seWxpbmUpIHt9XG5cbiAgICAvKipcbiAgICAgKiBBYnN0cmFjdCBtZXRob2QgdG8gcmVtb3ZlIGEgZHJhcGVkIGltYWdlIGZyb20gaXRzIGNvcnJlc3BvbmRpbmcgbGF5ZXIuXG4gICAgICogVGhpcyBpcyBsaWJyYXJ5IGRlcGVuZGFudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRyYXBlZEltYWdlIC0gVGhlIE1hcCBkcmFwZWRJbWFnZSBvYmplY3RcbiAgICAgKi9cbiAgICByZW1vdmVEcmFwZWRJbWFnZUZyb21MYXllcihkcmFwZWRJbWFnZSkge31cblxuICAgIC8qKlxuICAgICAqIEFic3RyYWN0IG1ldGhvZCB0byByZW1vdmUgYSBwb2x5Z29uIGZyb20gaXRzIGNvcnJlc3BvbmRpbmcgbGF5ZXIuXG4gICAgICogVGhpcyBpcyBsaWJyYXJ5IGRlcGVuZGFudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBvbHlnb24gLSBUaGUgTWFwIHBvbHlnb24gb2JqZWN0XG4gICAgICovXG4gICAgcmVtb3ZlUG9seWdvbkZyb21MYXllcihtYXJrZXIpIHt9XG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gY2FsbCBvbkxlZnRDbGljayBMYXllciBtZXRob2QgaWYgZXhpc3RzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1hcmtlcklkIC0gdGhlIExheWVyIG1hcmtlcklkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcmtlck9iamVjdCAtIHRoZSBWaWV3IG1hcmtlciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge1BvaW50TWFya2VyTGF5ZXJ9IGxheWVyIC0gdGhlIExheWVyIG9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCAtIHRoZSBvcmlnaW5hbCBNYXAgVmlldyBldmVudFxuICAgICAqL1xuICAgIG9uTWFya2VyTGVmdENsaWNrKG1hcmtlcklkLCBtYXJrZXJPYmplY3QsIGxheWVyLCBldmVudCkge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKGxheWVyLm9uTGVmdENsaWNrKSkge1xuICAgICAgICAgICAgbGF5ZXIub25MZWZ0Q2xpY2suY2FsbChsYXllcixtYXJrZXJJZCwgbWFya2VyT2JqZWN0LCBldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gY2FsbCBvblJpZ2h0Q2xpY2sgTGF5ZXIgbWV0aG9kIGlmIGV4aXN0c1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtYXJrZXJJZCAtIHRoZSBMYXllciBtYXJrZXJJZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXJrZXJPYmplY3QgLSB0aGUgVmlldyBtYXJrZXIgb2JqZWN0XG4gICAgICogQHBhcmFtIHtQb2ludE1hcmtlckxheWVyfSBsYXllciAtIHRoZSBMYXllciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgLSB0aGUgb3JpZ2luYWwgTWFwIFZpZXcgZXZlbnRcbiAgICAgKi9cbiAgICBvbk1hcmtlclJpZ2h0Q2xpY2sobWFya2VySWQsIG1hcmtlck9iamVjdCwgbGF5ZXIsIGV2ZW50KSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQobGF5ZXIub25SaWdodENsaWNrKSkge1xuICAgICAgICAgICAgbGF5ZXIub25SaWdodENsaWNrLmNhbGwobGF5ZXIsbWFya2VySWQsIG1hcmtlck9iamVjdCwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGNhbGwgb25Nb3ZlIExheWVyIG1ldGhvZCBpZiBleGlzdHNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWFya2VySWQgLSB0aGUgTGF5ZXIgbWFya2VySWRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFya2VyT2JqZWN0IC0gdGhlIFZpZXcgbWFya2VyIG9iamVjdFxuICAgICAqIEBwYXJhbSB7UG9pbnRNYXJrZXJMYXllcn0gbGF5ZXIgLSB0aGUgTGF5ZXIgb2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50IC0gdGhlIG9yaWdpbmFsIE1hcCBWaWV3IGV2ZW50XG4gICAgICovXG4gICAgb25NYXJrZXJNb3ZlKG1hcmtlcklkLCBtYXJrZXJPYmplY3QsIGxheWVyLCBldmVudCkge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKGxheWVyLm9uTW92ZSkpIHtcbiAgICAgICAgICAgIGxheWVyLm9uTW92ZS5jYWxsKGxheWVyLG1hcmtlcklkLCBtYXJrZXJPYmplY3QsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBjYWxsIG9uSG92ZXIgTGF5ZXIgbWV0aG9kIGlmIGV4aXN0c1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtYXJrZXJJZCAtIHRoZSBMYXllciBtYXJrZXJJZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXJrZXJPYmplY3QgLSB0aGUgVmlldyBtYXJrZXIgb2JqZWN0XG4gICAgICogQHBhcmFtIHtQb2ludE1hcmtlckxheWVyfSBsYXllciAtIHRoZSBMYXllciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgLSB0aGUgb3JpZ2luYWwgTWFwIFZpZXcgZXZlbnRcbiAgICAgKi9cbiAgICBvbk1hcmtlckhvdmVyKG1hcmtlcklkLCBtYXJrZXJPYmplY3QsIGxheWVyLCBldmVudCkge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKGxheWVyLm9uSG92ZXIpKSB7XG4gICAgICAgICAgICBsYXllci5vbkhvdmVyLmNhbGwobGF5ZXIsbWFya2VySWQsIG1hcmtlck9iamVjdCwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdGhlIExheWVyIGlkIGZyb20gIGEgY29uY2F0ZW5hdGVkIGlkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gdGhlIGNvbmNhdGVuYXRlZCBzdWNoIGFzIGxheWVySWQkbWFya2VySWRcbiAgICAgKiBAcmV0dXJuIHtudWxsfFN0cmluZ30gdGhlIExheWVyIGlkXG4gICAgICovXG4gICAgZ2V0TGF5ZXJJZChpZCkge1xuICAgICAgICBjb25zdCBzcGxpdCA9IGlkLnNwbGl0KCckJyk7XG5cbiAgICAgICAgaWYoaXNEZWZpbmVkKHNwbGl0KSAmJiBzcGxpdC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgcmV0dXJuICBzcGxpdFswXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB0aGUgTWFya2VyIGlkIGZyb20gIGEgY29uY2F0ZW5hdGVkIGlkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gdGhlIGNvbmNhdGVuYXRlZCBzdWNoIGFzIGxheWVySWQkbWFya2VySWRcbiAgICAgKiBAcmV0dXJuIHtudWxsfFN0cmluZ30gdGhlIG1hcmtlciBpZFxuICAgICAqL1xuICAgIGdldE1hcmtlcklkKGlkKSB7XG4gICAgICAgIGlmKCFpc0RlZmluZWQoaWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzcGxpdCA9IGlkLnNwbGl0KCckJyk7XG5cbiAgICAgICAgaWYoaXNEZWZpbmVkKHNwbGl0KSAmJiBzcGxpdC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIHJldHVybiAgc3BsaXRbMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgYXN5bmMgdXBkYXRlTWFya2VyKCkge31cbiAgICBhc3luYyB1cGRhdGVQb2x5bGluZSgpIHt9XG4gICAgYXN5bmMgdXBkYXRlUG9seWdvbigpIHt9XG4gICAgYXN5bmMgdXBkYXRlRWxsaXBzZSgpIHt9XG4gICAgYXN5bmMgdXBkYXRlQ29QbGFuYXJQb2x5Z29uKCkge31cbiAgICBhc3luYyB1cGRhdGVEcmFwZWRJbWFnZSgpIHt9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWFwVmlldztcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSwgdi4gMi4wLlxuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZVxuIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cblxuIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcyxcbiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2VcbiBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyByaWdodHMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4gQ29weXJpZ2h0IChDKSAyMDE1LTIwMjAgTWF0aGlldSBEaGFpbmF1dC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuIEF1dGhvcjogTWF0aGlldSBEaGFpbmF1dCA8bWF0aGlldS5kaGFpbmF1dEBnbWFpbC5jb20+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHtpc0RlZmluZWQsIGFzc2VydCwgYXNzZXJ0RGVmaW5lZH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL1V0aWxzLmpzXCI7XG5pbXBvcnQgTCBmcm9tICdsZWFmbGV0JztcbmltcG9ydCAnbGVhZmxldC9kaXN0L2xlYWZsZXQuY3NzJztcbmltcG9ydCBNYXBWaWV3IGZyb20gXCIuL01hcFZpZXdcIjtcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGlzIGluIGNoYXJnZSBvZiBkaXNwbGF5aW5nIEdQUy9vcmllbnRhdGlvbiBkYXRhIGJ5IGFkZGluZyBhIG1hcmtlciB0byB0aGUgTGVhZmxldCBNYXAgb2JqZWN0LlxuICogQGV4dGVuZHMgTWFwVmlld1xuICogQGV4YW1wbGVcblxuIGltcG9ydCBMZWFmbGV0VmlldyBmcm9tICdjb3JlL3VpL3ZpZXcvbWFwL0xlYWZsZXRWaWV3LmpzJztcblxuIGxldCBsZWFmbGV0TWFwVmlldyA9IG5ldyBMZWFmbGV0Vmlldyh7XG5cdGNvbnRhaW5lcjogJ2xlYWZsZXRNYXAnLFxuXHRsYXllcnM6IFtcblx0ICBuZXcgUG9pbnRNYXJrZXJMYXllcih7XG4gICAgICBkYXRhU291cmNlSWQ6IGdwc0RhdGFTb3VyY2UuaWQsXG4gICAgICBnZXRMb2NhdGlvbjogKHJlYykgPT4gKHtcbiAgICAgICAgeDogcmVjLmxvY2F0aW9uLmxvbixcbiAgICAgICAgeTogcmVjLmxvY2F0aW9uLmxhdCxcbiAgICAgICAgejogcmVjLmxvY2F0aW9uLmFsdFxuICAgICAgfSksXG4gICAgICBpY29uOiAnLi9pbWFnZXMvY2FyLWxvY2F0aW9uLnBuZycsXG4gICAgICBpY29uU2l6ZTogWzMyLCA2NF0sXG4gICAgICBpY29uQW5jaG9yOiBbMTYsIDY1XSxcbiAgICAgIG5hbWU6ICdDYXInLFxuICAgICAgZGVzY3JpcHRpb246ICdHUFMgY2FyIFRvdWxvdXNlJ1xuICAgIH0pXG4gIF0sXG5cdGF1dG9ab29tT25GaXJzdE1hcmtlcjogdHJ1ZVxufSk7XG4gKi9cbmNsYXNzIExlYWZsZXRWaWV3IGV4dGVuZHMgTWFwVmlldyB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgVmlldy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIC0gdGhlIHByb3BlcnRpZXMgb2YgdGhlIHZpZXdcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5jb250YWluZXIgLSBUaGUgZGl2IGVsZW1lbnQgdG8gYXR0YWNoIHRvXG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gIFtwcm9wZXJ0aWVzLmxheWVycz1bXV0gLSBUaGUgaW5pdGlhbCBsYXllcnMgdG8gYWRkXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbcHJvcGVydGllcy5hdXRvWm9vbU9uRmlyc3RNYXJrZXI9ZmFsc2VdIC0gYXV0byB6b29tIG9uIHRoZSBmaXJzdCBhZGRlZCBtYXJrZXJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtwcm9wZXJ0aWVzLmZvbGxvdz1mYWxzZV0gLSBmb2xsb3cgdGhlIG1hcmtlclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcy5pbml0aWFsVmlld10gLSBTZXRzIHRoZSB2aWV3IG9mIHRoZSBtYXAgKGdlb2dyYXBoaWNhbCBjZW50ZXIgYW5kIHpvb20pIHdpdGggdGhlIGdpdmVuIGFuaW1hdGlvbiBvcHRpb25zLiBbU2VlIGRldGFpbHNde0BsaW5rIGh0dHBzOi8vbGVhZmxldGpzLmNvbS9yZWZlcmVuY2UtMS43LjEuaHRtbCNtYXAtc2V0dmlld31cbiAgICAgKiBAcGFyYW0ge09iamVjdFtdfSBbcHJvcGVydGllcy5vdmVybGF5TGF5ZXJzXSAtIFtMLnRpbGVMYXllcl17QGxpbmsgaHR0cHM6Ly9sZWFmbGV0anMuY29tL3JlZmVyZW5jZS0xLjcuMS5odG1sI3RpbGVsYXllci1sLXRpbGVsYXllcn0gb2JqZWN0cyB0byB1c2UgYXMgb3ZlcmxheSBsYXllclxuICAgICAqIEBwYXJhbSB7T2JqZWN0W119IFtwcm9wZXJ0aWVzLmJhc2VMYXllcnNdIC0gW0wudGlsZUxheWVyXXtAbGluayBodHRwczovL2xlYWZsZXRqcy5jb20vcmVmZXJlbmNlLTEuNy4xLmh0bWwjdGlsZWxheWVyLWwtdGlsZWxheWVyfSBvYmplY3RzIHRvIHVzZSBhcyBiYXNlIGxheWVyXG4gICAgICpcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0aWVzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIHN1cHBvcnRlZExheWVyczogWydtYXJrZXInLCdkcmFwaW5nJywgJ3BvbHlsaW5lJywgJ3BvbHlnb24nXSxcbiAgICAgICAgICAgIC4uLnByb3BlcnRpZXMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBjc3NDbGFzcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZGl2SWQpLmNsYXNzTmFtZTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5kaXZJZCkuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgY3NzQ2xhc3MrXCIgXCIrdGhpcy5jc3MpO1xuICAgIH1cblxuICAgIGJlZm9yZUFkZGluZ0l0ZW1zKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gaW5pdHMgdGhlIG1hcFxuICAgICAgICB0aGlzLmluaXRNYXAob3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLy8tLS0tLS0tLS0tIE1BUCBTRVRVUCAtLS0tLS0tLS0tLS0tLS8vXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGluaXRNYXAob3B0aW9ucykge1xuICAgICAgICAvLyAjcmVnaW9uIHNuaXBwZXRfbGVhZmxldHZpZXdfaW5pdGlhbF92aWV3XG4gICAgICAgIGxldCBpbml0aWFsVmlldyA9IHtcbiAgICAgICAgICAgIGxvY2F0aW9uOiBuZXcgTC5MYXRMbmcoMCwgMCksXG4gICAgICAgICAgICB6b29tOiAzXG4gICAgICAgIH07XG4gICAgICAgIC8vICNlbmRyZWdpb24gc25pcHBldF9sZWFmbGV0dmlld19pbml0aWFsX3ZpZXdcbiAgICAgICAgdGhpcy5maXJzdCA9IHRydWU7XG4gICAgICAgIHRoaXMuZm9sbG93ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYXV0b1pvb21PbkZpcnN0TWFya2VyID0gZmFsc2U7XG4gICAgICAgIGxldCBkZWZhdWx0TGF5ZXJzID0gdGhpcy5nZXREZWZhdWx0TGF5ZXJzKCk7XG5cbiAgICAgICAgbGV0IGRlZmF1bHRMYXllciA9IGRlZmF1bHRMYXllcnNbMF0ubGF5ZXI7XG5cbiAgICAgICAgbGV0IGJhc2VMYXllcnMgPSB7fTtcbiAgICAgICAgbGV0IG92ZXJsYXlzID0ge307XG5cbiAgICAgICAgYmFzZUxheWVyc1tkZWZhdWx0TGF5ZXJzWzBdLm5hbWVdID0gZGVmYXVsdExheWVyc1swXS5sYXllcjtcbiAgICAgICAgb3ZlcmxheXNbZGVmYXVsdExheWVyc1sxXS5uYW1lXSA9IGRlZmF1bHRMYXllcnNbMV0ubGF5ZXI7XG4gICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9ucykpIHtcbiAgICAgICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9ucy5pbml0aWFsVmlldykpIHtcbiAgICAgICAgICAgICAgICBpbml0aWFsVmlldyA9IHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IG5ldyBMLkxhdExuZyhvcHRpb25zLmluaXRpYWxWaWV3LmxhdCwgb3B0aW9ucy5pbml0aWFsVmlldy5sb24pLFxuICAgICAgICAgICAgICAgICAgICB6b29tOiBvcHRpb25zLmluaXRpYWxWaWV3Lnpvb21cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2hlY2tzIGF1dG9ab29tXG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKG9wdGlvbnMuYXV0b1pvb21PbkZpcnN0TWFya2VyKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXV0b1pvb21PbkZpcnN0TWFya2VyID0gb3B0aW9ucy5hdXRvWm9vbU9uRmlyc3RNYXJrZXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNoZWNrcyBvdmVybGF5ZXJzXG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKG9wdGlvbnMub3ZlcmxheUxheWVycykpIHtcbiAgICAgICAgICAgICAgICBvdmVybGF5cyA9IG9wdGlvbnMub3ZlcmxheUxheWVycztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY2hlY2tzIGJhc2VMYXllclxuICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChvcHRpb25zLmJhc2VMYXllcnMpKSB7XG4gICAgICAgICAgICAgICAgYmFzZUxheWVycyA9IG9wdGlvbnMuYmFzZUxheWVycztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChvcHRpb25zLmZvbGxvdykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvbGxvdyA9IG9wdGlvbnMuZm9sbG93O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjaGVja3MgZGVmYXVsdExheWVyXG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKG9wdGlvbnMuZGVmYXVsdExheWVyKSkge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRMYXllciA9IG9wdGlvbnMuZGVmYXVsdExheWVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0cyBsYXllcnMgdG8gbWFwXG4gICAgICAgIHRoaXMubWFwID0gbmV3IEwuTWFwKHRoaXMuZGl2SWQsIHtcbiAgICAgICAgICAgIGZ1bGxzY3JlZW5Db250cm9sOiB0cnVlLFxuICAgICAgICAgICAgbGF5ZXJzOiBkZWZhdWx0TGF5ZXJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgTC5jb250cm9sLmxheWVycyhiYXNlTGF5ZXJzLCBvdmVybGF5cykuYWRkVG8odGhpcy5tYXApO1xuXG4gICAgICAgIHRoaXMubWFwLnNldFZpZXcoaW5pdGlhbFZpZXcubG9jYXRpb24sIGluaXRpYWxWaWV3Lnpvb20pO1xuXG4gICAgICAgIC8vdGhpcy5pbml0TGF5ZXJzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGlzdCBvZiBkZWZhdWx0IGxheWVycy5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKi9cbiAgICBnZXREZWZhdWx0TGF5ZXJzKG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IG1heFpvb20gPSAyMjtcbiAgICAgICAgaWYgKGlzRGVmaW5lZChvcHRpb25zKSAmJiBvcHRpb25zLm1heFpvb20pIHtcbiAgICAgICAgICAgIG1heFpvb20gPSBvcHRpb25zLm1heFpvb207XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29weXJpZ2h0c1xuICAgICAgICBsZXQgbWJBdHRyID0gJ01hcCBkYXRhIMKpIDxhIGhyZWY9XCJodHRwOi8vb3BlbnN0cmVldG1hcC5vcmdcIj5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMnLFxuICAgICAgICAgICAgbWJVcmwgPSAnaHR0cDovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZyc7XG5cbiAgICAgICAgbGV0IGVzcmlMaW5rID0gJzxhIGhyZWY9XCJodHRwOi8vd3d3LmVzcmkuY29tL1wiPkVzcmk8L2E+JztcbiAgICAgICAgbGV0IGVzcmlXaG9saW5rID0gJ2ktY3ViZWQsIFVTREEsIFVTR1MsIEFFWCwgR2VvRXllLCBHZXRtYXBwaW5nLCBBZXJvZ3JpZCwgSUdOLCBJR1AsIFVQUi1FR1AsIGFuZCB0aGUgR0lTIFVzZXIgQ29tbXVuaXR5JztcblxuICAgICAgICAvLyBsZWFmbGV0IGxheWVyc1xuICAgICAgICBsZXQgZXNyaUxheWVyID0gTC50aWxlTGF5ZXIoXG4gICAgICAgICAgICAnaHR0cDovL3NlcnZlci5hcmNnaXNvbmxpbmUuY29tL0FyY0dJUy9yZXN0L3NlcnZpY2VzL1dvcmxkX0ltYWdlcnkvTWFwU2VydmVyL3RpbGUve3p9L3t5fS97eH0nLCB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRpb246ICcmY29weTsgJyArIGVzcmlMaW5rICsgJywgJyArIGVzcmlXaG9saW5rLFxuICAgICAgICAgICAgICAgIG1heFpvb206IG1heFpvb20sXG4gICAgICAgICAgICAgICAgbWF4TmF0aXZlWm9vbTogMTlcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBzdHJlZXRzID0gTC50aWxlTGF5ZXIobWJVcmwsIHtpZDogJ21hcGJveC5zdHJlZXRzJywgYXR0cmlidXRpb246IG1iQXR0ciwgbWF4Wm9vbTogbWF4Wm9vbX0pO1xuXG4gICAgICAgIHJldHVybiBbe1xuICAgICAgICAgICAgbmFtZTogXCJPU00gU3RyZWV0c1wiLFxuICAgICAgICAgICAgbGF5ZXI6IHN0cmVldHNcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgbmFtZTogXCJFc3JpIFNhdGVsbGl0ZVwiLFxuICAgICAgICAgICAgbGF5ZXI6IGVzcmlMYXllclxuICAgICAgICB9XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGluaXRMYXllcnMoKSB7XG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgdGlsZSBsYXllciB3aXRoIGNvcnJlY3QgYXR0cmlidXRpb25cbiAgICAgICAgbGV0IG9zbVVybCA9ICdodHRwOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nJztcbiAgICAgICAgbGV0IG9zbUF0dHJpYiA9ICdNYXAgZGF0YSDCqSA8YSBocmVmPVwiaHR0cDovL29wZW5zdHJlZXRtYXAub3JnXCI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzJztcbiAgICAgICAgbGV0IG9zbSA9IG5ldyBMLnRpbGVMYXllcihvc21VcmwsIHtcbiAgICAgICAgICAgIG1pblpvb206IDEsXG4gICAgICAgICAgICBtYXhab29tOiAyMixcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uOiBvc21BdHRyaWJcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWFwLmFkZExheWVyKG9zbSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgbWFya2VyIHRvIHRoZSBtYXAuXG4gICAgICogQHBhcmFtIHtQb2ludE1hcmtlckxheWVyLnByb3BlcnRpZXN9IHByb3BlcnRpZXMgLSB0aGUgbGF5ZXIgcHJvcGVydGllc1xuICAgICAqIEByZXR1cm4ge09iamVjdH0gdGhlIHRoZSBuZXcgY3JlYXRlZCBtYXJrZXJcbiAgICAgKi9cbiAgICBhZGRNYXJrZXIocHJvcGVydGllcykge1xuICAgICAgICBhc3NlcnREZWZpbmVkKHByb3BlcnRpZXMubG9jYXRpb24sJ2xvY2F0aW9uJyk7XG4gICAgICAgIC8vY3JlYXRlIG1hcmtlclxuICAgICAgICBsZXQgbWFya2VyID0gbnVsbDtcbiAgICAgICAgaWYgKHByb3BlcnRpZXMuaWNvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbGV0IG1hcmtlckljb24gPSBMLmljb24oe1xuICAgICAgICAgICAgICAgIGljb25BbmNob3I6IHByb3BlcnRpZXMuaWNvbkFuY2hvcixcbiAgICAgICAgICAgICAgICBpY29uVXJsOiBwcm9wZXJ0aWVzLmljb24sXG4gICAgICAgICAgICAgICAgaWNvblNpemU6IHByb3BlcnRpZXMuaWNvblNpemVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBtYXJrZXIgPSBMLm1hcmtlcihbcHJvcGVydGllcy5sb2NhdGlvbi55LCBwcm9wZXJ0aWVzLmxvY2F0aW9uLnhdLCB7XG4gICAgICAgICAgICAgICAgaWNvbjogbWFya2VySWNvblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXJrZXIgPSBMLm1hcmtlcihbcHJvcGVydGllcy5sb2NhdGlvbi55LCBwcm9wZXJ0aWVzLmxvY2F0aW9uLnhdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9wZXJ0aWVzLmxhYmVsICE9PSBudWxsKSB7XG4gICAgICAgICAgICBtYXJrZXIuYmluZFRvb2x0aXAocHJvcGVydGllcy5sYWJlbCwge1xuICAgICAgICAgICAgICAgIHBlcm1hbmVudDogZmFsc2UsXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IEwucG9pbnQocHJvcGVydGllcy5sYWJlbE9mZnNldFswXSwgcHJvcGVydGllcy5sYWJlbE9mZnNldFsxXSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5hbWUgPSBwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KFwibmFtZVwiKSAmJiBwcm9wZXJ0aWVzLmxhYmVsICE9IG51bGwgPyBwcm9wZXJ0aWVzLmxhYmVsIDogXCJcIjtcbiAgICAgICAgbGV0IGRlc2MgPSBwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KFwiZGVzY3JpcHRpb25cIikgJiYgcHJvcGVydGllcy5kZXNjcmlwdGlvbiAhPSBudWxsID8gcHJvcGVydGllcy5kZXNjcmlwdGlvbiA6IFwiXCI7XG4gICAgICAgIGlmICghaXNEZWZpbmVkKHByb3BlcnRpZXMub25MZWZ0Q2xpY2spICYmIChuYW1lLmxlbmd0aCA+IDAgfHwgZGVzYy5sZW5ndGggPiAwKSkge1xuICAgICAgICAgICAgbWFya2VyLmJpbmRQb3B1cChuYW1lICsgJzxkaXY+JyArIGRlc2MgKyAnPC9kaXY+Jyx7XG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBMLnBvaW50KHByb3BlcnRpZXMubGFiZWxPZmZzZXRbMF0sIHByb3BlcnRpZXMubGFiZWxPZmZzZXRbMV0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hcmtlci5zZXRaSW5kZXhPZmZzZXQocHJvcGVydGllcy56SW5kZXgpO1xuICAgICAgICBtYXJrZXIuaWQgPSBwcm9wZXJ0aWVzLmlkK1wiJFwiK3Byb3BlcnRpZXMubWFya2VySWQ7XG4gICAgICAgIG1hcmtlci5hZGRUbyh0aGlzLm1hcCk7XG4gICAgICAgIGlmKHByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkocHJvcGVydGllcy5vcmllbnRhdGlvbikpIHtcbiAgICAgICAgICAgIG1hcmtlci5zZXRSb3RhdGlvbkFuZ2xlKHByb3BlcnRpZXMub3JpZW50YXRpb24uaGVhZGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWFya2VyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIHBvbHlsaW5lIHRvIHRoZSBtYXAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBhZGRQb2x5bGluZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9ucyA9IHByb3BlcnRpZXMubG9jYXRpb25zW3Byb3BlcnRpZXMucG9seWxpbmVJZF07XG4gICAgICAgIGxldCBwb2x5bGluZVBvaW50cyA9IFtdO1xuXG4gICAgICAgIGlmKGlzRGVmaW5lZChsb2NhdGlvbnMpICYmIGxvY2F0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2F0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHBvbHlsaW5lUG9pbnRzLnB1c2gobmV3IEwuTGF0TG5nKFxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbnNbaV0ueSxcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25zW2ldLngpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vY3JlYXRlIHBhdGhcbiAgICAgICAgbGV0IHBvbHlsaW5lID0gbmV3IEwuUG9seWxpbmUocG9seWxpbmVQb2ludHMsIHtcbiAgICAgICAgICAgIGNvbG9yOiBwcm9wZXJ0aWVzLmNvbG9yLFxuICAgICAgICAgICAgd2VpZ2h0OiBwcm9wZXJ0aWVzLndlaWdodCxcbiAgICAgICAgICAgIG9wYWNpdHk6IHByb3BlcnRpZXMub3BhY2l0eSxcbiAgICAgICAgICAgIHNtb290aEZhY3RvcjogcHJvcGVydGllcy5zbW9vdGhGYWN0b3JcbiAgICAgICAgfSkuYWRkVG8odGhpcy5tYXApO1xuXG4gICAgICAgIHJldHVybiBwb2x5bGluZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBtYXJrZXIgYXNzb2NpYXRlZCB0byB0aGUgbGF5ZXIuXG4gICAgICogQHBhcmFtIHtQb2ludE1hcmtlckxheWVyLnByb3BzfSBwcm9wcyAtIFRoZSBsYXllciBwcm9wZXJ0aWVzIGFsbG93aW5nIHRoZSB1cGRhdGUgb2YgdGhlIG1hcmtlclxuICAgICAqL1xuICAgIGFzeW5jIHVwZGF0ZU1hcmtlcihwcm9wcykge1xuICAgICAgICBsZXQgbWFya2VyID0gdGhpcy5nZXRNYXJrZXIocHJvcHMpO1xuICAgICAgICBpZiAoIWlzRGVmaW5lZChtYXJrZXIpKSB7XG4gICAgICAgICAgICAvLyBhZGRzIGEgbmV3IG1hcmtlciB0byB0aGUgbGVhZmxldCByZW5kZXJlclxuICAgICAgICAgICAgbWFya2VyID0gdGhpcy5hZGRNYXJrZXIocHJvcHMpO1xuICAgICAgICAgICAgdGhpcy5hZGRNYXJrZXJUb0xheWVyKHByb3BzLCBtYXJrZXIpO1xuICAgICAgICAgICAgY29uc3QgbUlkID0gcHJvcHMubWFya2VySWQ7IC8vbmVlZCB0byBmcmVlemVcbiAgICAgICAgICAgIG1hcmtlci5vbignY2xpY2snLCAoZXZlbnQpID0+IHRoaXMub25NYXJrZXJMZWZ0Q2xpY2sobUlkLG1hcmtlciwgcHJvcHMsIGV2ZW50KSk7XG4gICAgICAgICAgICBtYXJrZXIub24oJ2NvbnRleHRtZW51JywgKGV2ZW50KSA9PiB0aGlzLm9uTWFya2VyUmlnaHRDbGljayhtSWQsbWFya2VyLCBwcm9wcywgZXZlbnQpKTtcbiAgICAgICAgICAgIG1hcmtlci5vbignbW91c2VvdmVyJywgKGV2ZW50KSA9PiB0aGlzLm9uTWFya2VySG92ZXIobUlkLG1hcmtlciwgcHJvcHMsIGV2ZW50KSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgdGhlIGN1cnJlbnQgbWFya2VyIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGN1cnJlbnQgbWFya2VySWQgdmFsdWUgb2YgdGhlIFBvaW50TWFya2VyXG4gICAgICAgIC8vIHVwZGF0ZXMgcG9zaXRpb25cbiAgICAgICAgbGV0IGxvbiA9IHByb3BzLmxvY2F0aW9uLng7XG4gICAgICAgIGxldCBsYXQgPSBwcm9wcy5sb2NhdGlvbi55O1xuXG4gICAgICAgIGlmICghaXNOYU4obG9uKSAmJiAhaXNOYU4obGF0KSkge1xuICAgICAgICAgICAgbGV0IG5ld0xhdExuZyA9IG5ldyBMLkxhdExuZyhsYXQsIGxvbik7XG4gICAgICAgICAgICBtYXJrZXIuc2V0TGF0TG5nKG5ld0xhdExuZyk7XG4gICAgICAgICAgICBpZigodGhpcy5maXJzdCAmJiB0aGlzLmF1dG9ab29tT25GaXJzdE1hcmtlcikgfHwgdGhpcy5mb2xsb3cpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXJrZXJCb3VuZHMgPSBMLmxhdExuZ0JvdW5kcyhbbmV3TGF0TG5nIF0pO1xuICAgICAgICAgICAgICAgIHRoaXMubWFwLmZpdEJvdW5kcyhtYXJrZXJCb3VuZHMsIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4Wm9vbTogcHJvcHMuem9vbUxldmVsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5maXJzdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlcyBvcmllbnRhdGlvblxuICAgICAgICBpZihpc0RlZmluZWQocHJvcHMub3JpZW50YXRpb24pKSB7XG4gICAgICAgICAgICBtYXJrZXIuc2V0Um90YXRpb25BbmdsZShwcm9wcy5vcmllbnRhdGlvbi5oZWFkaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9wcy5pY29uICE9PSBudWxsICYmIG1hcmtlci5faWNvbi5pY29uVXJsICE9PSBwcm9wcy5pY29uKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGVzIGljb25cbiAgICAgICAgICAgIGxldCBtYXJrZXJJY29uID0gTC5pY29uKHtcbiAgICAgICAgICAgICAgICBpY29uQW5jaG9yOiBwcm9wcy5pY29uQW5jaG9yLFxuICAgICAgICAgICAgICAgIGljb25Vcmw6IHByb3BzLmljb25cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbWFya2VyLnNldEljb24obWFya2VySWNvbik7XG4gICAgICAgIH1cbiAgICAgICAgbWFya2VyLnNldFpJbmRleE9mZnNldChwcm9wcy56SW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFic3RyYWN0IG1ldGhvZCB0byByZW1vdmUgYSBtYXJrZXIgZnJvbSBpdHMgY29ycmVzcG9uZGluZyBsYXllci5cbiAgICAgKiBUaGlzIGlzIGxpYnJhcnkgZGVwZW5kYW50LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXJrZXIgLSBUaGUgTWFwIG1hcmtlciBvYmplY3RcbiAgICAgKi9cbiAgICByZW1vdmVNYXJrZXJGcm9tTGF5ZXIobWFya2VyKSB7XG4gICAgICAgIHRoaXMubWFwLnJlbW92ZUxheWVyKG1hcmtlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWJzdHJhY3QgbWV0aG9kIHRvIHJlbW92ZSBhIHBvbHlsaW5lIGZyb20gaXRzIGNvcnJlc3BvbmRpbmcgbGF5ZXIuXG4gICAgICogVGhpcyBpcyBsaWJyYXJ5IGRlcGVuZGFudC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9seWxpbmUgLSBUaGUgTWFwIHBvbHlsaW5lIG9iamVjdFxuICAgICAqL1xuICAgIHJlbW92ZVBvbHlsaW5lRnJvbUxheWVyKHBvbHlsaW5lKSB7XG4gICAgICAgIHRoaXMubWFwLnJlbW92ZUxheWVyKHBvbHlsaW5lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBwb2x5bGluZSBhc3NvY2lhdGVkIHRvIHRoZSBsYXllci5cbiAgICAgKiBAcGFyYW0ge1BvbHlsaW5lTGF5ZXIucHJvcHN9IHByb3BzIC0gVGhlIGxheWVyIHByb3BlcnRpZXMgYWxsb3dpbmcgdGhlIHVwZGF0ZSBvZiB0aGUgcG9seWxpbmVcbiAgICAgKi9cbiAgICBhc3luYyB1cGRhdGVQb2x5bGluZShwcm9wcykge1xuICAgICAgICBsZXQgcG9seWxpbmUgPSB0aGlzLmdldFBvbHlsaW5lKHByb3BzKTtcbiAgICAgICAgaWYgKCFpc0RlZmluZWQocG9seWxpbmUpKSB7XG4gICAgICAgICAgICAvLyBhZGRzIGEgbmV3IHBvbHlnb24gdG8gdGhlIGxlYWZsZXQgcmVuZGVyZXJcbiAgICAgICAgICAgIGNvbnN0IHBvbHlsaW5lT2JqID0gdGhpcy5hZGRQb2x5bGluZShwcm9wcyk7XG4gICAgICAgICAgICB0aGlzLmFkZFBvbHlsaW5lVG9MYXllcihwcm9wcywgcG9seWxpbmVPYmopO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHBvbHlsaW5lUG9pbnRzID0gW107XG4gICAgICAgICAgICBjb25zdCBsb2NhdGlvbnMgPSBwcm9wcy5sb2NhdGlvbnNbcHJvcHMucG9seWxpbmVJZF07XG5cbiAgICAgICAgICAgIGlmKGlzRGVmaW5lZChsb2NhdGlvbnMpICYmIGxvY2F0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcG9seWxpbmVQb2ludHMucHVzaChuZXcgTC5MYXRMbmcoXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbnNbaV0ueSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uc1tpXS54KVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvbHlsaW5lLnNldExhdExuZ3MocG9seWxpbmVQb2ludHMpO1xuXG4gICAgICAgICAgICAvLyB1cGRhdGUgc3R5bGVcbiAgICAgICAgICAgIHBvbHlsaW5lLnNldFN0eWxlKHtcbiAgICAgICAgICAgICAgICBjb2xvcjogcHJvcHMuY29sb3IsXG4gICAgICAgICAgICAgICAgd2VpZ2h0OiBwcm9wcy53ZWlnaHQsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogcHJvcHMub3BhY2l0eVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBwb2x5Z29uIGFzc29jaWF0ZWQgdG8gdGhlIGxheWVyLlxuICAgICAqIEBwYXJhbSB7UG9seWdvbi5wcm9wc30gcHJvcHMgLSBUaGUgbGF5ZXIgcHJvcGVydGllcyBhbGxvd2luZyB0aGUgdXBkYXRlIG9mIHRoZSBwb2x5Z29uXG4gICAgICovXG4gICAgYXN5bmMgdXBkYXRlUG9seWdvbihwcm9wcykge1xuICAgICAgICBsZXQgcG9seWdvbiA9IHRoaXMuZ2V0UG9seWdvbihwcm9wcyk7XG4gICAgICAgIGlmICghaXNEZWZpbmVkKHBvbHlnb24pKSB7XG4gICAgICAgICAgICAvLyBhZGRzIGEgbmV3IHBvbHlnb24gdG8gdGhlIGxlYWZsZXQgcmVuZGVyZXJcbiAgICAgICAgICAgIGNvbnN0IHBvbHlnb25PYmogPSB0aGlzLmFkZFBvbHlnb24ocHJvcHMpO1xuICAgICAgICAgICAgdGhpcy5hZGRQb2x5Z29uVG9MYXllcihwcm9wcywgcG9seWdvbk9iaik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgbG9jYXRpb25cbiAgICAgICAgICAgIGNvbnN0IHZlcnRpY2VzID0gcHJvcHMudmVydGljZXNbcHJvcHMucG9seWdvbklkXTtcblxuICAgICAgICAgICAgbGV0IHBvbHlnb25Qb2ludHMgPSBbXTtcblxuICAgICAgICAgICAgaWYoaXNEZWZpbmVkKHZlcnRpY2VzKSAmJiB2ZXJ0aWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGggLSAxOyBpID0gaSArIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxhdExvbiA9IG5ldyBMLkxhdExuZyh2ZXJ0aWNlc1tpICsgMSBdLCB2ZXJ0aWNlc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIHBvbHlnb25Qb2ludHMucHVzaChbbGF0TG9uLmxhdCxsYXRMb24ubG5nXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9seWdvbi5zZXRMYXRMbmdzKHBvbHlnb25Qb2ludHMpO1xuXG4gICAgICAgICAgICAvLyB1cGRhdGUgc3R5bGVcbiAgICAgICAgICAgIHBvbHlnb24uc2V0U3R5bGUoe1xuICAgICAgICAgICAgICAgIGNvbG9yOiBwcm9wcy5vdXRsaW5lQ29sb3IsXG4gICAgICAgICAgICAgICAgd2VpZ2h0OiBwcm9wcy5vdXRsaW5lV2lkdGgsXG4gICAgICAgICAgICAgICAgZmlsbENvbG9yOiBwcm9wcy5jb2xvcixcbiAgICAgICAgICAgICAgICBmaWxsIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogcHJvcHMub3BhY2l0eVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBYnN0cmFjdCBtZXRob2QgdG8gcmVtb3ZlIGEgcG9seWdvbiBmcm9tIGl0cyBjb3JyZXNwb25kaW5nIGxheWVyLlxuICAgICAqIFRoaXMgaXMgbGlicmFyeSBkZXBlbmRhbnQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBvbHlnb24gLSBUaGUgTWFwIHBvbHlnb24gb2JqZWN0XG4gICAgICovXG4gICAgcmVtb3ZlUG9seWdvbkZyb21MYXllcihwb2x5Z29uKSB7XG4gICAgICAgIHRoaXMubWFwLnJlbW92ZUxheWVyKHBvbHlnb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIHBvbHlnb24gdG8gdGhlIG1hcC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllc1xuICAgICAqL1xuICAgIGFkZFBvbHlnb24ocHJvcGVydGllcykge1xuICAgICAgICBjb25zdCB2ZXJ0aWNlcyA9IHByb3BlcnRpZXMudmVydGljZXNbcHJvcGVydGllcy5wb2x5Z29uSWRdO1xuXG4gICAgICAgIGxldCBwb2x5Z29uUG9pbnRzID0gW107XG5cbiAgICAgICAgaWYoaXNEZWZpbmVkKHZlcnRpY2VzKSAmJiB2ZXJ0aWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRpY2VzLmxlbmd0aCAtIDE7IGkgPSBpICsgMikge1xuICAgICAgICAgICAgICAgIGxldCBsYXRMb24gPSBuZXcgTC5MYXRMbmcodmVydGljZXNbaSArIDEgXSwgdmVydGljZXNbaV0pO1xuICAgICAgICAgICAgICAgIHBvbHlnb25Qb2ludHMucHVzaChbbGF0TG9uLmxhdCxsYXRMb24ubG5nXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvL2NyZWF0ZSBwb2x5Z29uXG4gICAgICAgIGxldCBwb2x5Z29uID0gbmV3IEwucG9seWdvbihwb2x5Z29uUG9pbnRzLCB7XG4gICAgICAgICAgICBjb2xvcjogcHJvcGVydGllcy5vdXRsaW5lQ29sb3IsXG4gICAgICAgICAgICB3ZWlnaHQ6IHByb3BlcnRpZXMub3V0bGluZVdpZHRoLFxuICAgICAgICAgICAgZmlsbENvbG9yOiBwcm9wZXJ0aWVzLmNvbG9yLFxuICAgICAgICAgICAgZmlsbCA6IHRydWUsXG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogcHJvcGVydGllcy5vcGFjaXR5XG4gICAgICAgIH0pLmFkZFRvKHRoaXMubWFwKTtcbiAgICAgICAgcmV0dXJuIHBvbHlnb247XG4gICAgfVxuXG4gICAgYXR0YWNoVG8ocGFyZW50RWxlbWVudCkge1xuICAgICAgICBzdXBlci5hdHRhY2hUbyhwYXJlbnRFbGVtZW50KTtcbiAgICAgICAgLy8gRml4IGxlYWZsZXQgYnVnIHdoZW4gcmVzaXppbmcgdGhlIGRpdiBwYXJlbnQgY29udGFpbmVyXG4gICAgICAgIHRoaXMubWFwLmludmFsaWRhdGVTaXplKCk7XG4gICAgfVxuXG4gICAgb25SZXNpemUoKSB7XG4gICAgICAgIHN1cGVyLm9uUmVzaXplKCk7XG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpeyB0aGF0Lm1hcC5pbnZhbGlkYXRlU2l6ZSgpfSwgMTAwKTtcblxuICAgIH1cblxuICAgIG9uQ2hhbmdlKGRhdGEpIHt9XG59XG5cbi8qKiogIGxpdHRsZSBoYWNrIHN0YXJ0cyBoZXJlICoqKi9cblxuTC5NYXAgPSBMLk1hcC5leHRlbmQoe1xuICAgIG9wZW5Qb3B1cDogZnVuY3Rpb24gKHBvcHVwKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwID0gcG9wdXA7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZExheWVyKHBvcHVwKS5maXJlKCdwb3B1cG9wZW4nLCB7XG4gICAgICAgICAgICBwb3B1cDogdGhpcy5fcG9wdXBcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cbi8vIERlZmluZXMgcm90YXRlZCBtYXJrZXJcbihmdW5jdGlvbiAoKSB7XG4gICAgLy8gc2F2ZSB0aGVzZSBvcmlnaW5hbCBtZXRob2RzIGJlZm9yZSB0aGV5IGFyZSBvdmVyd3JpdHRlblxuICAgIGxldCBwcm90b19pbml0SWNvbiA9IEwuTWFya2VyLnByb3RvdHlwZS5faW5pdEljb247XG4gICAgbGV0IHByb3RvX3NldFBvcyA9IEwuTWFya2VyLnByb3RvdHlwZS5fc2V0UG9zO1xuXG4gICAgbGV0IG9sZElFID0gKEwuRG9tVXRpbC5UUkFOU0ZPUk0gPT09ICdtc1RyYW5zZm9ybScpO1xuXG4gICAgTC5NYXJrZXIuYWRkSW5pdEhvb2soZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgaWNvbkFuY2hvciA9IHRoaXMub3B0aW9ucy5pY29uLm9wdGlvbnMuaWNvbkFuY2hvcjtcbiAgICAgICAgaWYgKGljb25BbmNob3IpIHtcbiAgICAgICAgICAgIGljb25BbmNob3IgPSAoaWNvbkFuY2hvclswXSArICdweCAnICsgaWNvbkFuY2hvclsxXSArICdweCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3B0aW9ucy5yb3RhdGlvbk9yaWdpbiA9IHRoaXMub3B0aW9ucy5yb3RhdGlvbk9yaWdpbiB8fCBpY29uQW5jaG9yIHx8ICdjZW50ZXIgYm90dG9tJztcbiAgICAgICAgdGhpcy5vcHRpb25zLnJvdGF0aW9uQW5nbGUgPSB0aGlzLm9wdGlvbnMucm90YXRpb25BbmdsZSB8fCAwO1xuICAgIH0pO1xuXG4gICAgTC5NYXJrZXIuaW5jbHVkZSh7XG4gICAgICAgIF9pbml0SWNvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcHJvdG9faW5pdEljb24uY2FsbCh0aGlzKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfc2V0UG9zOiBmdW5jdGlvbiAocG9zKSB7XG4gICAgICAgICAgICBwcm90b19zZXRQb3MuY2FsbCh0aGlzLCBwb3MpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnJvdGF0aW9uQW5nbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pY29uLnN0eWxlW0wuRG9tVXRpbC5UUkFOU0ZPUk0gKyAnT3JpZ2luJ10gPSB0aGlzLm9wdGlvbnMucm90YXRpb25PcmlnaW47XG5cbiAgICAgICAgICAgICAgICBpZiAob2xkSUUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZm9yIElFIDksIHVzZSB0aGUgMkQgcm90YXRpb25cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faWNvbi5zdHlsZVtMLkRvbVV0aWwuVFJBTlNGT1JNXSA9ICcgcm90YXRlKCcgKyB0aGlzLm9wdGlvbnMucm90YXRpb25BbmdsZSArICdkZWcpJztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBmb3IgbW9kZXJuIGJyb3dzZXJzLCBwcmVmZXIgdGhlIDNEIGFjY2VsZXJhdGVkIHZlcnNpb25cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faWNvbi5zdHlsZVtMLkRvbVV0aWwuVFJBTlNGT1JNXSArPSAnIHJvdGF0ZVooJyArIHRoaXMub3B0aW9ucy5yb3RhdGlvbkFuZ2xlICsgJ2RlZyknO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBzZXRSb3RhdGlvbkFuZ2xlOiBmdW5jdGlvbiAoYW5nbGUpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5yb3RhdGlvbkFuZ2xlID0gYW5nbGU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0Um90YXRpb25PcmlnaW46IGZ1bmN0aW9uIChvcmlnaW4pIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5yb3RhdGlvbk9yaWdpbiA9IG9yaWdpbjtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH0pO1xufSkoKTtcblxuXG4vKioqICBlbmQgb2YgaGFjayAqKiovXG5cbmV4cG9ydCBkZWZhdWx0ICBMZWFmbGV0VmlldztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///22\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/utils/Utils.js\nvar Utils = __webpack_require__(0);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/ui/layer/Layer.js\nvar Layer = __webpack_require__(5);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/ui/layer/BinaryDataLayer.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2022 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * @extends Layer\n * @example\n *\n * import BinaryDataLayer from \'osh-js/core/ui/layer/BinaryDataLayer\';\n *\n */\n\nclass BinaryDataLayer_BinaryDataLayer extends Layer["a" /* default */] {\n  constructor(properties) {\n    super(properties);\n    this.type = \'binaryData\';\n    this.props.dataId = Object(Utils["m" /* randomUUID */])();\n    this.props.frameData = undefined;\n\n    if (Object(Utils["k" /* isDefined */])(properties.frameData)) {\n      this.props.frameData = properties.frameData;\n    }\n\n    let that = this;\n\n    if (Object(Utils["k" /* isDefined */])(properties.getFrameData)) {\n      let fn = async rec => {\n        that.props.frameData = await that.getFunc(\'getFrameData\')(rec);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getFrameData\'), fn);\n    }\n\n    this.saveState();\n  }\n\n}\n\n/* harmony default export */ var layer_BinaryDataLayer = (BinaryDataLayer_BinaryDataLayer);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/ui/layer/VideoDataLayer.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2022 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * @extends BinaryDataLayer\n * @example\n *\n * import VideoDataLayer from \'osh-js/core/ui/layer/VideoDataLayer\';\n *\n */\n\nclass VideoDataLayer_VideoDataLayer extends layer_BinaryDataLayer {\n  constructor(properties) {\n    super(properties);\n    this.type = \'videoData\';\n    this.props.roll = 0;\n\n    if (Object(Utils["k" /* isDefined */])(properties.roll)) {\n      this.props.roll = properties.roll;\n    }\n\n    let that = this;\n\n    if (Object(Utils["k" /* isDefined */])(properties.getRoll)) {\n      let fn = async rec => {\n        that.props.roll = await that.getFunc(\'getRoll\')(rec);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getRoll\'), fn);\n    }\n\n    this.saveState();\n  }\n\n}\n\n/* harmony default export */ var layer_VideoDataLayer = __webpack_exports__["a"] = (VideoDataLayer_VideoDataLayer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91aS9sYXllci9CaW5hcnlEYXRhTGF5ZXIuanM/MzMzYyIsIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91aS9sYXllci9WaWRlb0RhdGFMYXllci5qcz9kZjZhIl0sIm5hbWVzIjpbIkJpbmFyeURhdGFMYXllciIsIkxheWVyIiwiY29uc3RydWN0b3IiLCJwcm9wZXJ0aWVzIiwidHlwZSIsInByb3BzIiwiZGF0YUlkIiwicmFuZG9tVVVJRCIsImZyYW1lRGF0YSIsInVuZGVmaW5lZCIsImlzRGVmaW5lZCIsInRoYXQiLCJnZXRGcmFtZURhdGEiLCJmbiIsInJlYyIsImdldEZ1bmMiLCJhZGRGbiIsImdldERhdGFTb3VyY2VzSWRzQnlQcm9wZXJ0eSIsInNhdmVTdGF0ZSIsIlZpZGVvRGF0YUxheWVyIiwicm9sbCIsImdldFJvbGwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLE1BQU1BLCtCQUFOLFNBQThCQyx3QkFBOUIsQ0FBb0M7QUFFaENDLGFBQVcsQ0FBQ0MsVUFBRCxFQUFhO0FBQ3BCLFVBQU1BLFVBQU47QUFDQSxTQUFLQyxJQUFMLEdBQVksWUFBWjtBQUNBLFNBQUtDLEtBQUwsQ0FBV0MsTUFBWCxHQUFvQkMsbUNBQVUsRUFBOUI7QUFDQSxTQUFLRixLQUFMLENBQVdHLFNBQVgsR0FBdUJDLFNBQXZCOztBQUVBLFFBQUlDLGtDQUFTLENBQUNQLFVBQVUsQ0FBQ0ssU0FBWixDQUFiLEVBQW9DO0FBQ2hDLFdBQUtILEtBQUwsQ0FBV0csU0FBWCxHQUF1QkwsVUFBVSxDQUFDSyxTQUFsQztBQUNIOztBQUVELFFBQUlHLElBQUksR0FBRyxJQUFYOztBQUVBLFFBQUlELGtDQUFTLENBQUNQLFVBQVUsQ0FBQ1MsWUFBWixDQUFiLEVBQXVDO0FBQ25DLFVBQUlDLEVBQUUsR0FBRyxNQUFPQyxHQUFQLElBQWU7QUFDcEJILFlBQUksQ0FBQ04sS0FBTCxDQUFXRyxTQUFYLEdBQXVCLE1BQU1HLElBQUksQ0FBQ0ksT0FBTCxDQUFhLGNBQWIsRUFBNkJELEdBQTdCLENBQTdCO0FBQ0gsT0FGRDs7QUFHQSxXQUFLRSxLQUFMLENBQVdMLElBQUksQ0FBQ00sMkJBQUwsQ0FBaUMsY0FBakMsQ0FBWCxFQUE2REosRUFBN0Q7QUFDSDs7QUFFRCxTQUFLSyxTQUFMO0FBQ0g7O0FBdEIrQjs7QUF3QnJCbEIseUZBQWYsRTs7QUNsREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLE1BQU1tQiw2QkFBTixTQUE2Qm5CLHFCQUE3QixDQUE2QztBQUV6Q0UsYUFBVyxDQUFDQyxVQUFELEVBQWE7QUFDcEIsVUFBTUEsVUFBTjtBQUNBLFNBQUtDLElBQUwsR0FBWSxXQUFaO0FBQ0EsU0FBS0MsS0FBTCxDQUFXZSxJQUFYLEdBQWtCLENBQWxCOztBQUVBLFFBQUlWLGtDQUFTLENBQUNQLFVBQVUsQ0FBQ2lCLElBQVosQ0FBYixFQUErQjtBQUMzQixXQUFLZixLQUFMLENBQVdlLElBQVgsR0FBa0JqQixVQUFVLENBQUNpQixJQUE3QjtBQUNIOztBQUVELFFBQUlULElBQUksR0FBRyxJQUFYOztBQUVBLFFBQUlELGtDQUFTLENBQUNQLFVBQVUsQ0FBQ2tCLE9BQVosQ0FBYixFQUFrQztBQUM5QixVQUFJUixFQUFFLEdBQUcsTUFBT0MsR0FBUCxJQUFlO0FBQ3BCSCxZQUFJLENBQUNOLEtBQUwsQ0FBV2UsSUFBWCxHQUFrQixNQUFNVCxJQUFJLENBQUNJLE9BQUwsQ0FBYSxTQUFiLEVBQXdCRCxHQUF4QixDQUF4QjtBQUNILE9BRkQ7O0FBR0EsV0FBS0UsS0FBTCxDQUFXTCxJQUFJLENBQUNNLDJCQUFMLENBQWlDLFNBQWpDLENBQVgsRUFBd0RKLEVBQXhEO0FBQ0g7O0FBRUQsU0FBS0ssU0FBTDtBQUNIOztBQXJCd0M7O0FBdUI5QkMsaUhBQWYiLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogQkVHSU4gTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuIFRoZSBjb250ZW50cyBvZiB0aGlzIGZpbGUgYXJlIHN1YmplY3QgdG8gdGhlIE1vemlsbGEgUHVibGljIExpY2Vuc2UsIHYuIDIuMC5cbiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmVcbiBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uXG5cbiBTb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgYmFzaXMsXG4gV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlXG4gZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcmlnaHRzIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuIENvcHlyaWdodCAoQykgMjAxNS0yMDIyIE1hdGhpZXUgRGhhaW5hdXQuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbiBBdXRob3I6IE1hdGhpZXUgRGhhaW5hdXQgPG1hdGhpZXUuZGhhaW5hdXRAZ21haWwuY29tPlxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCBMYXllciBmcm9tIFwiLi9MYXllci5qc1wiO1xuaW1wb3J0IHtpc0RlZmluZWQsIHJhbmRvbVVVSUR9IGZyb20gXCIuLi8uLi91dGlscy9VdGlsc1wiO1xuXG4vKipcbiAqIEBleHRlbmRzIExheWVyXG4gKiBAZXhhbXBsZVxuICpcbiAqIGltcG9ydCBCaW5hcnlEYXRhTGF5ZXIgZnJvbSAnb3NoLWpzL2NvcmUvdWkvbGF5ZXIvQmluYXJ5RGF0YUxheWVyJztcbiAqXG4gKi9cbmNsYXNzIEJpbmFyeURhdGFMYXllciBleHRlbmRzIExheWVyIHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BlcnRpZXMpIHtcbiAgICAgICAgc3VwZXIocHJvcGVydGllcyk7XG4gICAgICAgIHRoaXMudHlwZSA9ICdiaW5hcnlEYXRhJztcbiAgICAgICAgdGhpcy5wcm9wcy5kYXRhSWQgPSByYW5kb21VVUlEKCk7XG4gICAgICAgIHRoaXMucHJvcHMuZnJhbWVEYXRhID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChpc0RlZmluZWQocHJvcGVydGllcy5mcmFtZURhdGEpKXtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZnJhbWVEYXRhID0gcHJvcGVydGllcy5mcmFtZURhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgaWYgKGlzRGVmaW5lZChwcm9wZXJ0aWVzLmdldEZyYW1lRGF0YSkpe1xuICAgICAgICAgICAgbGV0IGZuID0gYXN5bmMgKHJlYykgPT4ge1xuICAgICAgICAgICAgICAgIHRoYXQucHJvcHMuZnJhbWVEYXRhID0gYXdhaXQgdGhhdC5nZXRGdW5jKCdnZXRGcmFtZURhdGEnKShyZWMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYWRkRm4odGhhdC5nZXREYXRhU291cmNlc0lkc0J5UHJvcGVydHkoJ2dldEZyYW1lRGF0YScpLCBmbik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNhdmVTdGF0ZSgpO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IEJpbmFyeURhdGFMYXllcjtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSwgdi4gMi4wLlxuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZVxuIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cblxuIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcyxcbiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2VcbiBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyByaWdodHMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4gQ29weXJpZ2h0IChDKSAyMDE1LTIwMjIgTWF0aGlldSBEaGFpbmF1dC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuIEF1dGhvcjogTWF0aGlldSBEaGFpbmF1dCA8bWF0aGlldS5kaGFpbmF1dEBnbWFpbC5jb20+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHtpc0RlZmluZWR9IGZyb20gXCIuLi8uLi91dGlscy9VdGlsc1wiO1xuaW1wb3J0IEJpbmFyeURhdGFMYXllciBmcm9tIFwiLi9CaW5hcnlEYXRhTGF5ZXJcIjtcblxuLyoqXG4gKiBAZXh0ZW5kcyBCaW5hcnlEYXRhTGF5ZXJcbiAqIEBleGFtcGxlXG4gKlxuICogaW1wb3J0IFZpZGVvRGF0YUxheWVyIGZyb20gJ29zaC1qcy9jb3JlL3VpL2xheWVyL1ZpZGVvRGF0YUxheWVyJztcbiAqXG4gKi9cbmNsYXNzIFZpZGVvRGF0YUxheWVyIGV4dGVuZHMgQmluYXJ5RGF0YUxheWVyIHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BlcnRpZXMpIHtcbiAgICAgICAgc3VwZXIocHJvcGVydGllcyk7XG4gICAgICAgIHRoaXMudHlwZSA9ICd2aWRlb0RhdGEnO1xuICAgICAgICB0aGlzLnByb3BzLnJvbGwgPSAwO1xuXG4gICAgICAgIGlmIChpc0RlZmluZWQocHJvcGVydGllcy5yb2xsKSl7XG4gICAgICAgICAgICB0aGlzLnByb3BzLnJvbGwgPSBwcm9wZXJ0aWVzLnJvbGw7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgaWYgKGlzRGVmaW5lZChwcm9wZXJ0aWVzLmdldFJvbGwpKXtcbiAgICAgICAgICAgIGxldCBmbiA9IGFzeW5jIChyZWMpID0+IHtcbiAgICAgICAgICAgICAgICB0aGF0LnByb3BzLnJvbGwgPSBhd2FpdCB0aGF0LmdldEZ1bmMoJ2dldFJvbGwnKShyZWMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYWRkRm4odGhhdC5nZXREYXRhU291cmNlc0lkc0J5UHJvcGVydHkoJ2dldFJvbGwnKSwgZm4pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zYXZlU3RhdGUoKTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBWaWRlb0RhdGFMYXllcjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///23\n')},,,,,,,function(module,exports,__webpack_require__){eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(31);\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(4).default\nvar update = add(\"759d7ef5\", content, false, {});\n// Hot Module Replacement\nif(false) {}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9yZXNvdXJjZXMvY3NzL3ZpZXcuY3NzPzM5ZjEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQSxjQUFjLG1CQUFPLENBQUMsRUFBc0c7QUFDNUg7QUFDQSw0Q0FBNEMsUUFBUztBQUNyRDtBQUNBO0FBQ0EsVUFBVSxtQkFBTyxDQUFDLENBQTJHO0FBQzdILCtDQUErQztBQUMvQztBQUNBLEdBQUcsS0FBVSxFQUFFIiwiZmlsZSI6IjMwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL2RlbW9zL3ZpZGVvLWRpc3BsYXkvdmlkZW8tZGlzcGxheS12dWVqcy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3ZpZXcuY3NzXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL2RlbW9zL3ZpZGVvLWRpc3BsYXkvdmlkZW8tZGlzcGxheS12dWVqcy9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCI3NTlkN2VmNVwiLCBjb250ZW50LCBmYWxzZSwge30pO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuIC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG4gaWYoIWNvbnRlbnQubG9jYWxzKSB7XG4gICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vZGVtb3MvdmlkZW8tZGlzcGxheS92aWRlby1kaXNwbGF5LXZ1ZWpzL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vdmlldy5jc3NcIiwgZnVuY3Rpb24oKSB7XG4gICAgIHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vZGVtb3MvdmlkZW8tZGlzcGxheS92aWRlby1kaXNwbGF5LXZ1ZWpzL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vdmlldy5jc3NcIik7XG4gICAgIGlmKG5ld0NvbnRlbnQuX19lc01vZHVsZSkgbmV3Q29udGVudCA9IG5ld0NvbnRlbnQuZGVmYXVsdDtcbiAgICAgaWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG4gICAgIHVwZGF0ZShuZXdDb250ZW50KTtcbiAgIH0pO1xuIH1cbiAvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG4gbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///30\n")},function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(3);\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, ".osh-view {\\n    width:100%;\\n    height: 100%;\\n}\\n", ""]);\n// Exports\nmodule.exports = exports;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9yZXNvdXJjZXMvY3NzL3ZpZXcuY3NzPzE1ZGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxrQ0FBa0MsbUJBQU8sQ0FBQyxDQUFpRztBQUMzSTtBQUNBO0FBQ0EsY0FBYyxRQUFTLGNBQWMsaUJBQWlCLG1CQUFtQixHQUFHO0FBQzVFO0FBQ0EiLCJmaWxlIjoiMzEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2RlbW9zL3ZpZGVvLWRpc3BsYXkvdmlkZW8tZGlzcGxheS12dWVqcy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5vc2gtdmlldyB7XFxuICAgIHdpZHRoOjEwMCU7XFxuICAgIGhlaWdodDogMTAwJTtcXG59XFxuXCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///31\n')}]]);