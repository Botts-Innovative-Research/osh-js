(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* unused harmony export MAX_LONG */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return isDefined; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return hasValue; });\n/* unused harmony export hasType */\n/* unused harmony export isObject */\n/* unused harmony export isArray */\n/* unused harmony export isFunction */\n/* unused harmony export assertDefined */\n/* unused harmony export assertType */\n/* unused harmony export assertBoolean */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return assertString; });\n/* unused harmony export assertNumber */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return assertPositive; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return assertObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return assertArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return assertFunction; });\n/* unused harmony export assertHasValue */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return randomUUID; });\n/* unused harmony export stampUUID */\n/* unused harmony export ParseBytes */\n/* unused harmony export ReadData */\n/* unused harmony export GetResultObject */\n/* unused harmony export isOpera */\n/* unused harmony export isFirefox */\n/* unused harmony export isSafari */\n/* unused harmony export isChrome */\n/* unused harmony export isBlink */\n/* unused harmony export isArrayIntersect */\n/* unused harmony export isElement */\n/* unused harmony export isWebWorker */\n/* unused harmony export takeScreenShot */\n/* unused harmony export removeCss */\n/* unused harmony export addCss */\n/* unused harmony export removeLastCharIfExist */\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n/** * @module Utils */\n\n/** Maximum value of a long */\nconst MAX_LONG = Math.pow(2, 53) + 1;\n/**\n * Global helper method to test if a letiable or object attribute is defined\n */\n\nfunction isDefined(v) {\n  return typeof v !== \'undefined\' && v !== null;\n}\n/**\n Global helper method to test if a letiable or object attribute has a value,\n that is it is defined and non null\n */\n\nfunction hasValue(v) {\n  return isDefined(v) && v !== null;\n}\n/**\n Global helper method to test if a letiable or object attribute is of a particular type\n */\n\nfunction hasType(v, expectedType) {\n  let hasVal = hasValue(v);\n  return hasVal && typeof v === expectedType;\n}\n/**\n Global helper method to test if a letiable or object attribute is an object\n */\n\nfunction isObject(v, letName) {\n  return hasType(v, \'object\', letName);\n}\n/**\n Global helper method to test if a letiable or object attribute is an array\n */\n\nfunction isArray(v) {\n  return isDefined(v) && Array.isArray(v);\n}\n/**\n Global helper method to test if a letiable or object attribute is a function\n */\n\nfunction isFunction(v, letName) {\n  return hasType(v, \'function\', letName);\n}\n/**\n Assert that a letiable or object attribute is defined\n **/\n\nfunction assertDefined(v, letName = \'letiable\') {\n  if (!isDefined(v)) {\n    throw letName + " must be defined";\n  }\n\n  return v;\n}\n/**\n Assert that a letiable or object attribute is defined and non-null\n **/\n\nfunction assertType(v, expectedType, letName = \'letiable\') {\n  assertDefined(v, letName);\n\n  if (typeof v !== expectedType) {\n    throw letName + " must be of type " + expectedType;\n  }\n\n  return v;\n}\n/**\n Assert that a letiable or object attribute is a string\n **/\n\nfunction assertBoolean(v, letName) {\n  return assertType(v, \'boolean\', letName);\n}\n/**\n Assert that a letiable or object attribute is a string\n **/\n\nfunction assertString(v, letName) {\n  return assertType(v, \'string\', letName);\n}\n/**\n Assert that a letiable or object attribute is a number\n **/\n\nfunction assertNumber(v, letName) {\n  return assertType(v, \'number\', letName);\n}\n/**\n Assert that a letiable or object attribute is a number\n **/\n\nfunction assertPositive(v, letName) {\n  assertNumber(v, letName);\n\n  if (v <= 0) {\n    throw letName + " must be a positive number";\n  }\n}\n/**\n Assert that a letiable or object attribute is an object\n **/\n\nfunction assertObject(v, letName) {\n  return assertType(v, \'object\', letName);\n}\n/**\n Assert that a letiable or object attribute is an object\n **/\n\nfunction assertArray(v, letName = \'letiable\') {\n  assertDefined(v, letName);\n\n  if (!Array.isArray(v)) {\n    throw letName + " must be an array";\n  }\n\n  return v;\n}\n/**\n Assert that a letiable or object attribute is a function\n **/\n\nfunction assertFunction(v, letName) {\n  return assertType(v, \'function\', letName);\n}\n/**\n Assert that a letiable or object attribute is defined and non-null\n **/\n\nfunction assertHasValue(v, letName = \'letiable\') {\n  assertDefined(v, letName);\n\n  if (!hasValue(v)) {\n    throw letName + " must not be null";\n  }\n\n  return v;\n}\n/**\n *\n * @return {String}\n */\n\nfunction randomUUID() {\n  return \'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\'.replace(/[xy]/g, function (c) {\n    let r = Math.random() * 16 | 0,\n        v = c === \'x\' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\n/**\n * This function stamps/embeds a UUID into an object and returns the UUID generated for it\n * @return {String}\n */\n\nfunction stampUUID(obj) {\n  obj._osh_id = obj._osh_id || randomUUID();\n  return obj._osh_id;\n} //buffer is an ArrayBuffer object, the offset if specified in bytes, and the type is a string\n//corresponding to an OGC data type.\n//See http://def.seegrid.csiro.au/sissvoc/ogc-def/resource?uri=http://www.opengis.net/def/dataType/OGC/0/\n\n/**\n *\n * @param buffer\n * @param offset\n * @param type\n * @return {*}\n */\n\nfunction ParseBytes(buffer, offset, type) {\n  let view = new DataView(buffer); //Note: There exist types not listed in the map below that have OGC definitions, but no appropriate\n  //methods or corresponding types available for parsing in javascript. They are float128, float16, signedLong,\n  //and unsignedLong\n\n  let typeMap = {\n    double: function (offset) {\n      return {\n        val: view.getFloat64(offset),\n        bytes: 8\n      };\n    },\n    float64: function (offset) {\n      return {\n        val: view.getFloat64(offset),\n        bytes: 8\n      };\n    },\n    float32: function (offset) {\n      return {\n        val: view.getFloat32(offset),\n        bytes: 4\n      };\n    },\n    signedByte: function (offset) {\n      return {\n        val: view.getInt8(offset),\n        bytes: 1\n      };\n    },\n    signedInt: function (offset) {\n      return {\n        val: view.getInt32(offset),\n        bytes: 4\n      };\n    },\n    signedShort: function (offset) {\n      return {\n        val: view.getInt16(offset),\n        bytes: 2\n      };\n    },\n    unsignedByte: function (offset) {\n      return {\n        val: view.getUint8(offset),\n        bytes: 1\n      };\n    },\n    unsignedInt: function (offset) {\n      return {\n        val: view.getUint32(offset),\n        bytes: 4\n      };\n    },\n    unsignedShort: function (offset) {\n      return {\n        val: view.getUint16(offset),\n        bytes: 2\n      };\n    } //TODO: string-utf-8:\n\n  };\n  return typeMap[type](offset);\n} //This function recursivley iterates over the resultStructure to fill in\n//values read from data which should be an ArrayBuffer containing the payload from a websocket\n\n/**\n *\n * @param struct\n * @param data\n * @param offsetBytes\n * @return {*}\n */\n\nfunction ReadData(struct, data, offsetBytes) {\n  let offset = offsetBytes;\n\n  for (let i = 0; i < struct.fields.length; i++) {\n    let currFieldStruct = struct.fields[i];\n\n    if (isDefined(currFieldStruct.type) && currFieldStruct.type !== null) {\n      let ret = ParseBytes(data, offset, currFieldStruct.type);\n      currFieldStruct.val = ret.val;\n      offset += ret.bytes;\n    } else if (isDefined(currFieldStruct.count) && currFieldStruct.count !== null) {\n      //check if count is a reference to another letiable\n      if (isNaN(currFieldStruct.count)) {\n        let id = currFieldStruct.count;\n        let fieldName = struct.id2FieldMap[id];\n        currFieldStruct.count = struct.findFieldByName(fieldName).val;\n      }\n\n      for (let c = 0; c < currFieldStruct.count; c++) {\n        for (let j = 0; j < currFieldStruct.fields.length; j++) {\n          let field = JSON.parse(JSON.stringify(currFieldStruct.fields[j]));\n          offset = ReadData(field, data, offset);\n          currFieldStruct.val.push(field);\n        }\n      }\n    }\n  }\n\n  return offset;\n}\n/**\n *\n * @param resultStructure\n * @return {{}}\n */\n\nfunction GetResultObject(resultStructure) {\n  //TODO: handle cases for nested arrays / matrix data types\n  let result = {};\n\n  for (let i = 0; i < resultStructure.fields.length; i++) {\n    if (isDefined(resultStructure.fields[i].count)) {\n      result[resultStructure.fields[i].name] = [];\n\n      for (let c = 0; c < resultStructure.fields[i].count; c++) {\n        let item = {};\n\n        for (let k = 0; k < resultStructure.fields[i].val[c].fields.length; k++) {\n          item[resultStructure.fields[i].val[c].fields[k].name] = resultStructure.fields[i].val[c].fields[k].val;\n        }\n\n        result[resultStructure.fields[i].name].push(item);\n      }\n    } else {\n      result[resultStructure.fields[i].name] = resultStructure.fields[i].val;\n    }\n  }\n\n  return result;\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isOpera() {\n  return !!window.opr && !!opr.addons || !!window.opera || navigator.userAgent.indexOf(\' OPR/\') >= 0;\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isFirefox() {\n  return typeof InstallTrigger !== \'undefined\';\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isSafari() {\n  return Object.prototype.toString.call(window.HTMLElement).indexOf(\'Constructor\') > 0;\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isChrome() {\n  return !!window.chrome && !!window.chrome.webstore;\n}\n/**\n *\n * @return {*|boolean}\n */\n\nfunction isBlink() {\n  return (isChrome || isOpera) && !!window.CSS;\n}\n/**\n *\n * @param a\n * @param b\n * @return {boolean}\n */\n\nfunction isArrayIntersect(a, b) {\n  return a.filter(function (element) {\n    return b.indexOf(element) > -1;\n  }).length > 0;\n}\n/**\n *\n * @param o\n * @return {boolean}\n */\n\nfunction isElement(o) {\n  return typeof HTMLElement === "object" ? o instanceof HTMLElement : //DOM2\n  o && typeof o === "object" && o !== null && o.nodeType === 1 && typeof o.nodeName === "string";\n}\n/**\n *\n * @return {*}\n */\n\nfunction isWebWorker() {\n  return isDefined(Worker);\n}\n/**\n *\n * @param div\n */\n\nfunction takeScreenShot(div) {}\n/**\n * Remove a css class from a the div given as argument.\n * @param div the div to remove the class from\n * @param css the css class to remove\n */\n\nfunction removeCss(div, css) {\n  let divCss = div.className;\n  css = divCss.replace(css, "");\n  div.className = css;\n}\n/**\n * Add a css class to a the div given as argument.\n * @param div the div to add the class to\n * @param css the css class to add\n */\n\nfunction addCss(div, css) {\n  div.setAttribute("class", div.className + " " + css);\n}\n/**\n * Removes the last character of a {string} object.\n * @param {string} value - The input {string}\n * @return {string} The value without the last character\n */\n\nfunction removeLastCharIfExist(value) {\n  if (!isDefined(undefined) || value === null || value.length === 0 || !value.endsWith("/")) {\n    return value;\n  }\n\n  return value.substring(0, value.length - 1);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL3V0aWxzL1V0aWxzLmpzPzI0M2EiXSwibmFtZXMiOlsiTUFYX0xPTkciLCJNYXRoIiwicG93IiwiaXNEZWZpbmVkIiwidiIsImhhc1ZhbHVlIiwiaGFzVHlwZSIsImV4cGVjdGVkVHlwZSIsImhhc1ZhbCIsImlzT2JqZWN0IiwibGV0TmFtZSIsImlzQXJyYXkiLCJBcnJheSIsImlzRnVuY3Rpb24iLCJhc3NlcnREZWZpbmVkIiwiYXNzZXJ0VHlwZSIsImFzc2VydEJvb2xlYW4iLCJhc3NlcnRTdHJpbmciLCJhc3NlcnROdW1iZXIiLCJhc3NlcnRQb3NpdGl2ZSIsImFzc2VydE9iamVjdCIsImFzc2VydEFycmF5IiwiYXNzZXJ0RnVuY3Rpb24iLCJhc3NlcnRIYXNWYWx1ZSIsInJhbmRvbVVVSUQiLCJyZXBsYWNlIiwiYyIsInIiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN0YW1wVVVJRCIsIm9iaiIsIl9vc2hfaWQiLCJQYXJzZUJ5dGVzIiwiYnVmZmVyIiwib2Zmc2V0IiwidHlwZSIsInZpZXciLCJEYXRhVmlldyIsInR5cGVNYXAiLCJkb3VibGUiLCJ2YWwiLCJnZXRGbG9hdDY0IiwiYnl0ZXMiLCJmbG9hdDY0IiwiZmxvYXQzMiIsImdldEZsb2F0MzIiLCJzaWduZWRCeXRlIiwiZ2V0SW50OCIsInNpZ25lZEludCIsImdldEludDMyIiwic2lnbmVkU2hvcnQiLCJnZXRJbnQxNiIsInVuc2lnbmVkQnl0ZSIsImdldFVpbnQ4IiwidW5zaWduZWRJbnQiLCJnZXRVaW50MzIiLCJ1bnNpZ25lZFNob3J0IiwiZ2V0VWludDE2IiwiUmVhZERhdGEiLCJzdHJ1Y3QiLCJkYXRhIiwib2Zmc2V0Qnl0ZXMiLCJpIiwiZmllbGRzIiwibGVuZ3RoIiwiY3VyckZpZWxkU3RydWN0IiwicmV0IiwiY291bnQiLCJpc05hTiIsImlkIiwiZmllbGROYW1lIiwiaWQyRmllbGRNYXAiLCJmaW5kRmllbGRCeU5hbWUiLCJqIiwiZmllbGQiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJwdXNoIiwiR2V0UmVzdWx0T2JqZWN0IiwicmVzdWx0U3RydWN0dXJlIiwicmVzdWx0IiwibmFtZSIsIml0ZW0iLCJrIiwiaXNPcGVyYSIsIndpbmRvdyIsIm9wciIsImFkZG9ucyIsIm9wZXJhIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaW5kZXhPZiIsImlzRmlyZWZveCIsIkluc3RhbGxUcmlnZ2VyIiwiaXNTYWZhcmkiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJjYWxsIiwiSFRNTEVsZW1lbnQiLCJpc0Nocm9tZSIsImNocm9tZSIsIndlYnN0b3JlIiwiaXNCbGluayIsIkNTUyIsImlzQXJyYXlJbnRlcnNlY3QiLCJhIiwiYiIsImZpbHRlciIsImVsZW1lbnQiLCJpc0VsZW1lbnQiLCJvIiwibm9kZVR5cGUiLCJub2RlTmFtZSIsImlzV2ViV29ya2VyIiwiV29ya2VyIiwidGFrZVNjcmVlblNob3QiLCJkaXYiLCJyZW1vdmVDc3MiLCJjc3MiLCJkaXZDc3MiLCJjbGFzc05hbWUiLCJhZGRDc3MiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVMYXN0Q2hhcklmRXhpc3QiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsImVuZHNXaXRoIiwic3Vic3RyaW5nIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNPLE1BQU1BLFFBQVEsR0FB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cyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSwgdi4gMi4wLlxuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZVxuIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cblxuIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcyxcbiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2VcbiBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyByaWdodHMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4gQ29weXJpZ2h0IChDKSAyMDE1LTIwMjAgTWF0aGlldSBEaGFpbmF1dC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuIEF1dGhvcjogTWF0aGlldSBEaGFpbmF1dCA8bWF0aGlldS5kaGFpbmF1dEBnbWFpbC5jb20+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqICogQG1vZHVsZSBVdGlscyAqL1xuXG4vKiogTWF4aW11bSB2YWx1ZSBvZiBhIGxvbmcgKi9cbmV4cG9ydCBjb25zdCBNQVhfTE9ORyA9IE1hdGgucG93KDIsIDUzKSArIDE7XG5cbi8qKlxuICogR2xvYmFsIGhlbHBlciBtZXRob2QgdG8gdGVzdCBpZiBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgZGVmaW5lZFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNEZWZpbmVkKHYpIHtcbiAgICByZXR1cm4gdHlwZW9mICh2KSAhPT0gJ3VuZGVmaW5lZCcgJiYgdiAhPT0gbnVsbDtcbn1cblxuXG4vKipcbiBHbG9iYWwgaGVscGVyIG1ldGhvZCB0byB0ZXN0IGlmIGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBoYXMgYSB2YWx1ZSxcbiB0aGF0IGlzIGl0IGlzIGRlZmluZWQgYW5kIG5vbiBudWxsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNWYWx1ZSh2KSB7XG4gICAgcmV0dXJuIGlzRGVmaW5lZCh2KSAmJiB2ICE9PSBudWxsO1xufVxuXG4vKipcbiBHbG9iYWwgaGVscGVyIG1ldGhvZCB0byB0ZXN0IGlmIGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBvZiBhIHBhcnRpY3VsYXIgdHlwZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzVHlwZSh2LCBleHBlY3RlZFR5cGUpIHtcbiAgICBsZXQgaGFzVmFsID0gaGFzVmFsdWUodik7XG4gICAgcmV0dXJuIGhhc1ZhbCAmJiB0eXBlb2YgKHYpID09PSBleHBlY3RlZFR5cGU7XG59XG5cbi8qKlxuIEdsb2JhbCBoZWxwZXIgbWV0aG9kIHRvIHRlc3QgaWYgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGFuIG9iamVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QodiwgbGV0TmFtZSkge1xuICAgIHJldHVybiBoYXNUeXBlKHYsICdvYmplY3QnLCBsZXROYW1lKTtcbn1cblxuLyoqXG4gR2xvYmFsIGhlbHBlciBtZXRob2QgdG8gdGVzdCBpZiBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYW4gYXJyYXlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXkodikge1xuICAgIHJldHVybiBpc0RlZmluZWQodikgJiYgQXJyYXkuaXNBcnJheSh2KTtcbn1cblxuLyoqXG4gR2xvYmFsIGhlbHBlciBtZXRob2QgdG8gdGVzdCBpZiBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYSBmdW5jdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih2LCBsZXROYW1lKSB7XG4gICAgcmV0dXJuIGhhc1R5cGUodiwgJ2Z1bmN0aW9uJywgbGV0TmFtZSk7XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBkZWZpbmVkXG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0RGVmaW5lZCh2LCBsZXROYW1lID0gJ2xldGlhYmxlJykge1xuICAgIGlmICghaXNEZWZpbmVkKHYpKSB7XG4gICAgICAgIHRocm93IGxldE5hbWUgKyBcIiBtdXN0IGJlIGRlZmluZWRcIjtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBkZWZpbmVkIGFuZCBub24tbnVsbFxuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFR5cGUodiwgZXhwZWN0ZWRUeXBlLCBsZXROYW1lID0gJ2xldGlhYmxlJykge1xuICAgIGFzc2VydERlZmluZWQodiwgbGV0TmFtZSk7XG4gICAgaWYgKHR5cGVvZiAodikgIT09IGV4cGVjdGVkVHlwZSkge1xuICAgICAgICB0aHJvdyBsZXROYW1lICsgXCIgbXVzdCBiZSBvZiB0eXBlIFwiICsgZXhwZWN0ZWRUeXBlO1xuICAgIH1cbiAgICByZXR1cm4gdjtcbn1cblxuLyoqXG4gQXNzZXJ0IHRoYXQgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGEgc3RyaW5nXG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0Qm9vbGVhbih2LCBsZXROYW1lKSB7XG4gICAgcmV0dXJuIGFzc2VydFR5cGUodiwgJ2Jvb2xlYW4nLCBsZXROYW1lKTtcbn1cblxuLyoqXG4gQXNzZXJ0IHRoYXQgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGEgc3RyaW5nXG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0U3RyaW5nKHYsIGxldE5hbWUpIHtcbiAgICByZXR1cm4gYXNzZXJ0VHlwZSh2LCAnc3RyaW5nJywgbGV0TmFtZSk7XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBhIG51bWJlclxuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydE51bWJlcih2LCBsZXROYW1lKSB7XG4gICAgcmV0dXJuIGFzc2VydFR5cGUodiwgJ251bWJlcicsIGxldE5hbWUpO1xufVxuXG4vKipcbiBBc3NlcnQgdGhhdCBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYSBudW1iZXJcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRQb3NpdGl2ZSh2LCBsZXROYW1lKSB7XG4gICAgYXNzZXJ0TnVtYmVyKHYsIGxldE5hbWUpO1xuICAgIGlmICh2IDw9IDApIHtcbiAgICAgICAgdGhyb3cgbGV0TmFtZSArIFwiIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXJcIjtcbiAgICB9XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBhbiBvYmplY3RcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRPYmplY3QodiwgbGV0TmFtZSkge1xuICAgIHJldHVybiBhc3NlcnRUeXBlKHYsICdvYmplY3QnLCBsZXROYW1lKTtcbn1cblxuLyoqXG4gQXNzZXJ0IHRoYXQgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGFuIG9iamVjdFxuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEFycmF5KHYsIGxldE5hbWUgPSAnbGV0aWFibGUnKSB7XG4gICAgYXNzZXJ0RGVmaW5lZCh2LCBsZXROYW1lKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodikpIHtcbiAgICAgICAgdGhyb3cgbGV0TmFtZSArIFwiIG11c3QgYmUgYW4gYXJyYXlcIjtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBhIGZ1bmN0aW9uXG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0RnVuY3Rpb24odiwgbGV0TmFtZSkge1xuICAgIHJldHVybiBhc3NlcnRUeXBlKHYsICdmdW5jdGlvbicsIGxldE5hbWUpO1xufVxuXG4vKipcbiBBc3NlcnQgdGhhdCBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgZGVmaW5lZCBhbmQgbm9uLW51bGxcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRIYXNWYWx1ZSh2LCBsZXROYW1lID0gJ2xldGlhYmxlJykge1xuICAgIGFzc2VydERlZmluZWQodiwgbGV0TmFtZSk7XG4gICAgaWYgKCFoYXNWYWx1ZSh2KSkge1xuICAgICAgICB0aHJvdyBsZXROYW1lICsgXCIgbXVzdCBub3QgYmUgbnVsbFwiO1xuICAgIH1cbiAgICByZXR1cm4gdjtcbn1cblxuLyoqXG4gKlxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tVVVJRCgpIHtcbiAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuICAgICAgICBsZXQgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDAsIHYgPSBjID09PSAneCcgPyByIDogKHIgJiAweDMgfCAweDgpO1xuICAgICAgICByZXR1cm4gdi50b1N0cmluZygxNik7XG4gICAgfSk7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBzdGFtcHMvZW1iZWRzIGEgVVVJRCBpbnRvIGFuIG9iamVjdCBhbmQgcmV0dXJucyB0aGUgVVVJRCBnZW5lcmF0ZWQgZm9yIGl0XG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFtcFVVSUQob2JqKSB7XG4gICAgb2JqLl9vc2hfaWQgPSBvYmouX29zaF9pZCB8fCByYW5kb21VVUlEKCk7XG4gICAgcmV0dXJuIG9iai5fb3NoX2lkO1xufVxuXG4vL2J1ZmZlciBpcyBhbiBBcnJheUJ1ZmZlciBvYmplY3QsIHRoZSBvZmZzZXQgaWYgc3BlY2lmaWVkIGluIGJ5dGVzLCBhbmQgdGhlIHR5cGUgaXMgYSBzdHJpbmdcbi8vY29ycmVzcG9uZGluZyB0byBhbiBPR0MgZGF0YSB0eXBlLlxuLy9TZWUgaHR0cDovL2RlZi5zZWVncmlkLmNzaXJvLmF1L3Npc3N2b2Mvb2djLWRlZi9yZXNvdXJjZT91cmk9aHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9kZWYvZGF0YVR5cGUvT0dDLzAvXG4vKipcbiAqXG4gKiBAcGFyYW0gYnVmZmVyXG4gKiBAcGFyYW0gb2Zmc2V0XG4gKiBAcGFyYW0gdHlwZVxuICogQHJldHVybiB7Kn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFBhcnNlQnl0ZXMoYnVmZmVyLCBvZmZzZXQsIHR5cGUpIHtcbiAgICBsZXQgdmlldyA9IG5ldyBEYXRhVmlldyhidWZmZXIpO1xuXG4gICAgLy9Ob3RlOiBUaGVyZSBleGlzdCB0eXBlcyBub3QgbGlzdGVkIGluIHRoZSBtYXAgYmVsb3cgdGhhdCBoYXZlIE9HQyBkZWZpbml0aW9ucywgYnV0IG5vIGFwcHJvcHJpYXRlXG4gICAgLy9tZXRob2RzIG9yIGNvcnJlc3BvbmRpbmcgdHlwZXMgYXZhaWxhYmxlIGZvciBwYXJzaW5nIGluIGphdmFzY3JpcHQuIFRoZXkgYXJlIGZsb2F0MTI4LCBmbG9hdDE2LCBzaWduZWRMb25nLFxuICAgIC8vYW5kIHVuc2lnbmVkTG9uZ1xuICAgIGxldCB0eXBlTWFwID0ge1xuICAgICAgICBkb3VibGU6IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB7dmFsOiB2aWV3LmdldEZsb2F0NjQob2Zmc2V0KSwgYnl0ZXM6IDh9O1xuICAgICAgICB9LFxuICAgICAgICBmbG9hdDY0OiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRGbG9hdDY0KG9mZnNldCksIGJ5dGVzOiA4fTtcbiAgICAgICAgfSxcbiAgICAgICAgZmxvYXQzMjogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWw6IHZpZXcuZ2V0RmxvYXQzMihvZmZzZXQpLCBieXRlczogNH07XG4gICAgICAgIH0sXG4gICAgICAgIHNpZ25lZEJ5dGU6IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB7dmFsOiB2aWV3LmdldEludDgob2Zmc2V0KSwgYnl0ZXM6IDF9O1xuICAgICAgICB9LFxuICAgICAgICBzaWduZWRJbnQ6IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB7dmFsOiB2aWV3LmdldEludDMyKG9mZnNldCksIGJ5dGVzOiA0fTtcbiAgICAgICAgfSxcbiAgICAgICAgc2lnbmVkU2hvcnQ6IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB7dmFsOiB2aWV3LmdldEludDE2KG9mZnNldCksIGJ5dGVzOiAyfTtcbiAgICAgICAgfSxcbiAgICAgICAgdW5zaWduZWRCeXRlOiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRVaW50OChvZmZzZXQpLCBieXRlczogMX07XG4gICAgICAgIH0sXG4gICAgICAgIHVuc2lnbmVkSW50OiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRVaW50MzIob2Zmc2V0KSwgYnl0ZXM6IDR9O1xuICAgICAgICB9LFxuICAgICAgICB1bnNpZ25lZFNob3J0OiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRVaW50MTYob2Zmc2V0KSwgYnl0ZXM6IDJ9O1xuICAgICAgICB9LFxuICAgICAgICAvL1RPRE86IHN0cmluZy11dGYtODpcbiAgICB9O1xuICAgIHJldHVybiB0eXBlTWFwW3R5cGVdKG9mZnNldCk7XG59XG5cbi8vVGhpcyBmdW5jdGlvbiByZWN1cnNpdmxleSBpdGVyYXRlcyBvdmVyIHRoZSByZXN1bHRTdHJ1Y3R1cmUgdG8gZmlsbCBpblxuLy92YWx1ZXMgcmVhZCBmcm9tIGRhdGEgd2hpY2ggc2hvdWxkIGJlIGFuIEFycmF5QnVmZmVyIGNvbnRhaW5pbmcgdGhlIHBheWxvYWQgZnJvbSBhIHdlYnNvY2tldFxuLyoqXG4gKlxuICogQHBhcmFtIHN0cnVjdFxuICogQHBhcmFtIGRhdGFcbiAqIEBwYXJhbSBvZmZzZXRCeXRlc1xuICogQHJldHVybiB7Kn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlYWREYXRhKHN0cnVjdCwgZGF0YSwgb2Zmc2V0Qnl0ZXMpIHtcbiAgICBsZXQgb2Zmc2V0ID0gb2Zmc2V0Qnl0ZXM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJ1Y3QuZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBjdXJyRmllbGRTdHJ1Y3QgPSBzdHJ1Y3QuZmllbGRzW2ldO1xuICAgICAgICBpZiAoaXNEZWZpbmVkKGN1cnJGaWVsZFN0cnVjdC50eXBlKSAmJiBjdXJyRmllbGRTdHJ1Y3QudHlwZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbGV0IHJldCA9IFBhcnNlQnl0ZXMoZGF0YSwgb2Zmc2V0LCBjdXJyRmllbGRTdHJ1Y3QudHlwZSk7XG4gICAgICAgICAgICBjdXJyRmllbGRTdHJ1Y3QudmFsID0gcmV0LnZhbDtcbiAgICAgICAgICAgIG9mZnNldCArPSByZXQuYnl0ZXM7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNEZWZpbmVkKGN1cnJGaWVsZFN0cnVjdC5jb3VudCkgJiYgY3VyckZpZWxkU3RydWN0LmNvdW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvL2NoZWNrIGlmIGNvdW50IGlzIGEgcmVmZXJlbmNlIHRvIGFub3RoZXIgbGV0aWFibGVcbiAgICAgICAgICAgIGlmIChpc05hTihjdXJyRmllbGRTdHJ1Y3QuY291bnQpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGlkID0gY3VyckZpZWxkU3RydWN0LmNvdW50O1xuICAgICAgICAgICAgICAgIGxldCBmaWVsZE5hbWUgPSBzdHJ1Y3QuaWQyRmllbGRNYXBbaWRdO1xuICAgICAgICAgICAgICAgIGN1cnJGaWVsZFN0cnVjdC5jb3VudCA9IHN0cnVjdC5maW5kRmllbGRCeU5hbWUoZmllbGROYW1lKS52YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IGN1cnJGaWVsZFN0cnVjdC5jb3VudDsgYysrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjdXJyRmllbGRTdHJ1Y3QuZmllbGRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmaWVsZCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY3VyckZpZWxkU3RydWN0LmZpZWxkc1tqXSkpO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBSZWFkRGF0YShmaWVsZCwgZGF0YSwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgY3VyckZpZWxkU3RydWN0LnZhbC5wdXNoKGZpZWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHJlc3VsdFN0cnVjdHVyZVxuICogQHJldHVybiB7e319XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBHZXRSZXN1bHRPYmplY3QocmVzdWx0U3RydWN0dXJlKSB7XG4gICAgLy9UT0RPOiBoYW5kbGUgY2FzZXMgZm9yIG5lc3RlZCBhcnJheXMgLyBtYXRyaXggZGF0YSB0eXBlc1xuICAgIGxldCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdFN0cnVjdHVyZS5maWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGlzRGVmaW5lZChyZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLmNvdW50KSkge1xuICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdFN0cnVjdHVyZS5maWVsZHNbaV0ubmFtZV0gPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgcmVzdWx0U3RydWN0dXJlLmZpZWxkc1tpXS5jb3VudDsgYysrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSB7fTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IHJlc3VsdFN0cnVjdHVyZS5maWVsZHNbaV0udmFsW2NdLmZpZWxkcy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICBpdGVtW3Jlc3VsdFN0cnVjdHVyZS5maWVsZHNbaV0udmFsW2NdLmZpZWxkc1trXS5uYW1lXSA9IHJlc3VsdFN0cnVjdHVyZS5maWVsZHNbaV0udmFsW2NdLmZpZWxkc1trXS52YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLm5hbWVdLnB1c2goaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHRbcmVzdWx0U3RydWN0dXJlLmZpZWxkc1tpXS5uYW1lXSA9IHJlc3VsdFN0cnVjdHVyZS5maWVsZHNbaV0udmFsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc09wZXJhKCkge1xuICAgIHJldHVybiAoISF3aW5kb3cub3ByICYmICEhb3ByLmFkZG9ucykgfHwgISF3aW5kb3cub3BlcmEgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCcgT1BSLycpID49IDA7XG59XG5cbi8qKlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0ZpcmVmb3goKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBJbnN0YWxsVHJpZ2dlciAhPT0gJ3VuZGVmaW5lZCc7XG59XG5cbi8qKlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NhZmFyaSgpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdpbmRvdy5IVE1MRWxlbWVudCkuaW5kZXhPZignQ29uc3RydWN0b3InKSA+IDA7XG59XG5cbi8qKlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Nocm9tZSgpIHtcbiAgICByZXR1cm4gISF3aW5kb3cuY2hyb21lICYmICEhd2luZG93LmNocm9tZS53ZWJzdG9yZTtcbn1cblxuLyoqXG4gKlxuICogQHJldHVybiB7Knxib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNCbGluaygpIHtcbiAgICByZXR1cm4gKGlzQ2hyb21lIHx8IGlzT3BlcmEpICYmICEhd2luZG93LkNTUztcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIGFcbiAqIEBwYXJhbSBiXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheUludGVyc2VjdChhLCBiKSB7XG4gICAgcmV0dXJuIGEuZmlsdGVyKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBiLmluZGV4T2YoZWxlbWVudCkgPiAtMTtcbiAgICB9KS5sZW5ndGggPiAwO1xufVxuXG5cbi8qKlxuICpcbiAqIEBwYXJhbSBvXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFbGVtZW50KG8pIHtcbiAgICByZXR1cm4gKFxuICAgICAgdHlwZW9mIEhUTUxFbGVtZW50ID09PSBcIm9iamVjdFwiID8gbyBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IDogLy9ET00yXG4gICAgICAgIG8gJiYgdHlwZW9mIG8gPT09IFwib2JqZWN0XCIgJiYgbyAhPT0gbnVsbCAmJiBvLm5vZGVUeXBlID09PSAxICYmIHR5cGVvZiBvLm5vZGVOYW1lID09PSBcInN0cmluZ1wiXG4gICAgKTtcbn1cblxuLyoqXG4gKlxuICogQHJldHVybiB7Kn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzV2ViV29ya2VyKCkge1xuICAgIHJldHVybiBpc0RlZmluZWQoV29ya2VyKTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIGRpdlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGFrZVNjcmVlblNob3QoZGl2KSB7XG59XG5cbi8qKlxuICogUmVtb3ZlIGEgY3NzIGNsYXNzIGZyb20gYSB0aGUgZGl2IGdpdmVuIGFzIGFyZ3VtZW50LlxuICogQHBhcmFtIGRpdiB0aGUgZGl2IHRvIHJlbW92ZSB0aGUgY2xhc3MgZnJvbVxuICogQHBhcmFtIGNzcyB0aGUgY3NzIGNsYXNzIHRvIHJlbW92ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ3NzKGRpdiwgY3NzKSB7XG4gICAgbGV0IGRpdkNzcyA9IGRpdi5jbGFzc05hbWU7XG4gICAgY3NzID0gZGl2Q3NzLnJlcGxhY2UoY3NzLCBcIlwiKTtcbiAgICBkaXYuY2xhc3NOYW1lID0gY3NzO1xufVxuXG5cbi8qKlxuICogQWRkIGEgY3NzIGNsYXNzIHRvIGEgdGhlIGRpdiBnaXZlbiBhcyBhcmd1bWVudC5cbiAqIEBwYXJhbSBkaXYgdGhlIGRpdiB0byBhZGQgdGhlIGNsYXNzIHRvXG4gKiBAcGFyYW0gY3NzIHRoZSBjc3MgY2xhc3MgdG8gYWRkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRDc3MoZGl2LCBjc3MpIHtcbiAgICBkaXYuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgZGl2LmNsYXNzTmFtZSArIFwiIFwiICsgY3NzKTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIHRoZSBsYXN0IGNoYXJhY3RlciBvZiBhIHtzdHJpbmd9IG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIFRoZSBpbnB1dCB7c3RyaW5nfVxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgdmFsdWUgd2l0aG91dCB0aGUgbGFzdCBjaGFyYWN0ZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUxhc3RDaGFySWZFeGlzdCh2YWx1ZSkge1xuICAgIGlmICghaXNEZWZpbmVkKHVuZGVmaW5lZCkgfHwgdmFsdWUgPT09IG51bGwgfHwgdmFsdWUubGVuZ3RoID09PSAwIHx8ICF2YWx1ZS5lbmRzV2l0aChcIi9cIikpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZS5zdWJzdHJpbmcoMCwgdmFsdWUubGVuZ3RoIC0gMSk7XG59XG5cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n')},,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/utils/Utils.js\nvar Utils = __webpack_require__(0);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/events/EventMap.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n/**\n * This class is responsible for observing and firing events. It used an object as backed data structure.\n */\n\nclass EventMap_EventMap {\n  constructor() {\n    this.eventMap = {};\n  }\n\n  remove(eventName, id) {\n    if (eventName in this.eventMap) {\n      this.eventMap[eventName] = this.eventMap[eventName].filter(obj => obj.id !== id);\n    }\n  }\n\n  removeById(id) {\n    for (let eventName in this.eventMap) {\n      this.eventMap[eventName] = this.eventMap[eventName].filter(obj => obj.id !== id);\n    }\n  }\n  /**\n   * Observes any eventName and calls the callback when the event is fired.\n   * @param {String} eventName -\n   * @param {Function} fnCallback -\n   * @param {String} id - id of the div to observe\n   */\n\n\n  observe(eventName, fnCallback, id = \'any\') {\n    if (!Object(Utils["g" /* isDefined */])(eventName) || !Object(Utils["g" /* isDefined */])(fnCallback) || !Object(Utils["g" /* isDefined */])(id)) {\n      return;\n    }\n\n    if (!(eventName in this.eventMap)) {\n      this.eventMap[eventName] = [];\n    }\n\n    this.eventMap[eventName].push({\n      fn: fnCallback,\n      id: id\n    });\n  }\n  /**\n   * Fires an event\n   * @param {String} eventName -\n   * @param {Object} properties -\n   */\n\n\n  fire(eventName, properties) {\n    if (!Object(Utils["g" /* isDefined */])(eventName)) {\n      return;\n    }\n\n    if (eventName in this.eventMap) {\n      let fnCallbackArr = this.eventMap[eventName];\n\n      for (let i = 0; i < fnCallbackArr.length; i++) {\n        // callback the properties to the current callback\n        fnCallbackArr[i].fn(properties);\n      }\n    }\n  }\n\n}\n\n/* harmony default export */ var events_EventMap = (EventMap_EventMap);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/events/EventManager.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\nconst eventMap = new events_EventMap();\n/**\n * This class is response for handling events and acts as an event bus.\n */\n\nclass EventManager {\n  static remove(eventName, id = \'any\') {\n    eventMap.remove(\'osh:\' + eventName, id);\n  }\n\n  static removeById(id = \'any\') {\n    eventMap.removeById(id);\n  }\n\n  static registerView(view) {\n    view.registerCallback();\n  }\n\n  static unregisterView(view) {\n    view.unregisterCallback();\n  }\n  /**\n   * Fires an event\n   * @param {String} eventName -\n   * @param {Object} properties -\n   */\n\n\n  static fire(eventName, properties) {\n    properties.name = eventName;\n    eventMap.fire(\'osh:\' + eventName, properties);\n  }\n  /**\n   * Observes any eventName and calls the callback when the event is fired.\n   * @param {String} eventName -\n   * @param {Function} fnCallback -\n   */\n\n\n  static observe(eventName, fnCallback, id = \'any\') {\n    eventMap.observe(\'osh:\' + eventName, fnCallback, id);\n  }\n  /**\n   * Observes eventName attached to a div element  and calls the callback when the event is fired.\n   * @param {String} divId -\n   * @param {String} eventName -\n   * @param {Function} fnCallback -\n   */\n\n\n  static observeDiv(divId, eventName, fnCallback) {\n    let elem = document.getElementById(divId); // use native dom event listener\n\n    elem.addEventListener(eventName, fnCallback);\n  }\n  /**\n   * This part defines the events used INTO the API\n   * @const\n   * @type {{DATA: string, SYNC_DATA: string, SELECT_VIEW: string, CONTEXT_MENU: string, SHOW_VIEW: string, CONNECT_DATASOURCE: string, DISCONNECT_DATASOURCE: string, DATASOURCE_UPDATE_TIME: string, CURRENT_MASTER_TIME: string, UAV_TAKEOFF: string, UAV_GOTO: string, UAV_LOOKAT: string, UAV_LAND: string, UAV_ORBIT: string, LOADING_START: string, LOADING_STOP: string, ADD_VIEW_ITEM: string}}\n   */\n\n\n  static get EVENT() {\n    return {\n      SELECT_VIEW: "selectView",\n      SHOW_VIEW: "showView",\n      UAV_TAKEOFF: "uav:takeoff",\n      UAV_GOTO: "uav:goto",\n      UAV_LOOKAT: "uav:lookat",\n      UAV_LAND: "uav:land",\n      UAV_ORBIT: "uav:orbit",\n      LOADING_START: "loading:start",\n      LOADING_STOP: "loading:stop",\n      ADD_VIEW_ITEM: "addViewItem",\n      RESIZE: "resize",\n      PTZ_SEND_REQUEST: "ptzSendRequest"\n    };\n  }\n\n}\n\n/* harmony default export */ var events_EventManager = __webpack_exports__["a"] = (EventManager);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL2V2ZW50cy9FdmVudE1hcC5qcz8zZDkzIiwid2VicGFjazovLy8vaG9tZS9uZXZyby9Qcm9ncy9wcm9ncy1sb2NhbC9naXQtcmVwby9PU0gvb3NoLWpzL3NvdXJjZS9vc2gvZXZlbnRzL0V2ZW50TWFuYWdlci5qcz84OWJiIl0sIm5hbWVzIjpbIkV2ZW50TWFwIiwiY29uc3RydWN0b3IiLCJldmVudE1hcCIsInJlbW92ZSIsImV2ZW50TmFtZSIsImlkIiwiZmlsdGVyIiwib2JqIiwicmVtb3ZlQnlJZCIsIm9ic2VydmUiLCJmbkNhbGxiYWNrIiwiaXNEZWZpbmVkIiwicHVzaCIsImZuIiwiZmlyZSIsInByb3BlcnRpZXMiLCJmbkNhbGxiYWNrQXJyIiwiaSIsImxlbmd0aCIsIkV2ZW50TWFuYWdlciIsInJlZ2lzdGVyVmlldyIsInZpZXciLCJyZWdpc3RlckNhbGxiYWNrIiwidW5yZWdpc3RlclZpZXciLCJ1bnJlZ2lzdGVyQ2FsbGJhY2siLCJuYW1lIiwib2JzZXJ2ZURpdiIsImRpdklkIiwiZWxlbSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhZGRFdmVudExpc3RlbmVyIiwiRVZFTlQiLCJTRUxFQ1RfVklFVyIsIlNIT1dfVklFVyIsIlVBVl9UQUtFT0ZGIiwiVUFWX0dPVE8iLCJVQVZfTE9PS0FUIiwiVUFWX0xBTkQiLCJVQVZfT1JCSVQiLCJMT0FESU5HX1NUQVJUIiwiTE9BRElOR19TVE9QIiwiQUREX1ZJRVdfSVRFTSIsIlJFU0laRSIsIlBUWl9TRU5EX1JFUVVFU1QiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7O0FBQ0EsTUFBTUEsaUJBQU4sQ0FB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Iiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAyMCBEaGFpbmF1dC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuIEF1dGhvcjogTWF0aGlldSBEaGFpbmF1dCA8bWF0aGlldS5kaGFpbmF1dEBnbWFpbC5jb20+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHtpc0RlZmluZWR9IGZyb20gJy4uL3V0aWxzL1V0aWxzLmpzJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGlzIHJlc3BvbnNpYmxlIGZvciBvYnNlcnZpbmcgYW5kIGZpcmluZyBldmVudHMuIEl0IHVzZWQgYW4gb2JqZWN0IGFzIGJhY2tlZCBkYXRhIHN0cnVjdHVyZS5cbiAqL1xuY2xhc3MgRXZlbnRNYXAge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZXZlbnRNYXAgPSB7fTtcbiAgICB9XG5cbiAgICByZW1vdmUoZXZlbnROYW1lLCBpZCkge1xuICAgICAgICBpZihldmVudE5hbWUgaW4gdGhpcy5ldmVudE1hcCkge1xuICAgICAgICAgICAgdGhpcy5ldmVudE1hcFtldmVudE5hbWVdID0gdGhpcy5ldmVudE1hcFtldmVudE5hbWVdLmZpbHRlcihvYmogPT4gb2JqLmlkICE9PSBpZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVCeUlkKGlkKSB7XG4gICAgICAgIGZvcihsZXQgZXZlbnROYW1lIGluIHRoaXMuZXZlbnRNYXApIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRNYXBbZXZlbnROYW1lXSA9IHRoaXMuZXZlbnRNYXBbZXZlbnROYW1lXS5maWx0ZXIob2JqID0+IG9iai5pZCAhPT0gaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT2JzZXJ2ZXMgYW55IGV2ZW50TmFtZSBhbmQgY2FsbHMgdGhlIGNhbGxiYWNrIHdoZW4gdGhlIGV2ZW50IGlzIGZpcmVkLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWUgLVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuQ2FsbGJhY2sgLVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIGlkIG9mIHRoZSBkaXYgdG8gb2JzZXJ2ZVxuICAgICAqL1xuICAgIG9ic2VydmUoZXZlbnROYW1lLCBmbkNhbGxiYWNrLCBpZCA9ICdhbnknKSB7XG4gICAgICAgIGlmKCFpc0RlZmluZWQoZXZlbnROYW1lKSB8fCAhaXNEZWZpbmVkKGZuQ2FsbGJhY2spIHx8ICFpc0RlZmluZWQoaWQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYoIShldmVudE5hbWUgaW4gdGhpcy5ldmVudE1hcCkpIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRNYXBbZXZlbnROYW1lXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXZlbnRNYXBbZXZlbnROYW1lXS5wdXNoKHtcbiAgICAgICAgICAgIGZuOiBmbkNhbGxiYWNrLFxuICAgICAgICAgICAgaWQ6IGlkXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpcmVzIGFuIGV2ZW50XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZSAtXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BlcnRpZXMgLVxuICAgICAqL1xuICAgIGZpcmUoZXZlbnROYW1lLCBwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGlmKCFpc0RlZmluZWQoZXZlbnROYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmKGV2ZW50TmFtZSBpbiB0aGlzLmV2ZW50TWFwKSB7XG4gICAgICAgICAgICBsZXQgZm5DYWxsYmFja0FyciA9IHRoaXMuZXZlbnRNYXBbZXZlbnROYW1lXTtcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBmbkNhbGxiYWNrQXJyLmxlbmd0aDtpKyspe1xuICAgICAgICAgICAgICAgIC8vIGNhbGxiYWNrIHRoZSBwcm9wZXJ0aWVzIHRvIHRoZSBjdXJyZW50IGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgZm5DYWxsYmFja0FycltpXS5mbihwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IEV2ZW50TWFwO1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAyMCBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgRXZlbnRNYXAgZnJvbSAnLi9FdmVudE1hcC5qcyc7XG5cbmNvbnN0IGV2ZW50TWFwID0gbmV3IEV2ZW50TWFwKCk7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBpcyByZXNwb25zZSBmb3IgaGFuZGxpbmcgZXZlbnRzIGFuZCBhY3RzIGFzIGFuIGV2ZW50IGJ1cy5cbiAqL1xuY2xhc3MgRXZlbnRNYW5hZ2VyIHtcblxuICAgIHN0YXRpYyByZW1vdmUoZXZlbnROYW1lLCBpZCA9J2FueScpIHtcbiAgICAgICAgZXZlbnRNYXAucmVtb3ZlKCdvc2g6JyArIGV2ZW50TmFtZSwgaWQpO1xuICAgIH1cblxuICAgIHN0YXRpYyByZW1vdmVCeUlkKGlkID0nYW55Jykge1xuICAgICAgICBldmVudE1hcC5yZW1vdmVCeUlkKGlkKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcmVnaXN0ZXJWaWV3KHZpZXcpIHtcbiAgICAgICAgdmlldy5yZWdpc3RlckNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIHVucmVnaXN0ZXJWaWV3KHZpZXcpIHtcbiAgICAgICAgdmlldy51bnJlZ2lzdGVyQ2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaXJlcyBhbiBldmVudFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWUgLVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzIC1cbiAgICAgKi9cbiAgICBzdGF0aWMgZmlyZShldmVudE5hbWUsIHByb3BlcnRpZXMpIHtcbiAgICAgICAgcHJvcGVydGllcy5uYW1lID0gZXZlbnROYW1lO1xuICAgICAgICBldmVudE1hcC5maXJlKCdvc2g6JyArIGV2ZW50TmFtZSwgcHJvcGVydGllcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT2JzZXJ2ZXMgYW55IGV2ZW50TmFtZSBhbmQgY2FsbHMgdGhlIGNhbGxiYWNrIHdoZW4gdGhlIGV2ZW50IGlzIGZpcmVkLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWUgLVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuQ2FsbGJhY2sgLVxuICAgICAqL1xuICAgIHN0YXRpYyBvYnNlcnZlKGV2ZW50TmFtZSwgZm5DYWxsYmFjaywgaWQgPSAnYW55Jykge1xuICAgICAgICBldmVudE1hcC5vYnNlcnZlKCdvc2g6JyArIGV2ZW50TmFtZSwgZm5DYWxsYmFjaywgaWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9ic2VydmVzIGV2ZW50TmFtZSBhdHRhY2hlZCB0byBhIGRpdiBlbGVtZW50ICBhbmQgY2FsbHMgdGhlIGNhbGxiYWNrIHdoZW4gdGhlIGV2ZW50IGlzIGZpcmVkLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkaXZJZCAtXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZSAtXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm5DYWxsYmFjayAtXG4gICAgICovXG4gICAgc3RhdGljIG9ic2VydmVEaXYoZGl2SWQsIGV2ZW50TmFtZSwgZm5DYWxsYmFjaykge1xuICAgICAgICBsZXQgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdklkKTtcbiAgICAgICAgLy8gdXNlIG5hdGl2ZSBkb20gZXZlbnQgbGlzdGVuZXJcbiAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZm5DYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBwYXJ0IGRlZmluZXMgdGhlIGV2ZW50cyB1c2VkIElOVE8gdGhlIEFQSVxuICAgICAqIEBjb25zdFxuICAgICAqIEB0eXBlIHt7REFUQTogc3RyaW5nLCBTWU5DX0RBVEE6IHN0cmluZywgU0VMRUNUX1ZJRVc6IHN0cmluZywgQ09OVEVYVF9NRU5VOiBzdHJpbmcsIFNIT1dfVklFVzogc3RyaW5nLCBDT05ORUNUX0RBVEFTT1VSQ0U6IHN0cmluZywgRElTQ09OTkVDVF9EQVRBU09VUkNFOiBzdHJpbmcsIERBVEFTT1VSQ0VfVVBEQVRFX1RJTUU6IHN0cmluZywgQ1VSUkVOVF9NQVNURVJfVElNRTogc3RyaW5nLCBVQVZfVEFLRU9GRjogc3RyaW5nLCBVQVZfR09UTzogc3RyaW5nLCBVQVZfTE9PS0FUOiBzdHJpbmcsIFVBVl9MQU5EOiBzdHJpbmcsIFVBVl9PUkJJVDogc3RyaW5nLCBMT0FESU5HX1NUQVJUOiBzdHJpbmcsIExPQURJTkdfU1RPUDogc3RyaW5nLCBBRERfVklFV19JVEVNOiBzdHJpbmd9fVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgRVZFTlQoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBTRUxFQ1RfVklFVzogXCJzZWxlY3RWaWV3XCIsXG4gICAgICAgICAgICBTSE9XX1ZJRVc6IFwic2hvd1ZpZXdcIixcbiAgICAgICAgICAgIFVBVl9UQUtFT0ZGOiBcInVhdjp0YWtlb2ZmXCIsXG4gICAgICAgICAgICBVQVZfR09UTzogXCJ1YXY6Z290b1wiLFxuICAgICAgICAgICAgVUFWX0xPT0tBVDogXCJ1YXY6bG9va2F0XCIsXG4gICAgICAgICAgICBVQVZfTEFORDogXCJ1YXY6bGFuZFwiLFxuICAgICAgICAgICAgVUFWX09SQklUOiBcInVhdjpvcmJpdFwiLFxuICAgICAgICAgICAgTE9BRElOR19TVEFSVDogXCJsb2FkaW5nOnN0YXJ0XCIsXG4gICAgICAgICAgICBMT0FESU5HX1NUT1A6IFwibG9hZGluZzpzdG9wXCIsXG4gICAgICAgICAgICBBRERfVklFV19JVEVNOiBcImFkZFZpZXdJdGVtXCIsXG4gICAgICAgICAgICBSRVNJWkU6IFwicmVzaXplXCIsXG4gICAgICAgICAgICBQVFpfU0VORF9SRVFVRVNUOiBcInB0elNlbmRSZXF1ZXN0XCJcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEV2ZW50TWFuYWdlcjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n')},,,,function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return DATA_SYNCHRONIZER_TOPIC; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DATASOURCE_DATA_TOPIC; });\n/* unused harmony export FFMPEG_VIEW_DECODE_TOPIC */\nconst DATA_SYNCHRONIZER_TOPIC = 'data-synchronizer-';\nconst DATASOURCE_DATA_TOPIC = 'datasource-data-';\nconst FFMPEG_VIEW_DECODE_TOPIC = 'ffmpeg-decode-';//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL0NvbnN0YW50cy5qcz9kYmY3Il0sIm5hbWVzIjpbIkRBVEFfU1lOQ0hST05JWkVSX1RPUElDIiwiREFUQVNPVVJDRV9EQVRBX1RPUElDIiwiRkZNUEVHX1ZJRVdfREVDT0RFX1RPUElDIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBTyxNQUFNQSx1QkFBdUIsR0FBRyxvQkFBaEM7QUFDQSxNQUFNQyxxQkFBcUIsR0FBRyxrQkFBOUI7QUFDQSxNQUFNQyx3QkFBd0IsR0FBRyxnQkFBakMiLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBEQVRBX1NZTkNIUk9OSVpFUl9UT1BJQyA9ICdkYXRhLXN5bmNocm9uaXplci0nO1xuZXhwb3J0IGNvbnN0IERBVEFTT1VSQ0VfREFUQV9UT1BJQyA9ICdkYXRhc291cmNlLWRhdGEtJztcbmV4cG9ydCBjb25zdCBGRk1QRUdfVklFV19ERUNPREVfVE9QSUMgPSAnZmZtcGVnLWRlY29kZS0nO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/utils/Utils.js\nvar Utils = __webpack_require__(0);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/events/EventManager.js + 1 modules\nvar EventManager = __webpack_require__(2);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/resources/css/view.css\nvar view = __webpack_require__(25);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/Constants.js\nvar Constants = __webpack_require__(6);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/dataconnector/Status.js\n/**\n * Enum for connection status.\n * @readonly\n * @enum {{name: string}}\n */\nconst Status = {\n  CONNECTED: "connected",\n  DISCONNECTED: "disconnected"\n};\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/event/EventType.js\nconst EventType = {\n  DATA: \'data\',\n  STATUS: \'status\'\n};\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/ui/view/View.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n/**\n * The abstract object to represent a view.\n * @param {Object} parentElementDivId - The parent html element div id to attach/or create the view.\n * @param {String} viewItems - The list of view items\n * @param {String} options - The options\n */\n\n\n\n\n\n\n\nclass View_View {\n  /**\n   * Create a View.\n   * @param {String} parentElementDivId - The div element to attach to\n   * @param {Object[]}  [viewItems=[]] - The initial view items to add\n   * @param {String} [viewItems.name] - The name of the view item\n   * @param {Layer} viewItems.layer - The layer object representing the view item\n   * @param {Object} [options={}] - the properties of the view\n   * @param {String} [options.dataSourceId] - The dataSource id of the dataSource providing data to the view\n   * @param {Entity} [options.entity] - The entity to which the view belongs to\n   */\n  constructor(parentElementDivId, viewItems, options) {\n    // list of layers\n    this.layers = [];\n    this.viewItems = [];\n    this.names = {};\n    this.lastRec = {};\n    this.selectedDataSources = [];\n    this.dataSources = [];\n    this.entity = null; //this.divId = divId;\n\n    this.id = "view-" + Object(Utils["h" /* randomUUID */])();\n    this.entity = null;\n    this.dataSourceId = -1; // sets dataSourceId\n\n    if (Object(Utils["g" /* isDefined */])(options) && Object(Utils["g" /* isDefined */])(options.dataSourceId)) {\n      this.dataSourceId = options.dataSourceId;\n    }\n\n    if (Object(Utils["g" /* isDefined */])(options) && Object(Utils["g" /* isDefined */])(options.entity)) {\n      this.entity = options.entity;\n    }\n\n    this.css = "";\n    this.cssSelected = "";\n\n    if (Object(Utils["g" /* isDefined */])(options) && Object(Utils["g" /* isDefined */])(options.css)) {\n      this.css = options.css;\n    }\n\n    if (Object(Utils["g" /* isDefined */])(options) && Object(Utils["g" /* isDefined */])(options.cssSelected)) {\n      this.cssSelected = options.cssSelected;\n    } // inits the view before adding the viewItem\n\n\n    this.init(parentElementDivId, viewItems, options);\n  }\n  /**\n   * Inits the view component.\n   * @param parentElementDivId The parent html element object to attach/create the view\n   * @param viewItems the list of items to add\n   * @param options [TODO]\n   * @memberof View\n   */\n\n\n  init(parentElementDivId, viewItems, options) {\n    this.elementDiv = document.createElement("div");\n    this.elementDiv.setAttribute("id", this.id);\n    this.elementDiv.setAttribute("class", this.css + " osh-view");\n    this.divId = this.id;\n    let div = document.getElementById(parentElementDivId);\n\n    if (!Object(Utils["g" /* isDefined */])(div) || div === null) {\n      document.body.appendChild(this.elementDiv);\n      this.hide();\n      this.container = document.body;\n    } else {\n      div.appendChild(this.elementDiv);\n      this.container = div;\n    }\n\n    this.beforeAddingItems(options);\n\n    if (Object(Utils["g" /* isDefined */])(viewItems)) {\n      for (let i = 0; i < viewItems.length; i++) {\n        this.addViewItem(viewItems[i]);\n      }\n    }\n\n    if (Object(Utils["g" /* isDefined */])(options)) {\n      if (Object(Utils["g" /* isDefined */])(options.show)) {\n        document.getElementById(this.divId).style.display = options.show ? "block" : "none";\n      }\n    }\n\n    this.handleEvents();\n    var that = this; // observes the event associated to the dataSourceId\n\n    this.registerCallback();\n    let observer = new MutationObserver(mutations => {\n      mutations.forEach(function (mutation) {\n        // Was it the style attribute that changed? (Maybe a classname or other attribute change could do this too? You might want to remove the attribute condition) Is display set to \'none\'?\n        if (mutation.attributeName === \'style\') {\n          that.onResize();\n        }\n      });\n    }); // Attach the mutation observer to blocker, and only when attribute values change\n\n    observer.observe(this.elementDiv, {\n      attributes: true\n    });\n    const rootObserver = new MutationObserver(function (mutations) {\n      // try to get the div element by the id to check if it is still owned by the document object\n      if (!Object(Utils["g" /* isDefined */])(document.getElementById(that.divId))) {\n        this.disconnect();\n        that.destroy();\n      }\n    });\n    rootObserver.observe(document.body, {\n      childList: true\n    });\n  }\n\n  registerCallback() {\n    if (Object(Utils["g" /* isDefined */])(this.dataSourceId) || Object(Utils["g" /* isDefined */])(this.entity)) {\n      const that = this;\n\n      function registerDs(dataSourceId) {\n        const broadcastChannel = new BroadcastChannel(Constants["a" /* DATASOURCE_DATA_TOPIC */] + dataSourceId);\n\n        broadcastChannel.onmessage = event => {\n          if (event.data.message && event.data.message === \'reset\') {\n            that.reset(); // on data stream reset\n          } else {\n            if (event.data.type === EventType.DATA) {\n              that.setData(dataSourceId, event.data.values);\n            } else if (event.data.type === EventType.STATUS && event.data.status === Status.DISCONNECTED) {\n              that.reset();\n            }\n          }\n        };\n      }\n\n      if (this.entity !== null) {\n        for (let dataSource of this.entity.getDataSources()) {\n          registerDs(dataSource.id);\n        }\n      } else {\n        registerDs(this.dataSourceId);\n      }\n    }\n  }\n  /**\n   * @private\n   */\n\n\n  unregisterCallback() {\n    EventManager["a" /* default */].removeById(this.divId);\n  }\n  /**\n   * Hide the view\n   */\n\n\n  hide() {\n    this.elementDiv.style.display = "none";\n  }\n  /**\n   * Callback called when the view is resized\n   * @event\n   */\n\n\n  onResize() {}\n  /**\n   * Attach the view to a specific div. If the view has already been attached to a div, it will be removed\n   * from its current parent and will be attached to new one.\n   * Note: the onResize() is called at the end of the process.\n   * @param {String} divId - The div element to attach to\n   */\n\n\n  attachTo(divId) {\n    if (Object(Utils["g" /* isDefined */])(this.elementDiv.parentNode)) {\n      // detach from its parent\n      this.elementDiv.parentNode.removeChild(this.elementDiv);\n    }\n\n    document.getElementById(divId).appendChild(this.elementDiv);\n\n    if (this.elementDiv.style.display === "none") {\n      this.elementDiv.style.display = "block";\n    }\n\n    this.onResize();\n  }\n  /**\n   * This method is called before attaching any view items passed as arguments in the constructor of the view.\n   * @event\n   * @param {Object} options - A generic object to use\n   */\n\n\n  beforeAddingItems(options) {}\n  /**\n   * Gets the inner id of the view object.\n   * @return {String} The id of the view\n   */\n\n\n  getId() {\n    return this.id;\n  }\n  /**\n   * Gets the div id of the DOM element.\n   * @return {String} The div id of the view\n   */\n\n\n  getDivId() {\n    return this.divId;\n  }\n  /**\n   * Set the data to the view. Each view has to handle the kind of the data separately.\n   * @param {String} dataSourceId - The dataSource id of the source providing the data\n   * @param {any[]} data - The data array to set\n   */\n\n\n  setData(dataSourceId, data) {}\n  /**\n   * Show the view.\n   * @param  {Object} properties - A generic object\n   */\n\n\n  show(properties) {}\n\n  destroy() {\n    this.unregisterCallback();\n  }\n  /**\n   * Adds a viewItem to the view. A broadcastChannel is going to listen the new dataSources\n   * and EventManager.EVENT.SELECT_VIEW are then observed using the\n   * dataSource(s) contained into the layer.\n   * @param {Object} viewItem - The initial view items to add\n   * @param {String} viewItem.name - The name of the view item\n   * @param {Layer} viewItem.layer - The layer object representing the view item\n   */\n\n\n  addViewItem(viewItem) {\n    this.viewItems.push(viewItem);\n\n    if (viewItem.hasOwnProperty("layer")) {\n      let layer = viewItem.layer;\n      this.layers.push(layer);\n\n      if (viewItem.hasOwnProperty("name")) {\n        this.names[layer.markerId] = viewItem.name;\n      }\n\n      layer.viewItem = viewItem;\n      layer.init(this); //for(let dataSourceId in layer.dataSourceToLayerMap) {\n\n      let ds = layer.getDataSourcesIds();\n\n      for (let i = 0; i < ds.length; i++) {\n        const dataSourceId = ds[i]; // observes the data come in\n\n        let self = this;\n        const broadcastChannel = new BroadcastChannel(Constants["a" /* DATASOURCE_DATA_TOPIC */] + dataSourceId);\n\n        broadcastChannel.onmessage = event => {\n          // skip data reset events for now\n          if (event.data.type === EventType.STATUS && event.data.status === Status.DISCONNECTED) {\n            return;\n          } //TODO: maybe done into the layer?\n\n\n          if (event.data.type === EventType.DATA) {\n            layer.setData(dataSourceId, event.data, self);\n            self.lastRec[dataSourceId] = event.data;\n          }\n        };\n      }\n    }\n  }\n  /**\n   * Removes a view item from the view.\n   * @param {Object} viewItem - The initial view items to add\n   * @param {String} viewItem.name - The name of the view item\n   * @param {Layer} viewItem.layer - The layer object representing the view item\n   */\n\n\n  removeViewItem(viewItem) {\n    if (this.viewItems.includes(viewItem)) {\n      // 1) remove from STYLER fn\n      for (let ds in viewItem.layer.dataSourceToLayerMap) {\n        delete this.lastRec[ds];\n      }\n\n      this.viewItems = this.viewItems.filter(currentViewItem => currentViewItem !== viewItem);\n    }\n\n    this.layers = this.layers.filter(currentLayer => currentLayer.id !== viewItem.layer.id);\n    delete this.names[viewItem.layer.markerId];\n  }\n  /**\n   * Removes all view item from the view.\n   */\n\n\n  removeViewItems() {\n    for (const viewItem of this.viewItems) {\n      this.removeViewItem(viewItem);\n    }\n  }\n  /**\n   * @private\n   */\n\n\n  handleEvents() {\n    var that = this; // observes the selected event\n\n    EventManager["a" /* default */].observe(EventManager["a" /* default */].EVENT.SELECT_VIEW, event => that.selectDataView(event.dataSourcesIds, event.entityId), this.divId); // observes the SHOW event\n\n    EventManager["a" /* default */].observe(EventManager["a" /* default */].EVENT.SHOW_VIEW, event => that.show(event), this.divId); //\n\n    EventManager["a" /* default */].observe(EventManager["a" /* default */].EVENT.ADD_VIEW_ITEM, event => {\n      if (Object(Utils["g" /* isDefined */])(event.viewId) && event.viewId === that.id) {\n        that.addViewItem(event.viewItem);\n      }\n    }, this.divId);\n    EventManager["a" /* default */].observe(EventManager["a" /* default */].EVENT.RESIZE + "-" + this.divId, event => that.onResize(), this.divId);\n  }\n  /**\n   * Selects the view by setting the current selected entity and dataSource.\n   * @param  {String} dataSourcesIds - The dataSource id\n   * @param {String} entityId - The entity id\n   */\n\n\n  selectDataView(dataSourcesIds, entityId) {\n    if (Object(Utils["g" /* isDefined */])(this.dataSources)) {\n      this.selectedDataSources = dataSourcesIds; // set the selected entity even if it is undefined\n      // this is handled by the setData function\n\n      this.selectedEntity = entityId;\n\n      for (let j = 0; j < this.dataSources.length; j++) {\n        this.setData(this.dataSources[j], this.lastRec[this.dataSources[j]]);\n      }\n    }\n  }\n  /**\n   * Gets the list of the dataSource ids contained into the view.\n   * @return {String[]} The list of dataSource ids\n   */\n\n\n  getDataSourcesId() {\n    let res = [];\n\n    if (this.dataSourceId !== -1) {\n      res.push(this.dataSourceId);\n    } // check for layers\n\n\n    for (let i = 0; i < this.viewItems.length; i++) {\n      let viewItem = this.viewItems[i];\n\n      if (viewItem.hasOwnProperty("layer")) {\n        let layer = viewItem.layer;\n        res = res.concat(layer.getDataSourcesIds());\n      }\n    }\n\n    return res;\n  }\n  /**\n   * Calls for resetting the view.\n   */\n\n\n  reset() {}\n\n}\n\n/* harmony default export */ var view_View = __webpack_exports__["a"] = (View_View);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL2RhdGFjb25uZWN0b3IvU3RhdHVzLmpzPzA5ODciLCJ3ZWJwYWNrOi8vLy9ob21lL25ldnJvL1Byb2dzL3Byb2dzLWxvY2FsL2dpdC1yZXBvL09TSC9vc2gtanMvc291cmNlL29zaC9ldmVudC9FdmVudFR5cGUuanM/MTJlMSIsIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL3VpL3ZpZXcvVmlldy5qcz8yZmUyIl0sIm5hbWVzIjpbIlN0YXR1cyIsIkNPTk5FQ1RFRCIsIkRJU0NPTk5FQ1RFRCIsIkV2ZW50VHlwZSIsIkRBVEEiLCJTVEFUVVMiLCJWaWV3IiwiY29uc3RydWN0b3IiLCJwYXJlbnRFbGVtZW50RGl2SWQiLCJ2aWV3SXRlbXMiLCJvcHRpb25zIiwibGF5ZXJzIiwibmFtZXMiLCJsYXN0UmVjIiwic2VsZWN0ZWREYXRhU291cmNlcyIsImRhdGFTb3VyY2VzIiwiZW50aXR5IiwiaWQiLCJyYW5kb21VVUlEIiwiZGF0YVNvdXJjZUlkIiwiaXNEZWZpbmVkIiwiY3NzIiwiY3NzU2VsZWN0ZWQiLCJpbml0IiwiZWxlbWVudERpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImRpdklkIiwiZGl2IiwiZ2V0RWxlbWVudEJ5SWQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJoaWRlIiwiY29udGFpbmVyIiwiYmVmb3JlQWRkaW5nSXRlbXMiLCJpIiwibGVuZ3RoIiwiYWRkVmlld0l0ZW0iLCJzaG93Iiwic3R5bGUiLCJkaXNwbGF5IiwiaGFuZGxlRXZlbnRzIiwidGhhdCIsInJlZ2lzdGVyQ2FsbGJhY2siLCJvYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJtdXRhdGlvbnMiLCJmb3JFYWNoIiwibXV0YXRpb24iLCJhdHRyaWJ1dGVOYW1lIiwib25SZXNpemUiLCJvYnNlcnZlIiwiYXR0cmlidXRlcyIsInJvb3RPYnNlcnZlciIsImRpc2Nvbm5lY3QiLCJkZXN0cm95IiwiY2hpbGRMaXN0IiwicmVnaXN0ZXJEcyIsImJyb2FkY2FzdENoYW5uZWwiLCJCcm9hZGNhc3RDaGFubmVsIiwiREFUQVNPVVJDRV9EQVRBX1RPUElDIiwib25tZXNzYWdlIiwiZXZlbnQiLCJkYXRhIiwibWVzc2FnZSIsInJlc2V0IiwidHlwZSIsInNldERhdGEiLCJ2YWx1ZXMiLCJzdGF0dXMiLCJkYXRhU291cmNlIiwiZ2V0RGF0YVNvdXJjZXMiLCJ1bnJlZ2lzdGVyQ2FsbGJhY2siLCJFdmVudE1hbmFnZXIiLCJyZW1vdmVCeUlkIiwiYXR0YWNoVG8iLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJnZXRJZCIsImdldERpdklkIiwicHJvcGVydGllcyIsInZpZXdJdGVtIiwicHVzaCIsImhhc093blByb3BlcnR5IiwibGF5ZXIiLCJtYXJrZXJJZCIsIm5hbWUiLCJkcyIsImdldERhdGFTb3VyY2VzSWRzIiwic2VsZiIsInJlbW92ZVZpZXdJdGVtIiwiaW5jbHVkZXMiLCJkYXRhU291cmNlVG9MYXllck1hcCIsImZpbHRlciIsImN1cnJlbnRWaWV3SXRlbSIsImN1cnJlbnRMYXllciIsInJlbW92ZVZpZXdJdGVtcyIsIkVWRU5UIiwiU0VMRUNUX1ZJRVciLCJzZWxlY3REYXRhVmlldyIsImRhdGFTb3VyY2VzSWRzIiwiZW50aXR5SWQiLCJTSE9XX1ZJRVciLCJBRERfVklFV19JVEVNIiwidmlld0lkIiwiUkVTSVpFIiwic2VsZWN0ZWRFbnRpdHkiLCJqIiwiZ2V0RGF0YVNvdXJjZXNJZCIsInJlcyIsImNvbmNhdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sTUFBTUEsTUFBTSxHQUFHO0FBQ2xCQyxXQUFTLEVBQUcsV0FETTtBQUVsQkMsY0FBWSxFQUFFO0FBRkksQ0FB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RDtBQUNKO0FBQ0E7QUFDQTs7O0FBQ0lDLGtCQUFnQixHQUFHO0FBQ2YsUUFBSUMsR0FBRyxHQUFHLEVBQVY7O0FBQ0EsUUFBSSxLQUFLM0YsWUFBTCxLQUFzQixDQUFDLENBQTNCLEVBQThCO0FBQzFCMkYsU0FBRyxDQUFDM0IsSUFBSixDQUFTLEtBQUtoRSxZQUFkO0FBQ0gsS0FKYyxDQU1mOzs7QUFDQSxTQUFLLElBQUlpQixDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHLEtBQUszQixTQUFMLENBQWU0QixNQUFuQyxFQUEyQ0QsQ0FBQyxFQUE1QyxFQUFnRDtBQUM1QyxVQUFJOEMsUUFBUSxHQUFHLEtBQUt6RSxTQUFMLENBQWUyQixDQUFmLENBQWY7O0FBQ0EsVUFBSThDLFFBQVEsQ0FBQ0UsY0FBVCxDQUF3QixPQUF4QixDQUFKLEVBQXNDO0FBQ2xDLFlBQUlDLEtBQUssR0FBR0gsUUFBUSxDQUFDRyxLQUFyQjtBQUNBeUIsV0FBRyxHQUFHQSxHQUFHLENBQUNDLE1BQUosQ0FBVzFCLEtBQUssQ0FBQ0ksaUJBQU4sRUFBWCxDQUFOO0FBQ0g7QUFDSjs7QUFFRCxXQUFPcUIsR0FBUDtBQUNIO0FBRUQ7QUFDSjtBQUNBOzs7QUFDSTVDLE9BQUssR0FBRyxDQUNQOztBQXRXTTs7QUF5V0k1RCxrRkFBZiIsImZpbGUiOiI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBFbnVtIGZvciBjb25uZWN0aW9uIHN0YXR1cy5cbiAqIEByZWFkb25seVxuICogQGVudW0ge3tuYW1lOiBzdHJpbmd9fVxuICovXG5leHBvcnQgY29uc3QgU3RhdHVzID0ge1xuICAgIENPTk5FQ1RFRDogIFwiY29ubmVjdGVkXCIsXG4gICAgRElTQ09OTkVDVEVEOiBcImRpc2Nvbm5lY3RlZFwiXG59O1xuIiwiZXhwb3J0IGNvbnN0IEV2ZW50VHlwZSA9IHtcbiAgICBEQVRBOiAnZGF0YScsXG4gICAgU1RBVFVTOiAnc3RhdHVzJ1xufTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSwgdi4gMi4wLlxuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZVxuIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cblxuIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcyxcbiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2VcbiBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyByaWdodHMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4gQ29weXJpZ2h0IChDKSAyMDE1LTIwMjAgTWF0aGlldSBEaGFpbmF1dC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuIEF1dGhvcjogTWF0aGlldSBEaGFpbmF1dCA8bWF0aGlldS5kaGFpbmF1dEBnbWFpbC5jb20+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBUaGUgYWJzdHJhY3Qgb2JqZWN0IHRvIHJlcHJlc2VudCBhIHZpZXcuXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyZW50RWxlbWVudERpdklkIC0gVGhlIHBhcmVudCBodG1sIGVsZW1lbnQgZGl2IGlkIHRvIGF0dGFjaC9vciBjcmVhdGUgdGhlIHZpZXcuXG4gKiBAcGFyYW0ge1N0cmluZ30gdmlld0l0ZW1zIC0gVGhlIGxpc3Qgb2YgdmlldyBpdGVtc1xuICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMgLSBUaGUgb3B0aW9uc1xuICovXG5pbXBvcnQge2lzRGVmaW5lZCwgcmFuZG9tVVVJRH0gZnJvbSAnLi4vLi4vdXRpbHMvVXRpbHMuanMnO1xuaW1wb3J0IEV2ZW50TWFuYWdlciBmcm9tICcuLi8uLi9ldmVudHMvRXZlbnRNYW5hZ2VyLmpzJztcbmltcG9ydCAnLi4vLi4vcmVzb3VyY2VzL2Nzcy92aWV3LmNzcyc7XG5pbXBvcnQge0RBVEFTT1VSQ0VfREFUQV9UT1BJQ30gZnJvbSBcIi4uLy4uL0NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IHtTdGF0dXN9IGZyb20gXCIuLi8uLi9kYXRhY29ubmVjdG9yL1N0YXR1cy5qc1wiO1xuaW1wb3J0IHtFdmVudFR5cGV9IGZyb20gXCIuLi8uLi9ldmVudC9FdmVudFR5cGUuanNcIjtcblxuY2xhc3MgVmlldyB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgVmlldy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGFyZW50RWxlbWVudERpdklkIC0gVGhlIGRpdiBlbGVtZW50IHRvIGF0dGFjaCB0b1xuICAgICAqIEBwYXJhbSB7T2JqZWN0W119ICBbdmlld0l0ZW1zPVtdXSAtIFRoZSBpbml0aWFsIHZpZXcgaXRlbXMgdG8gYWRkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFt2aWV3SXRlbXMubmFtZV0gLSBUaGUgbmFtZSBvZiB0aGUgdmlldyBpdGVtXG4gICAgICogQHBhcmFtIHtMYXllcn0gdmlld0l0ZW1zLmxheWVyIC0gVGhlIGxheWVyIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHZpZXcgaXRlbVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gLSB0aGUgcHJvcGVydGllcyBvZiB0aGUgdmlld1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5kYXRhU291cmNlSWRdIC0gVGhlIGRhdGFTb3VyY2UgaWQgb2YgdGhlIGRhdGFTb3VyY2UgcHJvdmlkaW5nIGRhdGEgdG8gdGhlIHZpZXdcbiAgICAgKiBAcGFyYW0ge0VudGl0eX0gW29wdGlvbnMuZW50aXR5XSAtIFRoZSBlbnRpdHkgdG8gd2hpY2ggdGhlIHZpZXcgYmVsb25ncyB0b1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudEVsZW1lbnREaXZJZCwgdmlld0l0ZW1zLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIGxpc3Qgb2YgbGF5ZXJzXG4gICAgICAgIHRoaXMubGF5ZXJzID0gW107XG4gICAgICAgIHRoaXMudmlld0l0ZW1zID0gW107XG4gICAgICAgIHRoaXMubmFtZXMgPSB7fTtcbiAgICAgICAgdGhpcy5sYXN0UmVjID0ge307XG4gICAgICAgIHRoaXMuc2VsZWN0ZWREYXRhU291cmNlcyA9IFtdO1xuICAgICAgICB0aGlzLmRhdGFTb3VyY2VzID0gW107XG4gICAgICAgIHRoaXMuZW50aXR5ID0gbnVsbDtcblxuICAgICAgICAvL3RoaXMuZGl2SWQgPSBkaXZJZDtcbiAgICAgICAgdGhpcy5pZCA9IFwidmlldy1cIiArIHJhbmRvbVVVSUQoKTtcblxuICAgICAgICB0aGlzLmVudGl0eSA9IG51bGw7XG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZUlkID0gLTE7XG4gICAgICAgIC8vIHNldHMgZGF0YVNvdXJjZUlkXG4gICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9ucykgJiYgaXNEZWZpbmVkKG9wdGlvbnMuZGF0YVNvdXJjZUlkKSkge1xuICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlSWQgPSBvcHRpb25zLmRhdGFTb3VyY2VJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9ucykgJiYgaXNEZWZpbmVkKG9wdGlvbnMuZW50aXR5KSkge1xuICAgICAgICAgICAgdGhpcy5lbnRpdHkgPSBvcHRpb25zLmVudGl0eTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNzcyA9IFwiXCI7XG5cbiAgICAgICAgdGhpcy5jc3NTZWxlY3RlZCA9IFwiXCI7XG5cbiAgICAgICAgaWYgKGlzRGVmaW5lZChvcHRpb25zKSAmJiBpc0RlZmluZWQob3B0aW9ucy5jc3MpKSB7XG4gICAgICAgICAgICB0aGlzLmNzcyA9IG9wdGlvbnMuY3NzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzRGVmaW5lZChvcHRpb25zKSAmJiBpc0RlZmluZWQob3B0aW9ucy5jc3NTZWxlY3RlZCkpIHtcbiAgICAgICAgICAgIHRoaXMuY3NzU2VsZWN0ZWQgPSBvcHRpb25zLmNzc1NlbGVjdGVkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaW5pdHMgdGhlIHZpZXcgYmVmb3JlIGFkZGluZyB0aGUgdmlld0l0ZW1cbiAgICAgICAgdGhpcy5pbml0KHBhcmVudEVsZW1lbnREaXZJZCwgdmlld0l0ZW1zLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0cyB0aGUgdmlldyBjb21wb25lbnQuXG4gICAgICogQHBhcmFtIHBhcmVudEVsZW1lbnREaXZJZCBUaGUgcGFyZW50IGh0bWwgZWxlbWVudCBvYmplY3QgdG8gYXR0YWNoL2NyZWF0ZSB0aGUgdmlld1xuICAgICAqIEBwYXJhbSB2aWV3SXRlbXMgdGhlIGxpc3Qgb2YgaXRlbXMgdG8gYWRkXG4gICAgICogQHBhcmFtIG9wdGlvbnMgW1RPRE9dXG4gICAgICogQG1lbWJlcm9mIFZpZXdcbiAgICAgKi9cbiAgICBpbml0KHBhcmVudEVsZW1lbnREaXZJZCwgdmlld0l0ZW1zLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuZWxlbWVudERpdi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCB0aGlzLmlkKTtcbiAgICAgICAgdGhpcy5lbGVtZW50RGl2LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIHRoaXMuY3NzK1wiIG9zaC12aWV3XCIpO1xuICAgICAgICB0aGlzLmRpdklkID0gdGhpcy5pZDtcblxuICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGFyZW50RWxlbWVudERpdklkKTtcblxuICAgICAgICBpZiAoIWlzRGVmaW5lZChkaXYpIHx8IGRpdiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnREaXYpO1xuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LmJvZHk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50RGl2KTtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gZGl2O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5iZWZvcmVBZGRpbmdJdGVtcyhvcHRpb25zKTtcblxuICAgICAgICBpZiAoaXNEZWZpbmVkKHZpZXdJdGVtcykpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmlld0l0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRWaWV3SXRlbSh2aWV3SXRlbXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzRGVmaW5lZChvcHRpb25zKSkge1xuICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChvcHRpb25zLnNob3cpKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5kaXZJZCkuc3R5bGUuZGlzcGxheSA9IChvcHRpb25zLnNob3cpID8gXCJibG9ja1wiIDogXCJub25lXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYW5kbGVFdmVudHMoKTtcblxuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgIC8vIG9ic2VydmVzIHRoZSBldmVudCBhc3NvY2lhdGVkIHRvIHRoZSBkYXRhU291cmNlSWRcbiAgICAgICAgdGhpcy5yZWdpc3RlckNhbGxiYWNrKCk7XG5cbiAgICAgICAgbGV0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4ge1xuICAgICAgICAgICAgbXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24gKG11dGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gV2FzIGl0IHRoZSBzdHlsZSBhdHRyaWJ1dGUgdGhhdCBjaGFuZ2VkPyAoTWF5YmUgYSBjbGFzc25hbWUgb3Igb3RoZXIgYXR0cmlidXRlIGNoYW5nZSBjb3VsZCBkbyB0aGlzIHRvbz8gWW91IG1pZ2h0IHdhbnQgdG8gcmVtb3ZlIHRoZSBhdHRyaWJ1dGUgY29uZGl0aW9uKSBJcyBkaXNwbGF5IHNldCB0byAnbm9uZSc/XG4gICAgICAgICAgICAgICAgaWYgKG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUgPT09ICdzdHlsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5vblJlc2l6ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gQXR0YWNoIHRoZSBtdXRhdGlvbiBvYnNlcnZlciB0byBibG9ja2VyLCBhbmQgb25seSB3aGVuIGF0dHJpYnV0ZSB2YWx1ZXMgY2hhbmdlXG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUodGhpcy5lbGVtZW50RGl2LCB7YXR0cmlidXRlczogdHJ1ZX0pO1xuXG4gICAgICAgIGNvbnN0IHJvb3RPYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKG11dGF0aW9ucykge1xuICAgICAgICAgICAgLy8gdHJ5IHRvIGdldCB0aGUgZGl2IGVsZW1lbnQgYnkgdGhlIGlkIHRvIGNoZWNrIGlmIGl0IGlzIHN0aWxsIG93bmVkIGJ5IHRoZSBkb2N1bWVudCBvYmplY3RcbiAgICAgICAgICAgIGlmKCFpc0RlZmluZWQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhhdC5kaXZJZCkpKXtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICB0aGF0LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJvb3RPYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIHtcbiAgICAgICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJDYWxsYmFjaygpIHtcbiAgICAgICAgaWYgKGlzRGVmaW5lZCh0aGlzLmRhdGFTb3VyY2VJZCkgfHwgaXNEZWZpbmVkKHRoaXMuZW50aXR5KSkge1xuICAgICAgICAgICAgY29uc3QgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICBmdW5jdGlvbiByZWdpc3RlckRzKGRhdGFTb3VyY2VJZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJyb2FkY2FzdENoYW5uZWwgPSBuZXcgQnJvYWRjYXN0Q2hhbm5lbChEQVRBU09VUkNFX0RBVEFfVE9QSUMgKyBkYXRhU291cmNlSWQpO1xuICAgICAgICAgICAgICAgIGJyb2FkY2FzdENoYW5uZWwub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5kYXRhLm1lc3NhZ2UgJiYgZXZlbnQuZGF0YS5tZXNzYWdlID09PSAncmVzZXQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnJlc2V0KCk7IC8vIG9uIGRhdGEgc3RyZWFtIHJlc2V0XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihldmVudC5kYXRhLnR5cGUgPT09IEV2ZW50VHlwZS5EQVRBKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5zZXREYXRhKGRhdGFTb3VyY2VJZCwgZXZlbnQuZGF0YS52YWx1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKGV2ZW50LmRhdGEudHlwZSA9PT0gRXZlbnRUeXBlLlNUQVRVUyAmJiBldmVudC5kYXRhLnN0YXR1cyA9PT0gU3RhdHVzLkRJU0NPTk5FQ1RFRCkgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5yZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHRoaXMuZW50aXR5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBkYXRhU291cmNlIG9mIHRoaXMuZW50aXR5LmdldERhdGFTb3VyY2VzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJEcyhkYXRhU291cmNlLmlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlZ2lzdGVyRHModGhpcy5kYXRhU291cmNlSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB1bnJlZ2lzdGVyQ2FsbGJhY2soKSB7XG4gICAgICAgIEV2ZW50TWFuYWdlci5yZW1vdmVCeUlkKHRoaXMuZGl2SWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhpZGUgdGhlIHZpZXdcbiAgICAgKi9cbiAgICBoaWRlKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnREaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIGNhbGxlZCB3aGVuIHRoZSB2aWV3IGlzIHJlc2l6ZWRcbiAgICAgKiBAZXZlbnRcbiAgICAgKi9cbiAgICBvblJlc2l6ZSgpIHtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdHRhY2ggdGhlIHZpZXcgdG8gYSBzcGVjaWZpYyBkaXYuIElmIHRoZSB2aWV3IGhhcyBhbHJlYWR5IGJlZW4gYXR0YWNoZWQgdG8gYSBkaXYsIGl0IHdpbGwgYmUgcmVtb3ZlZFxuICAgICAqIGZyb20gaXRzIGN1cnJlbnQgcGFyZW50IGFuZCB3aWxsIGJlIGF0dGFjaGVkIHRvIG5ldyBvbmUuXG4gICAgICogTm90ZTogdGhlIG9uUmVzaXplKCkgaXMgY2FsbGVkIGF0IHRoZSBlbmQgb2YgdGhlIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRpdklkIC0gVGhlIGRpdiBlbGVtZW50IHRvIGF0dGFjaCB0b1xuICAgICAqL1xuICAgIGF0dGFjaFRvKGRpdklkKSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQodGhpcy5lbGVtZW50RGl2LnBhcmVudE5vZGUpKSB7XG4gICAgICAgICAgICAvLyBkZXRhY2ggZnJvbSBpdHMgcGFyZW50XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnREaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnREaXYpO1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdklkKS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnREaXYpO1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50RGl2LnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnREaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgYmVmb3JlIGF0dGFjaGluZyBhbnkgdmlldyBpdGVtcyBwYXNzZWQgYXMgYXJndW1lbnRzIGluIHRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgdmlldy5cbiAgICAgKiBAZXZlbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIEEgZ2VuZXJpYyBvYmplY3QgdG8gdXNlXG4gICAgICovXG4gICAgYmVmb3JlQWRkaW5nSXRlbXMob3B0aW9ucykge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5uZXIgaWQgb2YgdGhlIHZpZXcgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIGlkIG9mIHRoZSB2aWV3XG4gICAgICovXG4gICAgZ2V0SWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGRpdiBpZCBvZiB0aGUgRE9NIGVsZW1lbnQuXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgZGl2IGlkIG9mIHRoZSB2aWV3XG4gICAgICovXG4gICAgZ2V0RGl2SWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpdklkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZGF0YSB0byB0aGUgdmlldy4gRWFjaCB2aWV3IGhhcyB0byBoYW5kbGUgdGhlIGtpbmQgb2YgdGhlIGRhdGEgc2VwYXJhdGVseS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YVNvdXJjZUlkIC0gVGhlIGRhdGFTb3VyY2UgaWQgb2YgdGhlIHNvdXJjZSBwcm92aWRpbmcgdGhlIGRhdGFcbiAgICAgKiBAcGFyYW0ge2FueVtdfSBkYXRhIC0gVGhlIGRhdGEgYXJyYXkgdG8gc2V0XG4gICAgICovXG4gICAgc2V0RGF0YShkYXRhU291cmNlSWQsIGRhdGEpIHtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG93IHRoZSB2aWV3LlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gcHJvcGVydGllcyAtIEEgZ2VuZXJpYyBvYmplY3RcbiAgICAgKi9cbiAgICBzaG93KHByb3BlcnRpZXMpIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkgIHtcbiAgICAgICAgdGhpcy51bnJlZ2lzdGVyQ2FsbGJhY2soKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHZpZXdJdGVtIHRvIHRoZSB2aWV3LiBBIGJyb2FkY2FzdENoYW5uZWwgaXMgZ29pbmcgdG8gbGlzdGVuIHRoZSBuZXcgZGF0YVNvdXJjZXNcbiAgICAgKiBhbmQgRXZlbnRNYW5hZ2VyLkVWRU5ULlNFTEVDVF9WSUVXIGFyZSB0aGVuIG9ic2VydmVkIHVzaW5nIHRoZVxuICAgICAqIGRhdGFTb3VyY2UocykgY29udGFpbmVkIGludG8gdGhlIGxheWVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2aWV3SXRlbSAtIFRoZSBpbml0aWFsIHZpZXcgaXRlbXMgdG8gYWRkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHZpZXdJdGVtLm5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgdmlldyBpdGVtXG4gICAgICogQHBhcmFtIHtMYXllcn0gdmlld0l0ZW0ubGF5ZXIgLSBUaGUgbGF5ZXIgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgdmlldyBpdGVtXG4gICAgICovXG4gICAgYWRkVmlld0l0ZW0odmlld0l0ZW0pIHtcbiAgICAgICAgdGhpcy52aWV3SXRlbXMucHVzaCh2aWV3SXRlbSk7XG4gICAgICAgIGlmICh2aWV3SXRlbS5oYXNPd25Qcm9wZXJ0eShcImxheWVyXCIpKSB7XG4gICAgICAgICAgICBsZXQgbGF5ZXIgPSB2aWV3SXRlbS5sYXllcjtcbiAgICAgICAgICAgIHRoaXMubGF5ZXJzLnB1c2gobGF5ZXIpO1xuICAgICAgICAgICAgaWYgKHZpZXdJdGVtLmhhc093blByb3BlcnR5KFwibmFtZVwiKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubmFtZXNbbGF5ZXIubWFya2VySWRdID0gdmlld0l0ZW0ubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxheWVyLnZpZXdJdGVtID0gdmlld0l0ZW07XG4gICAgICAgICAgICBsYXllci5pbml0KHRoaXMpO1xuICAgICAgICAgICAgLy9mb3IobGV0IGRhdGFTb3VyY2VJZCBpbiBsYXllci5kYXRhU291cmNlVG9MYXllck1hcCkge1xuICAgICAgICAgICAgbGV0IGRzID0gbGF5ZXIuZ2V0RGF0YVNvdXJjZXNJZHMoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhU291cmNlSWQgPSBkc1tpXTtcbiAgICAgICAgICAgICAgICAvLyBvYnNlcnZlcyB0aGUgZGF0YSBjb21lIGluXG4gICAgICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJyb2FkY2FzdENoYW5uZWwgPSBuZXcgQnJvYWRjYXN0Q2hhbm5lbChEQVRBU09VUkNFX0RBVEFfVE9QSUMrZGF0YVNvdXJjZUlkKTtcbiAgICAgICAgICAgICAgICBicm9hZGNhc3RDaGFubmVsLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBza2lwIGRhdGEgcmVzZXQgZXZlbnRzIGZvciBub3dcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEudHlwZSA9PT0gRXZlbnRUeXBlLlNUQVRVUyAmJiBldmVudC5kYXRhLnN0YXR1cyA9PT0gU3RhdHVzLkRJU0NPTk5FQ1RFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vVE9ETzogbWF5YmUgZG9uZSBpbnRvIHRoZSBsYXllcj9cbiAgICAgICAgICAgICAgICAgICAgaWYoZXZlbnQuZGF0YS50eXBlID09PSBFdmVudFR5cGUuREFUQSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuc2V0RGF0YShkYXRhU291cmNlSWQsIGV2ZW50LmRhdGEsIHNlbGYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5sYXN0UmVjW2RhdGFTb3VyY2VJZF0gPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSB2aWV3IGl0ZW0gZnJvbSB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdmlld0l0ZW0gLSBUaGUgaW5pdGlhbCB2aWV3IGl0ZW1zIHRvIGFkZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2aWV3SXRlbS5uYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHZpZXcgaXRlbVxuICAgICAqIEBwYXJhbSB7TGF5ZXJ9IHZpZXdJdGVtLmxheWVyIC0gVGhlIGxheWVyIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHZpZXcgaXRlbVxuICAgICAqL1xuICAgIHJlbW92ZVZpZXdJdGVtKHZpZXdJdGVtKSB7XG4gICAgICAgIGlmKHRoaXMudmlld0l0ZW1zLmluY2x1ZGVzKHZpZXdJdGVtKSkge1xuICAgICAgICAgICAgLy8gMSkgcmVtb3ZlIGZyb20gU1RZTEVSIGZuXG4gICAgICAgICAgICBmb3IobGV0IGRzIGluIHZpZXdJdGVtLmxheWVyLmRhdGFTb3VyY2VUb0xheWVyTWFwKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMubGFzdFJlY1tkc107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZpZXdJdGVtcyA9IHRoaXMudmlld0l0ZW1zLmZpbHRlcihjdXJyZW50Vmlld0l0ZW0gPT4gY3VycmVudFZpZXdJdGVtICE9PSB2aWV3SXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXllcnMgPSB0aGlzLmxheWVycy5maWx0ZXIoY3VycmVudExheWVyID0+IGN1cnJlbnRMYXllci5pZCAhPT0gdmlld0l0ZW0ubGF5ZXIuaWQpO1xuICAgICAgICBkZWxldGUgdGhpcy5uYW1lc1t2aWV3SXRlbS5sYXllci5tYXJrZXJJZF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgdmlldyBpdGVtIGZyb20gdGhlIHZpZXcuXG4gICAgICovXG4gICAgcmVtb3ZlVmlld0l0ZW1zKCkge1xuICAgICAgICBmb3IoY29uc3Qgdmlld0l0ZW0gb2YgdGhpcy52aWV3SXRlbXMpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlVmlld0l0ZW0odmlld0l0ZW0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBoYW5kbGVFdmVudHMoKSB7XG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgLy8gb2JzZXJ2ZXMgdGhlIHNlbGVjdGVkIGV2ZW50XG4gICAgICAgIEV2ZW50TWFuYWdlci5vYnNlcnZlKEV2ZW50TWFuYWdlci5FVkVOVC5TRUxFQ1RfVklFVywgKGV2ZW50KSA9PlxuICAgICAgICAgICAgdGhhdC5zZWxlY3REYXRhVmlldyhldmVudC5kYXRhU291cmNlc0lkcywgZXZlbnQuZW50aXR5SWQpLHRoaXMuZGl2SWQpO1xuXG4gICAgICAgIC8vIG9ic2VydmVzIHRoZSBTSE9XIGV2ZW50XG4gICAgICAgIEV2ZW50TWFuYWdlci5vYnNlcnZlKEV2ZW50TWFuYWdlci5FVkVOVC5TSE9XX1ZJRVcsIChldmVudCkgPT4gdGhhdC5zaG93KGV2ZW50KSx0aGlzLmRpdklkKTtcbiAgICAgICAgLy9cbiAgICAgICAgRXZlbnRNYW5hZ2VyLm9ic2VydmUoRXZlbnRNYW5hZ2VyLkVWRU5ULkFERF9WSUVXX0lURU0sIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChldmVudC52aWV3SWQpICYmIGV2ZW50LnZpZXdJZCA9PT0gdGhhdC5pZCkge1xuICAgICAgICAgICAgICAgIHRoYXQuYWRkVmlld0l0ZW0oZXZlbnQudmlld0l0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LHRoaXMuZGl2SWQpO1xuXG4gICAgICAgIEV2ZW50TWFuYWdlci5vYnNlcnZlKEV2ZW50TWFuYWdlci5FVkVOVC5SRVNJWkUgKyBcIi1cIiArIHRoaXMuZGl2SWQsIChldmVudCkgPT5cbiAgICAgICAgICAgIHRoYXQub25SZXNpemUoKSx0aGlzLmRpdklkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZWxlY3RzIHRoZSB2aWV3IGJ5IHNldHRpbmcgdGhlIGN1cnJlbnQgc2VsZWN0ZWQgZW50aXR5IGFuZCBkYXRhU291cmNlLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZGF0YVNvdXJjZXNJZHMgLSBUaGUgZGF0YVNvdXJjZSBpZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBlbnRpdHlJZCAtIFRoZSBlbnRpdHkgaWRcbiAgICAgKi9cbiAgICBzZWxlY3REYXRhVmlldyhkYXRhU291cmNlc0lkcywgZW50aXR5SWQpIHtcbiAgICAgICAgaWYgKGlzRGVmaW5lZCh0aGlzLmRhdGFTb3VyY2VzKSkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZERhdGFTb3VyY2VzID0gZGF0YVNvdXJjZXNJZHM7XG4gICAgICAgICAgICAvLyBzZXQgdGhlIHNlbGVjdGVkIGVudGl0eSBldmVuIGlmIGl0IGlzIHVuZGVmaW5lZFxuICAgICAgICAgICAgLy8gdGhpcyBpcyBoYW5kbGVkIGJ5IHRoZSBzZXREYXRhIGZ1bmN0aW9uXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkRW50aXR5ID0gZW50aXR5SWQ7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuZGF0YVNvdXJjZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldERhdGEodGhpcy5kYXRhU291cmNlc1tqXSwgdGhpcy5sYXN0UmVjW3RoaXMuZGF0YVNvdXJjZXNbal1dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxpc3Qgb2YgdGhlIGRhdGFTb3VyY2UgaWRzIGNvbnRhaW5lZCBpbnRvIHRoZSB2aWV3LlxuICAgICAqIEByZXR1cm4ge1N0cmluZ1tdfSBUaGUgbGlzdCBvZiBkYXRhU291cmNlIGlkc1xuICAgICAqL1xuICAgIGdldERhdGFTb3VyY2VzSWQoKSB7XG4gICAgICAgIGxldCByZXMgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuZGF0YVNvdXJjZUlkICE9PSAtMSkge1xuICAgICAgICAgICAgcmVzLnB1c2godGhpcy5kYXRhU291cmNlSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2hlY2sgZm9yIGxheWVyc1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudmlld0l0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdmlld0l0ZW0gPSB0aGlzLnZpZXdJdGVtc1tpXTtcbiAgICAgICAgICAgIGlmICh2aWV3SXRlbS5oYXNPd25Qcm9wZXJ0eShcImxheWVyXCIpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxheWVyID0gdmlld0l0ZW0ubGF5ZXI7XG4gICAgICAgICAgICAgICAgcmVzID0gcmVzLmNvbmNhdChsYXllci5nZXREYXRhU291cmNlc0lkcygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbHMgZm9yIHJlc2V0dGluZyB0aGUgdmlldy5cbiAgICAgKi9cbiAgICByZXNldCgpIHtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZpZXc7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * The DataSource is the abstract class used to create different datasources.\n *\n */\n\nclass DataSource {\n  /**\n   * @param {String} name - the datasource name\n   * @param {Object} properties - the datasource properties\n   * @param {Boolean} [properties.timeShift=false] - fix some problem with some android devices with some timestamp shift to 16 sec\n   * @param {Number} [properties.bufferingTime=0 - defines the time during the data has to be buffered. Useful only when used with DataSynchronizer\n   * @param {Number} [properties.timeOut=0] - defines the limit time before data has to be skipped. Useful only when used with DataSynchronizer\n   * @param {String} properties.protocol - defines the protocol of the datasource. @see {@link DataConnector}\n   * @param {String} properties.endpointUrl the endpoint url\n   * @param {String} properties.service the service\n   * @param {String} properties.offeringID the offeringID\n   * @param {String} properties.observedProperty the observed property\n   * @param {String} properties.startTime the start time (ISO format)\n   * @param {String} properties.endTime the end time (ISO format)\n   * @param {Number} [properties.replaySpeed=1] the replay factor\n   * @param {Number} [properties.responseFormat] the response format (e.g video/mp4)\n   * @param {Number} [properties.reconnectTimeout=10000] - the time before reconnecting (in milliseconds)\n   * @param {Number} [properties.batchSize=1] - the number of data to fetch\n   * @param {Object} [properties.customUrlParams={}] - custom parameters appended to the URL as they are\n   * @param {Object} worker - DataSource worker\n   */\n  constructor(name, properties, worker) {\n    this.id = \"DataSource-\" + Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* randomUUID */ \"h\"])();\n    this.name = name;\n    this.properties = {\n      fetch: 1,\n      // default value if not defined\n      ...properties\n    };\n    this.dataSourceWorker = worker;\n    this.dataSynchronizer = null;\n    this.currentRunningProperties = {};\n    this.initDataSource(properties);\n  }\n  /**\n   * Inits the datasource with the constructor properties.\n   * @private\n   * @param properties\n   */\n\n\n  initDataSource(properties) {\n    this.dataSourceWorker.postMessage({\n      message: 'init',\n      id: this.id,\n      properties: JSON.stringify(properties),\n      topic: _Constants__WEBPACK_IMPORTED_MODULE_1__[/* DATASOURCE_DATA_TOPIC */ \"a\"] + this.id\n    });\n  }\n\n  setDataSynchronizer(dataSynchronizer) {\n    this.dataSynchronizer = dataSynchronizer;\n    this.dataSourceWorker.postMessage({\n      message: 'topic',\n      topic: _Constants__WEBPACK_IMPORTED_MODULE_1__[/* DATA_SYNCHRONIZER_TOPIC */ \"b\"] + this.dataSynchronizer.id\n    });\n  }\n  /**\n   * Sets the data source time range\n   * @param {String} startTime - the startTime (in date ISO)\n   * @param {String} endTime - the startTime (in date ISO)\n   * @param {Number} replaySpeed - the replay speed\n   */\n\n\n  setTimeRange(startTime, endTime, replaySpeed) {\n    this.updateUrl({ ...this.currentRunningProperties,\n      startTime: startTime,\n      endTime: endTime,\n      replaySpeed: replaySpeed\n    });\n  }\n  /**\n   * Gets the startTime\n   * @returns {String} - startTime as ISO date\n   */\n\n\n  getStartTime() {\n    return this.properties.startTime;\n  }\n  /**\n   * Gets the endTime\n   * @returns {String} - endTime as ISO date\n   */\n\n\n  getEndTime() {\n    return this.properties.endTime;\n  }\n  /**\n   * Gets the endTime\n   * @returns {String} - endTime as ISO date\n   */\n\n\n  getReplaySpeed() {\n    return Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ \"g\"])(this.properties.replaySpeed) ? this.properties.replaySpeed : 1;\n  }\n  /**\n   * Disconnect the dataSource then the connector will be closed as well.\n   */\n\n\n  disconnect() {\n    this.dataSourceWorker.postMessage({\n      message: 'disconnect'\n    });\n  }\n  /**\n   * Connect the dataSource then the connector will be opened as well.\n   */\n\n\n  async connect() {\n    this.dataSourceWorker.postMessage({\n      message: 'connect'\n    });\n    return this.isConnected();\n  }\n\n  async isConnected() {\n    const promise = new Promise(resolve => {\n      if (this.dataSourceWorker !== null) {\n        this.dataSourceWorker.onmessage = event => {\n          if (event.data.message === 'is-connected') {\n            resolve(event.data.data);\n          }\n        };\n      }\n    });\n\n    if (this.dataSourceWorker !== null) {\n      this.dataSourceWorker.postMessage({\n        message: 'is-connected'\n      });\n    }\n\n    return promise;\n  }\n\n  async getCurrentTime() {\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ \"g\"])(this.dataSynchronizer)) {\n      return this.dataSynchronizer.getCurrentTime();\n    } else {\n      const promise = new Promise(resolve => {\n        if (this.dataSourceWorker !== null) {\n          this.dataSourceWorker.onmessage = event => {\n            if (event.data.message === 'last-timestamp') {\n              resolve(event.data.data);\n            }\n          };\n        }\n      });\n\n      if (this.dataSourceWorker !== null) {\n        this.dataSourceWorker.postMessage({\n          message: 'last-timestamp'\n        });\n      }\n\n      return promise;\n    }\n  }\n  /**\n   * Gets the datasource id.\n   * @return {String} the datasource id\n   */\n\n\n  getId() {\n    return this.id;\n  }\n  /**\n   * Gets the datasource name.\n   * @return {String} the datasource name\n   */\n\n\n  getName() {\n    return this.name;\n  }\n  /**\n   * Update properties\n   * @param {String} name - the datasource name\n   * @param {Object} properties - the datasource properties\n   * @param {Boolean} properties.timeShift - fix some problem with some android devices with some timestamp shift to 16 sec\n   * @param {Number} properties.bufferingTime - defines the time during the data has to be buffered\n   * @param {Number} properties.timeOut - defines the limit time before data has to be skipped\n   * @param {String} properties.protocol - defines the protocol of the datasource. @see {@link DataConnector}\n   * @param {String} properties.endpointUrl the endpoint url\n   * @param {String} properties.service the service\n   * @param {String} properties.offeringID the offeringID\n   * @param {String} properties.observedProperty the observed property\n   * @param {String} properties.startTime the start time (ISO format)\n   * @param {String} properties.endTime the end time (ISO format)\n   * @param {Number} properties.replaySpeed the replay speed\n   * @param {Number} properties.responseFormat the response format (e.g video/mp4)\n   * @param {Number} properties.reconnectTimeout - the timeout before reconnecting\n   */\n\n\n  updateUrl(properties) {\n    // save current running properties\n    this.currentRunningProperties = { ...this.properties,\n      ...properties\n    };\n\n    if (this.dataSourceWorker !== null) {\n      this.dataSourceWorker.postMessage({\n        message: 'update-url',\n        data: properties\n      });\n    }\n  }\n\n  getCurrentRunningProperties() {\n    return this.currentRunningProperties;\n  }\n\n  terminate() {\n    if (this.dataSourceWorker !== null) {\n      this.dataSourceWorker.terminate();\n    }\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (DataSource);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL2RhdGFyZWNlaXZlci9EYXRhU291cmNlLmpzPzE2ZWMiXSwibmFtZXMiOlsiRGF0YVNvdXJjZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsInByb3BlcnRpZXMiLCJ3b3JrZXIiLCJpZCIsInJhbmRvbVVVSUQiLCJmZXRjaCIsImRhdGFTb3VyY2VXb3JrZXIiLCJkYXRhU3luY2hyb25pemVyIiwiY3VycmVudFJ1bm5pbmdQcm9wZXJ0aWVzIiwiaW5pdERhdGFTb3VyY2UiLCJwb3N0TWVzc2FnZSIsIm1lc3NhZ2UiLCJKU09OIiwic3RyaW5naWZ5IiwidG9waWMiLCJEQVRBU09VUkNFX0RBVEFfVE9QSUMiLCJzZXREYXRhU3luY2hyb25pemVyIiwiREFUQV9TWU5DSFJPTklaRVJfVE9QSUMiLCJzZXRUaW1lUmFuZ2UiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwicmVwbGF5U3BlZWQiLCJ1cGRhdGVVcmwiLCJnZXRTdGFydFRpbWUiLCJnZXRFbmRUaW1lIiwiZ2V0UmVwbGF5U3BlZWQiLCJpc0RlZmluZWQiLCJkaXNjb25uZWN0IiwiY29ubmVjdCIsImlzQ29ubmVjdGVkIiwicHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwib25tZXNzYWdlIiwiZXZlbnQiLCJkYXRhIiwiZ2V0Q3VycmVudFRpbWUiLCJnZXRJZCIsImdldE5hbWUiLCJnZXRDdXJyZW50UnVubmluZ1Byb3BlcnRpZXMiLCJ0ZXJtaW5hdGUiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsTUFBTUEsVUFBTixDQUFpQjtBQUNiO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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RDtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNJc0IsV0FBUyxDQUFDckIsVUFBRCxFQUFhO0FBQ2xCO0FBQ0EsU0FBS08sd0JBQUwsR0FBZ0MsRUFDNUIsR0FBRyxLQUFLUCxVQURvQjtBQUU1QixTQUFHQTtBQUZ5QixLQUFoQzs7QUFJQSxRQUFHLEtBQUtLLGdCQUFMLEtBQTBCLElBQTdCLEVBQW1DO0FBQy9CLFdBQUtBLGdCQUFMLENBQXNCSSxXQUF0QixDQUFrQztBQUM5QkMsZUFBTyxFQUFFLFlBRHFCO0FBRTlCd0IsWUFBSSxFQUFFbEM7QUFGd0IsT0FBbEM7QUFJSDtBQUNKOztBQUVEc0MsNkJBQTJCLEdBQUc7QUFDMUIsV0FBTyxLQUFLL0Isd0JBQVo7QUFDSDs7QUFFRGdDLFdBQVMsR0FBRztBQUNSLFFBQUcsS0FBS2xDLGdCQUFMLEtBQTBCLElBQTdCLEVBQW1DO0FBQy9CLFdBQUtBLGdCQUFMLENBQXNCa0MsU0FBdEI7QUFDSDtBQUNKOztBQW5OWTs7QUFzTkYxQyxtRUFBZiIsImZpbGUiOiI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAyMCBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQge2lzRGVmaW5lZCwgcmFuZG9tVVVJRH0gZnJvbSAnLi4vdXRpbHMvVXRpbHMuanMnO1xuaW1wb3J0IHtEQVRBX1NZTkNIUk9OSVpFUl9UT1BJQywgREFUQVNPVVJDRV9EQVRBX1RPUElDfSBmcm9tIFwiLi4vQ29uc3RhbnRzXCI7XG5cbi8qKlxuICogVGhlIERhdGFTb3VyY2UgaXMgdGhlIGFic3RyYWN0IGNsYXNzIHVzZWQgdG8gY3JlYXRlIGRpZmZlcmVudCBkYXRhc291cmNlcy5cbiAqXG4gKi9cbmNsYXNzIERhdGFTb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gdGhlIGRhdGFzb3VyY2UgbmFtZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzIC0gdGhlIGRhdGFzb3VyY2UgcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3Byb3BlcnRpZXMudGltZVNoaWZ0PWZhbHNlXSAtIGZpeCBzb21lIHByb2JsZW0gd2l0aCBzb21lIGFuZHJvaWQgZGV2aWNlcyB3aXRoIHNvbWUgdGltZXN0YW1wIHNoaWZ0IHRvIDE2IHNlY1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy5idWZmZXJpbmdUaW1lPTAgLSBkZWZpbmVzIHRoZSB0aW1lIGR1cmluZyB0aGUgZGF0YSBoYXMgdG8gYmUgYnVmZmVyZWQuIFVzZWZ1bCBvbmx5IHdoZW4gdXNlZCB3aXRoIERhdGFTeW5jaHJvbml6ZXJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMudGltZU91dD0wXSAtIGRlZmluZXMgdGhlIGxpbWl0IHRpbWUgYmVmb3JlIGRhdGEgaGFzIHRvIGJlIHNraXBwZWQuIFVzZWZ1bCBvbmx5IHdoZW4gdXNlZCB3aXRoIERhdGFTeW5jaHJvbml6ZXJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5wcm90b2NvbCAtIGRlZmluZXMgdGhlIHByb3RvY29sIG9mIHRoZSBkYXRhc291cmNlLiBAc2VlIHtAbGluayBEYXRhQ29ubmVjdG9yfVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLmVuZHBvaW50VXJsIHRoZSBlbmRwb2ludCB1cmxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5zZXJ2aWNlIHRoZSBzZXJ2aWNlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMub2ZmZXJpbmdJRCB0aGUgb2ZmZXJpbmdJRFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLm9ic2VydmVkUHJvcGVydHkgdGhlIG9ic2VydmVkIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuc3RhcnRUaW1lIHRoZSBzdGFydCB0aW1lIChJU08gZm9ybWF0KVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLmVuZFRpbWUgdGhlIGVuZCB0aW1lIChJU08gZm9ybWF0KVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy5yZXBsYXlTcGVlZD0xXSB0aGUgcmVwbGF5IGZhY3RvclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy5yZXNwb25zZUZvcm1hdF0gdGhlIHJlc3BvbnNlIGZvcm1hdCAoZS5nIHZpZGVvL21wNClcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMucmVjb25uZWN0VGltZW91dD0xMDAwMF0gLSB0aGUgdGltZSBiZWZvcmUgcmVjb25uZWN0aW5nIChpbiBtaWxsaXNlY29uZHMpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLmJhdGNoU2l6ZT0xXSAtIHRoZSBudW1iZXIgb2YgZGF0YSB0byBmZXRjaFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcy5jdXN0b21VcmxQYXJhbXM9e31dIC0gY3VzdG9tIHBhcmFtZXRlcnMgYXBwZW5kZWQgdG8gdGhlIFVSTCBhcyB0aGV5IGFyZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB3b3JrZXIgLSBEYXRhU291cmNlIHdvcmtlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHByb3BlcnRpZXMsIHdvcmtlcikge1xuICAgICAgICB0aGlzLmlkID0gXCJEYXRhU291cmNlLVwiICsgcmFuZG9tVVVJRCgpO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICBmZXRjaDogMSwgLy8gZGVmYXVsdCB2YWx1ZSBpZiBub3QgZGVmaW5lZFxuICAgICAgICAgICAgLi4ucHJvcGVydGllc1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZVdvcmtlciA9IHdvcmtlcjtcbiAgICAgICAgdGhpcy5kYXRhU3luY2hyb25pemVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50UnVubmluZ1Byb3BlcnRpZXMgPSB7fTtcbiAgICAgICAgdGhpcy5pbml0RGF0YVNvdXJjZShwcm9wZXJ0aWVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0cyB0aGUgZGF0YXNvdXJjZSB3aXRoIHRoZSBjb25zdHJ1Y3RvciBwcm9wZXJ0aWVzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBpbml0RGF0YVNvdXJjZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZVdvcmtlci5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBtZXNzYWdlOiAnaW5pdCcsXG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IEpTT04uc3RyaW5naWZ5KHByb3BlcnRpZXMpLFxuICAgICAgICAgICAgdG9waWM6IERBVEFTT1VSQ0VfREFUQV9UT1BJQyt0aGlzLmlkXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldERhdGFTeW5jaHJvbml6ZXIoZGF0YVN5bmNocm9uaXplcikge1xuICAgICAgICB0aGlzLmRhdGFTeW5jaHJvbml6ZXIgPSBkYXRhU3luY2hyb25pemVyO1xuICAgICAgICB0aGlzLmRhdGFTb3VyY2VXb3JrZXIucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgbWVzc2FnZTogJ3RvcGljJyxcbiAgICAgICAgICAgIHRvcGljOiBEQVRBX1NZTkNIUk9OSVpFUl9UT1BJQyt0aGlzLmRhdGFTeW5jaHJvbml6ZXIuaWRcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZGF0YSBzb3VyY2UgdGltZSByYW5nZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdGFydFRpbWUgLSB0aGUgc3RhcnRUaW1lIChpbiBkYXRlIElTTylcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZW5kVGltZSAtIHRoZSBzdGFydFRpbWUgKGluIGRhdGUgSVNPKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByZXBsYXlTcGVlZCAtIHRoZSByZXBsYXkgc3BlZWRcbiAgICAgKi9cbiAgICBzZXRUaW1lUmFuZ2Uoc3RhcnRUaW1lLCBlbmRUaW1lLCByZXBsYXlTcGVlZCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVVybCh7XG4gICAgICAgICAgICAuLi50aGlzLmN1cnJlbnRSdW5uaW5nUHJvcGVydGllcyxcbiAgICAgICAgICAgIHN0YXJ0VGltZTogc3RhcnRUaW1lLFxuICAgICAgICAgICAgZW5kVGltZTogZW5kVGltZSxcbiAgICAgICAgICAgIHJlcGxheVNwZWVkOiByZXBsYXlTcGVlZFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdGFydFRpbWVcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSAtIHN0YXJ0VGltZSBhcyBJU08gZGF0ZVxuICAgICAqL1xuICAgIGdldFN0YXJ0VGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcGVydGllcy5zdGFydFRpbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZW5kVGltZVxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IC0gZW5kVGltZSBhcyBJU08gZGF0ZVxuICAgICAqL1xuICAgIGdldEVuZFRpbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXMuZW5kVGltZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBlbmRUaW1lXG4gICAgICogQHJldHVybnMge1N0cmluZ30gLSBlbmRUaW1lIGFzIElTTyBkYXRlXG4gICAgICovXG4gICAgZ2V0UmVwbGF5U3BlZWQoKSB7XG4gICAgICAgIHJldHVybiBpc0RlZmluZWQodGhpcy5wcm9wZXJ0aWVzLnJlcGxheVNwZWVkKSA/IHRoaXMucHJvcGVydGllcy5yZXBsYXlTcGVlZCA6IDE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdCB0aGUgZGF0YVNvdXJjZSB0aGVuIHRoZSBjb25uZWN0b3Igd2lsbCBiZSBjbG9zZWQgYXMgd2VsbC5cbiAgICAgKi9cbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgICB0aGlzLmRhdGFTb3VyY2VXb3JrZXIucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgbWVzc2FnZTogJ2Rpc2Nvbm5lY3QnXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbm5lY3QgdGhlIGRhdGFTb3VyY2UgdGhlbiB0aGUgY29ubmVjdG9yIHdpbGwgYmUgb3BlbmVkIGFzIHdlbGwuXG4gICAgICovXG4gICAgYXN5bmMgY29ubmVjdCgpIHtcbiAgICAgICAgdGhpcy5kYXRhU291cmNlV29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdjb25uZWN0J1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNDb25uZWN0ZWQoKTtcbiAgICB9XG5cbiAgICBhc3luYyBpc0Nvbm5lY3RlZCgpIHtcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgaWYodGhpcy5kYXRhU291cmNlV29ya2VyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlV29ya2VyLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZGF0YS5tZXNzYWdlID09PSAnaXMtY29ubmVjdGVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShldmVudC5kYXRhLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmKHRoaXMuZGF0YVNvdXJjZVdvcmtlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlV29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnaXMtY29ubmVjdGVkJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICBhc3luYyBnZXRDdXJyZW50VGltZSgpIHtcbiAgICAgICAgaWYoaXNEZWZpbmVkKHRoaXMuZGF0YVN5bmNocm9uaXplcikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFTeW5jaHJvbml6ZXIuZ2V0Q3VycmVudFRpbWUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmRhdGFTb3VyY2VXb3JrZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlV29ya2VyLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEubWVzc2FnZSA9PT0gJ2xhc3QtdGltZXN0YW1wJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZXZlbnQuZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmKHRoaXMuZGF0YVNvdXJjZVdvcmtlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZVdvcmtlci5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdsYXN0LXRpbWVzdGFtcCdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGF0YXNvdXJjZSBpZC5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHRoZSBkYXRhc291cmNlIGlkXG4gICAgICovXG4gICAgZ2V0SWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGRhdGFzb3VyY2UgbmFtZS5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHRoZSBkYXRhc291cmNlIG5hbWVcbiAgICAgKi9cbiAgICBnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBwcm9wZXJ0aWVzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSB0aGUgZGF0YXNvdXJjZSBuYW1lXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BlcnRpZXMgLSB0aGUgZGF0YXNvdXJjZSBwcm9wZXJ0aWVzXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBwcm9wZXJ0aWVzLnRpbWVTaGlmdCAtIGZpeCBzb21lIHByb2JsZW0gd2l0aCBzb21lIGFuZHJvaWQgZGV2aWNlcyB3aXRoIHNvbWUgdGltZXN0YW1wIHNoaWZ0IHRvIDE2IHNlY1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwcm9wZXJ0aWVzLmJ1ZmZlcmluZ1RpbWUgLSBkZWZpbmVzIHRoZSB0aW1lIGR1cmluZyB0aGUgZGF0YSBoYXMgdG8gYmUgYnVmZmVyZWRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy50aW1lT3V0IC0gZGVmaW5lcyB0aGUgbGltaXQgdGltZSBiZWZvcmUgZGF0YSBoYXMgdG8gYmUgc2tpcHBlZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLnByb3RvY29sIC0gZGVmaW5lcyB0aGUgcHJvdG9jb2wgb2YgdGhlIGRhdGFzb3VyY2UuIEBzZWUge0BsaW5rIERhdGFDb25uZWN0b3J9XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuZW5kcG9pbnRVcmwgdGhlIGVuZHBvaW50IHVybFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLnNlcnZpY2UgdGhlIHNlcnZpY2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5vZmZlcmluZ0lEIHRoZSBvZmZlcmluZ0lEXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMub2JzZXJ2ZWRQcm9wZXJ0eSB0aGUgb2JzZXJ2ZWQgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5zdGFydFRpbWUgdGhlIHN0YXJ0IHRpbWUgKElTTyBmb3JtYXQpXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuZW5kVGltZSB0aGUgZW5kIHRpbWUgKElTTyBmb3JtYXQpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMucmVwbGF5U3BlZWQgdGhlIHJlcGxheSBzcGVlZFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwcm9wZXJ0aWVzLnJlc3BvbnNlRm9ybWF0IHRoZSByZXNwb25zZSBmb3JtYXQgKGUuZyB2aWRlby9tcDQpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMucmVjb25uZWN0VGltZW91dCAtIHRoZSB0aW1lb3V0IGJlZm9yZSByZWNvbm5lY3RpbmdcbiAgICAgKi9cbiAgICB1cGRhdGVVcmwocHJvcGVydGllcykge1xuICAgICAgICAvLyBzYXZlIGN1cnJlbnQgcnVubmluZyBwcm9wZXJ0aWVzXG4gICAgICAgIHRoaXMuY3VycmVudFJ1bm5pbmdQcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgLi4udGhpcy5wcm9wZXJ0aWVzLFxuICAgICAgICAgICAgLi4ucHJvcGVydGllc1xuICAgICAgICB9O1xuICAgICAgICBpZih0aGlzLmRhdGFTb3VyY2VXb3JrZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZVdvcmtlci5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ3VwZGF0ZS11cmwnLFxuICAgICAgICAgICAgICAgIGRhdGE6IHByb3BlcnRpZXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Q3VycmVudFJ1bm5pbmdQcm9wZXJ0aWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50UnVubmluZ1Byb3BlcnRpZXM7XG4gICAgfVxuXG4gICAgdGVybWluYXRlKCkge1xuICAgICAgICBpZih0aGlzLmRhdGFTb3VyY2VXb3JrZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZVdvcmtlci50ZXJtaW5hdGUoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGF0YVNvdXJjZTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8\n")},,,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _DataSource_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);\n/* harmony import */ var _workers_SweJson_worker_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(17);\n/* harmony import */ var _workers_SweJson_worker_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_workers_SweJson_worker_js__WEBPACK_IMPORTED_MODULE_1__);\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * This datasource provides generic parsing for JSON response.\n *\n * @extends DataSource\n * @example\n * import SweJson from \'osh/datareceiver/SweJson.js\';\n *\n * let androidPhoneGpsDataSource = new SweJson("android-GPS", {\n    protocol: "ws",\n    service: "SOS",\n    endpointUrl: "sensiasoft.net:8181/sensorhub/sos",\n    offeringID: "urn:android:device:060693280a28e015-sos",\n    observedProperty: "http://sensorml.com/ont/swe/property/Location",\n    startTime: "2015-02-16T07:58:00Z",\n    endTime: "2015-02-16T08:09:00Z",\n    replaySpeed: replaySpeed+"",\n    bufferingTime: 1000,\n    timeShift: -16000\n  });\n */\n\nclass SweJson extends _DataSource_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"] {\n  /**\n   * @param {String} name - the datasource name\n   * @param {Object} properties - the datasource properties\n   * @param {Boolean} [properties.timeShift=false] - fix some problem with some android devices with some timestamp shift to 16 sec\n   * @param {Number} [properties.bufferingTime=0 - defines the time during the data has to be buffered. Useful only when used with DataSynchronizer\n   * @param {Number} [properties.timeOut=0] - defines the limit time before data has to be skipped. Useful only when used with DataSynchronizer\n   * @param {String} properties.protocol - defines the protocol of the datasource. @see {@link DataConnector}\n   * @param {String} properties.endpointUrl the endpoint url\n   * @param {String} properties.service the service\n   * @param {String} properties.offeringID the offeringID\n   * @param {String} properties.observedProperty the observed property\n   * @param {String} properties.startTime the start time (ISO format)\n   * @param {String} properties.endTime the end time (ISO format)\n   * @param {Number} [properties.replaySpeed=1] the replay factor\n   * @param {Number} [properties.responseFormat] the response format (e.g video/mp4)\n   * @param {Number} [properties.reconnectTimeout=10000] - the time before reconnecting (in milliseconds)\n   */\n  constructor(name, properties) {\n    super(name, {\n      timeShift: 0,\n      reconnectTimeout: 1000 * 5,\n      // default if not defined into properties\n      ...properties\n    }, new _workers_SweJson_worker_js__WEBPACK_IMPORTED_MODULE_1___default.a());\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__["a"] = (SweJson);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL2RhdGFyZWNlaXZlci9Td2VKc29uLmpzPzI4YjQiXSwibmFtZXMiOlsiU3dlSnNvbiIsIkRhdGFTb3VyY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJwcm9wZXJ0aWVzIiwidGltZVNoaWZ0IiwicmVjb25uZWN0VGltZW91dCIsIlN3ZUpzb25Xb3JrZXIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU1BLE9BQU4sU0FBc0JDLDhEQUF0QixDQUFpQztBQUM3QjtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0lDLGFBQVcsQ0FBQ0MsSUFBRCxFQUFPQyxVQUFQLEVBQW1CO0FBQzFCLFVBQU1ELElBQU4sRUFBWTtBQUNSRSxlQUFTLEVBQUMsQ0FERjtBQUVSQyxzQkFBZ0IsRUFBRSxPQUFPLENBRmpCO0FBRW9CO0FBQzVCLFNBQUdGO0FBSEssS0FBWixFQUlHLElBQUlHLGlFQUFKLEVBSkg7QUFLSDs7QUF4QjRCOztBQTJCbEJQLGdFQUFmIiwiZmlsZSI6IjE2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAyMCBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5cbmltcG9ydCBEYXRhU291cmNlIGZyb20gJy4vRGF0YVNvdXJjZS5qcyc7XG5pbXBvcnQgU3dlSnNvbldvcmtlciBmcm9tICcuL3dvcmtlcnMvU3dlSnNvbi53b3JrZXIuanMnO1xuXG4vKipcbiAqIFRoaXMgZGF0YXNvdXJjZSBwcm92aWRlcyBnZW5lcmljIHBhcnNpbmcgZm9yIEpTT04gcmVzcG9uc2UuXG4gKlxuICogQGV4dGVuZHMgRGF0YVNvdXJjZVxuICogQGV4YW1wbGVcbiAqIGltcG9ydCBTd2VKc29uIGZyb20gJ29zaC9kYXRhcmVjZWl2ZXIvU3dlSnNvbi5qcyc7XG4gKlxuICogbGV0IGFuZHJvaWRQaG9uZUdwc0RhdGFTb3VyY2UgPSBuZXcgU3dlSnNvbihcImFuZHJvaWQtR1BTXCIsIHtcbiAgICBwcm90b2NvbDogXCJ3c1wiLFxuICAgIHNlcnZpY2U6IFwiU09TXCIsXG4gICAgZW5kcG9pbnRVcmw6IFwic2Vuc2lhc29mdC5uZXQ6ODE4MS9zZW5zb3JodWIvc29zXCIsXG4gICAgb2ZmZXJpbmdJRDogXCJ1cm46YW5kcm9pZDpkZXZpY2U6MDYwNjkzMjgwYTI4ZTAxNS1zb3NcIixcbiAgICBvYnNlcnZlZFByb3BlcnR5OiBcImh0dHA6Ly9zZW5zb3JtbC5jb20vb250L3N3ZS9wcm9wZXJ0eS9Mb2NhdGlvblwiLFxuICAgIHN0YXJ0VGltZTogXCIyMDE1LTAyLTE2VDA3OjU4OjAwWlwiLFxuICAgIGVuZFRpbWU6IFwiMjAxNS0wMi0xNlQwODowOTowMFpcIixcbiAgICByZXBsYXlTcGVlZDogcmVwbGF5U3BlZWQrXCJcIixcbiAgICBidWZmZXJpbmdUaW1lOiAxMDAwLFxuICAgIHRpbWVTaGlmdDogLTE2MDAwXG4gIH0pO1xuICovXG5cbmNsYXNzIFN3ZUpzb24gZXh0ZW5kcyBEYXRhU291cmNlIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIHRoZSBkYXRhc291cmNlIG5hbWVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllcyAtIHRoZSBkYXRhc291cmNlIHByb3BlcnRpZXNcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtwcm9wZXJ0aWVzLnRpbWVTaGlmdD1mYWxzZV0gLSBmaXggc29tZSBwcm9ibGVtIHdpdGggc29tZSBhbmRyb2lkIGRldmljZXMgd2l0aCBzb21lIHRpbWVzdGFtcCBzaGlmdCB0byAxNiBzZWNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMuYnVmZmVyaW5nVGltZT0wIC0gZGVmaW5lcyB0aGUgdGltZSBkdXJpbmcgdGhlIGRhdGEgaGFzIHRvIGJlIGJ1ZmZlcmVkLiBVc2VmdWwgb25seSB3aGVuIHVzZWQgd2l0aCBEYXRhU3luY2hyb25pemVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLnRpbWVPdXQ9MF0gLSBkZWZpbmVzIHRoZSBsaW1pdCB0aW1lIGJlZm9yZSBkYXRhIGhhcyB0byBiZSBza2lwcGVkLiBVc2VmdWwgb25seSB3aGVuIHVzZWQgd2l0aCBEYXRhU3luY2hyb25pemVyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMucHJvdG9jb2wgLSBkZWZpbmVzIHRoZSBwcm90b2NvbCBvZiB0aGUgZGF0YXNvdXJjZS4gQHNlZSB7QGxpbmsgRGF0YUNvbm5lY3Rvcn1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5lbmRwb2ludFVybCB0aGUgZW5kcG9pbnQgdXJsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuc2VydmljZSB0aGUgc2VydmljZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLm9mZmVyaW5nSUQgdGhlIG9mZmVyaW5nSURcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5vYnNlcnZlZFByb3BlcnR5IHRoZSBvYnNlcnZlZCBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLnN0YXJ0VGltZSB0aGUgc3RhcnQgdGltZSAoSVNPIGZvcm1hdClcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5lbmRUaW1lIHRoZSBlbmQgdGltZSAoSVNPIGZvcm1hdClcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMucmVwbGF5U3BlZWQ9MV0gdGhlIHJlcGxheSBmYWN0b3JcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMucmVzcG9uc2VGb3JtYXRdIHRoZSByZXNwb25zZSBmb3JtYXQgKGUuZyB2aWRlby9tcDQpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLnJlY29ubmVjdFRpbWVvdXQ9MTAwMDBdIC0gdGhlIHRpbWUgYmVmb3JlIHJlY29ubmVjdGluZyAoaW4gbWlsbGlzZWNvbmRzKVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHByb3BlcnRpZXMpIHtcbiAgICAgICAgc3VwZXIobmFtZSwge1xuICAgICAgICAgICAgdGltZVNoaWZ0OjAsXG4gICAgICAgICAgICByZWNvbm5lY3RUaW1lb3V0OiAxMDAwICogNSwgLy8gZGVmYXVsdCBpZiBub3QgZGVmaW5lZCBpbnRvIHByb3BlcnRpZXNcbiAgICAgICAgICAgIC4uLnByb3BlcnRpZXNcbiAgICAgICAgfSwgbmV3IFN3ZUpzb25Xb3JrZXIoKSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTd2VKc29uO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///16\n')},function(module,exports,__webpack_require__){eval('module.exports = function () {\n  return new Worker(__webpack_require__.p + "e78c9387baec358e15c2.worker.js");\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL2RhdGFyZWNlaXZlci93b3JrZXJzL1N3ZUpzb24ud29ya2VyLmpzPzI4NDMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsIldvcmtlciIsIl9fd2VicGFja19wdWJsaWNfcGF0aF9fIl0sIm1hcHBpbmdzIjoiQUFBQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFlBQVc7QUFDMUIsU0FBTyxJQUFJQyxNQUFKLENBQVdDLHFCQUF1QixHQUFHLGdDQUFyQyxDQUFQO0FBQ0QsQ0FGRCIsImZpbGUiOiIxNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgV29ya2VyKF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJlNzhjOTM4N2JhZWMzNThlMTVjMi53b3JrZXIuanNcIik7XG59OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17\n')},,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _DataSource_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);\n/* harmony import */ var _workers_Video_worker_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(20);\n/* harmony import */ var _workers_Video_worker_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_workers_Video_worker_js__WEBPACK_IMPORTED_MODULE_1__);\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * This datasource provides parsing to H264 raw data.\n * Data: ArrayBuffer\n * @extends DataSource\n * @example\n * import Video from \'osh/datareceiver/Video.js\';\n *\n * var videoDataSource = new Video("H264 video ", {\n        protocol: "ws",\n        service: "SOS",\n        endpointUrl: "sensiasoft.net:8181/sensorhub/sos",\n        offeringID: "urn:android:device:a0e0eac2fea3f614-sos",\n        observedProperty: "http://sensorml.com/ont/swe/property/VideoFrame",\n        startTime: "2016-08-11T20:17:30.402Z",\n        endTime: "2016-08-11T20:18:05.451Z",\n        replaySpeed: 1,\n        bufferingTime: 1000\n  });\n */\n\nclass Video extends _DataSource_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"] {\n  /**\n   * @param {String} name - the datasource name\n   * @param {Object} properties - the datasource properties\n   * @param {Boolean} [properties.timeShift=false] - fix some problem with some android devices with some timestamp shift to 16 sec\n   * @param {Number} [properties.bufferingTime=0 - defines the time during the data has to be buffered. Useful only when used with DataSynchronizer\n   * @param {Number} [properties.timeOut=0] - defines the limit time before data has to be skipped. Useful only when used with DataSynchronizer\n   * @param {String} properties.protocol - defines the protocol of the datasource. @see {@link DataConnector}\n   * @param {String} properties.endpointUrl the endpoint url\n   * @param {String} properties.service the service\n   * @param {String} properties.offeringID the offeringID\n   * @param {String} properties.observedProperty the observed property\n   * @param {String} properties.startTime the start time (ISO format)\n   * @param {String} properties.endTime the end time (ISO format)\n   * @param {Number} [properties.replaySpeed=1] the replay factor\n   * @param {Number} [properties.responseFormat] the response format (e.g video/mp4)\n   * @param {Number} [properties.reconnectTimeout=10000] - the time before reconnecting (in milliseconds)\n   * @param {Object} [properties.customUrlParams={}] - the encoding options\n   * @param {Number} [properties.customUrlParams.video_bitrate] - define a custom bitrate (in b/s)\n   * @param {Number} [properties.customUrlParams.video_scale] - define a custom scale, 0.0 < value < 1.0\n   * @param {Number} [properties.customUrlParams.video_width] - define a custom width\n   * @param {Number} [properties.customUrlParams.video_height] - define a custom height\n   */\n  constructor(name, properties) {\n    super(name, {\n      timeShift: 0,\n      reconnectTimeout: 1000 * 5,\n      // default if not defined into properties\n      ...properties\n    }, new _workers_Video_worker_js__WEBPACK_IMPORTED_MODULE_1___default.a());\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__["a"] = (Video);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL2RhdGFyZWNlaXZlci9WaWRlby5qcz8xYWFiIl0sIm5hbWVzIjpbIlZpZGVvIiwiRGF0YVNvdXJjZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsInByb3BlcnRpZXMiLCJ0aW1lU2hpZnQiLCJyZWNvbm5lY3RUaW1lb3V0IiwiVmlkZW9Xb3JrZXIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxNQUFNQSxLQUFOLFNBQW9CQyw4REFBcEIsQ0FBK0I7QUFDM0I7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDSUMsYUFBVyxDQUFDQyxJQUFELEVBQU9DLFVBQVAsRUFBbUI7QUFDMUIsVUFBTUQsSUFBTixFQUFZO0FBQ1JFLGVBQVMsRUFBQyxDQURGO0FBRVJDLHNCQUFnQixFQUFFLE9BQU8sQ0FGakI7QUFFb0I7QUFDNUIsU0FBR0Y7QUFISyxLQUFaLEVBSUcsSUFBSUcsK0RBQUosRUFKSDtBQUtIOztBQTdCMEI7O0FBZ0NmUCw4REFBaEIiLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogQkVHSU4gTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuIFRoZSBjb250ZW50cyBvZiB0aGlzIGZpbGUgYXJlIHN1YmplY3QgdG8gdGhlIE1vemlsbGEgUHVibGljIExpY2Vuc2UsIHYuIDIuMC5cbiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmVcbiBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uXG5cbiBTb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgYmFzaXMsXG4gV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlXG4gZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcmlnaHRzIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuIENvcHlyaWdodCAoQykgMjAxNS0yMDIwIE1hdGhpZXUgRGhhaW5hdXQuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbiBBdXRob3I6IE1hdGhpZXUgRGhhaW5hdXQgPG1hdGhpZXUuZGhhaW5hdXRAZ21haWwuY29tPlxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCBEYXRhU291cmNlIGZyb20gJy4vRGF0YVNvdXJjZS5qcyc7XG5pbXBvcnQgVmlkZW9Xb3JrZXIgZnJvbSBcIi4vd29ya2Vycy9WaWRlby53b3JrZXIuanNcIjtcblxuLyoqXG4gKiBUaGlzIGRhdGFzb3VyY2UgcHJvdmlkZXMgcGFyc2luZyB0byBIMjY0IHJhdyBkYXRhLlxuICogRGF0YTogQXJyYXlCdWZmZXJcbiAqIEBleHRlbmRzIERhdGFTb3VyY2VcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgVmlkZW8gZnJvbSAnb3NoL2RhdGFyZWNlaXZlci9WaWRlby5qcyc7XG4gKlxuICogdmFyIHZpZGVvRGF0YVNvdXJjZSA9IG5ldyBWaWRlbyhcIkgyNjQgdmlkZW8gXCIsIHtcbiAgICAgICAgcHJvdG9jb2w6IFwid3NcIixcbiAgICAgICAgc2VydmljZTogXCJTT1NcIixcbiAgICAgICAgZW5kcG9pbnRVcmw6IFwic2Vuc2lhc29mdC5uZXQ6ODE4MS9zZW5zb3JodWIvc29zXCIsXG4gICAgICAgIG9mZmVyaW5nSUQ6IFwidXJuOmFuZHJvaWQ6ZGV2aWNlOmEwZTBlYWMyZmVhM2Y2MTQtc29zXCIsXG4gICAgICAgIG9ic2VydmVkUHJvcGVydHk6IFwiaHR0cDovL3NlbnNvcm1sLmNvbS9vbnQvc3dlL3Byb3BlcnR5L1ZpZGVvRnJhbWVcIixcbiAgICAgICAgc3RhcnRUaW1lOiBcIjIwMTYtMDgtMTFUMjA6MTc6MzAuNDAyWlwiLFxuICAgICAgICBlbmRUaW1lOiBcIjIwMTYtMDgtMTFUMjA6MTg6MDUuNDUxWlwiLFxuICAgICAgICByZXBsYXlTcGVlZDogMSxcbiAgICAgICAgYnVmZmVyaW5nVGltZTogMTAwMFxuICB9KTtcbiAqL1xuY2xhc3MgVmlkZW8gZXh0ZW5kcyBEYXRhU291cmNlIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIHRoZSBkYXRhc291cmNlIG5hbWVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllcyAtIHRoZSBkYXRhc291cmNlIHByb3BlcnRpZXNcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtwcm9wZXJ0aWVzLnRpbWVTaGlmdD1mYWxzZV0gLSBmaXggc29tZSBwcm9ibGVtIHdpdGggc29tZSBhbmRyb2lkIGRldmljZXMgd2l0aCBzb21lIHRpbWVzdGFtcCBzaGlmdCB0byAxNiBzZWNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMuYnVmZmVyaW5nVGltZT0wIC0gZGVmaW5lcyB0aGUgdGltZSBkdXJpbmcgdGhlIGRhdGEgaGFzIHRvIGJlIGJ1ZmZlcmVkLiBVc2VmdWwgb25seSB3aGVuIHVzZWQgd2l0aCBEYXRhU3luY2hyb25pemVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLnRpbWVPdXQ9MF0gLSBkZWZpbmVzIHRoZSBsaW1pdCB0aW1lIGJlZm9yZSBkYXRhIGhhcyB0byBiZSBza2lwcGVkLiBVc2VmdWwgb25seSB3aGVuIHVzZWQgd2l0aCBEYXRhU3luY2hyb25pemVyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMucHJvdG9jb2wgLSBkZWZpbmVzIHRoZSBwcm90b2NvbCBvZiB0aGUgZGF0YXNvdXJjZS4gQHNlZSB7QGxpbmsgRGF0YUNvbm5lY3Rvcn1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5lbmRwb2ludFVybCB0aGUgZW5kcG9pbnQgdXJsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuc2VydmljZSB0aGUgc2VydmljZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLm9mZmVyaW5nSUQgdGhlIG9mZmVyaW5nSURcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5vYnNlcnZlZFByb3BlcnR5IHRoZSBvYnNlcnZlZCBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLnN0YXJ0VGltZSB0aGUgc3RhcnQgdGltZSAoSVNPIGZvcm1hdClcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5lbmRUaW1lIHRoZSBlbmQgdGltZSAoSVNPIGZvcm1hdClcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMucmVwbGF5U3BlZWQ9MV0gdGhlIHJlcGxheSBmYWN0b3JcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMucmVzcG9uc2VGb3JtYXRdIHRoZSByZXNwb25zZSBmb3JtYXQgKGUuZyB2aWRlby9tcDQpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLnJlY29ubmVjdFRpbWVvdXQ9MTAwMDBdIC0gdGhlIHRpbWUgYmVmb3JlIHJlY29ubmVjdGluZyAoaW4gbWlsbGlzZWNvbmRzKVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcy5jdXN0b21VcmxQYXJhbXM9e31dIC0gdGhlIGVuY29kaW5nIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMuY3VzdG9tVXJsUGFyYW1zLnZpZGVvX2JpdHJhdGVdIC0gZGVmaW5lIGEgY3VzdG9tIGJpdHJhdGUgKGluIGIvcylcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMuY3VzdG9tVXJsUGFyYW1zLnZpZGVvX3NjYWxlXSAtIGRlZmluZSBhIGN1c3RvbSBzY2FsZSwgMC4wIDwgdmFsdWUgPCAxLjBcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMuY3VzdG9tVXJsUGFyYW1zLnZpZGVvX3dpZHRoXSAtIGRlZmluZSBhIGN1c3RvbSB3aWR0aFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy5jdXN0b21VcmxQYXJhbXMudmlkZW9faGVpZ2h0XSAtIGRlZmluZSBhIGN1c3RvbSBoZWlnaHRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBwcm9wZXJ0aWVzKSB7XG4gICAgICAgIHN1cGVyKG5hbWUsIHtcbiAgICAgICAgICAgIHRpbWVTaGlmdDowLFxuICAgICAgICAgICAgcmVjb25uZWN0VGltZW91dDogMTAwMCAqIDUsIC8vIGRlZmF1bHQgaWYgbm90IGRlZmluZWQgaW50byBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAuLi5wcm9wZXJ0aWVzXG4gICAgICAgIH0sIG5ldyBWaWRlb1dvcmtlcigpKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0ICBWaWRlbztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///19\n')},function(module,exports,__webpack_require__){eval('module.exports = function () {\n  return new Worker(__webpack_require__.p + "f20d9e1c3aae8cf1d03b.worker.js");\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL2RhdGFyZWNlaXZlci93b3JrZXJzL1ZpZGVvLndvcmtlci5qcz8zZTljIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJXb3JrZXIiLCJfX3dlYnBhY2tfcHVibGljX3BhdGhfXyJdLCJtYXBwaW5ncyI6IkFBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixZQUFXO0FBQzFCLFNBQU8sSUFBSUMsTUFBSixDQUFXQyxxQkFBdUIsR0FBRyxnQ0FBckMsQ0FBUDtBQUNELENBRkQiLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFdvcmtlcihfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZjIwZDllMWMzYWFlOGNmMWQwM2Iud29ya2VyLmpzXCIpO1xufTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///20\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _View_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);\n/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var _events_EventManager_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(2);\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n\n/**\n * @extends View\n * @example\n *\nimport MjpegView from \'osh/ui/view/video/MjpegView.js\';\n\nvar videoView = new MjpegView("containerId", {\n    dataSourceId: datasource.id,\n    entity : entity,\n    css: "video",\n    cssSelected: "video-selected",\n    name: "Video"\n});\n */\n\nclass MjpegView extends _View_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"] {\n  /**\n   * Create a View.\n   * @param {String} parentElementDivId - The div element to attach to\n   * @param {Object} options - the properties of the view\n   * @param {String} options.dataSourceId - The dataSource id of the dataSource providing data to the view\n   * @param {String} options.entityId - The entity id to which the view belongs to\n   * @param {String} options.showTime - Display or not the time onto the view\n   * @param {String} options.rotation - Allow to define a rotation in degree\n   *\n   */\n  constructor(parentElementDivId, options) {\n    super(parentElementDivId, [], options); // create timestamp slot\n\n    this.timeStamp = null;\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__[/* isDefined */ "g"])(options.showTime) && options.showTime) {\n      this.timeStamp = document.createElement("div");\n      this.timeStamp.setAttribute("class", "video-time");\n      document.getElementById(this.divId).appendChild(this.timeStamp);\n    } // creates video tag element\n\n\n    this.imgTag = document.createElement("img");\n    this.imgTag.setAttribute("class", "video-mjpeg"); // rotation option\n\n    this.rotation = 0;\n\n    if (typeof options != "undefined" && typeof options.rotation != "undefined") {\n      this.rotation = options.rotation * Math.PI / 180;\n      this.canvas = document.createElement(\'canvas\');\n      this.canvas.width = 640;\n      this.canvas.height = 480;\n      var ctx = this.canvas.getContext(\'2d\');\n      ctx.translate(0, 480);\n      ctx.rotate(this.rotation);\n      document.getElementById(this.divId).appendChild(this.canvas);\n    } else {\n      // appends <img> tag to <div>\n      document.getElementById(this.divId).appendChild(this.imgTag);\n    } // adds listener\n\n\n    let self = this;\n    _events_EventManager_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].observeDiv(this.divId, "click", event => {\n      _events_EventManager_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].fire(_events_EventManager_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].EVENT.SELECT_VIEW, {\n        dataSourcesIds: [self.dataSourceId],\n        entityId: self.entityId\n      });\n    });\n  }\n\n  setData(dataSourceId, values) {\n    for (let i = 0; i < values.length; i++) {\n      const value = values.shift();\n      let imgBlob = new Blob([value.data.frameData]);\n      let url = window.URL.createObjectURL(imgBlob);\n      let oldBlobURL = this.imgTag.src;\n      this.imgTag.src = url;\n\n      if (this.timeStamp !== null) {\n        this.timeStamp.innerHTML = new Date(value.timeStamp).toISOString();\n      }\n\n      window.URL.revokeObjectURL(oldBlobURL);\n    }\n  }\n\n  selectDataView(dataSourceIds, entityId) {\n    if (dataSourceIds.indexOf(this.dataSourceId) > -1 || Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__[/* isDefined */ "g"])(this.entity) && this.entity.getId() === entityId) {\n      document.getElementById(this.divId).setAttribute("class", this.css + " " + this.cssSelected);\n    } else {\n      document.getElementById(this.divId).setAttribute("class", this.css);\n    }\n  }\n\n  reset() {\n    this.imgTag.src = "";\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__["a"] = (MjpegView);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL3VpL3ZpZXcvdmlkZW8vTWpwZWdWaWV3LmpzPzAyM2UiXSwibmFtZXMiOlsiTWpwZWdWaWV3IiwiVmlldyIsImNvbnN0cnVjdG9yIiwicGFyZW50RWxlbWVudERpdklkIiwib3B0aW9ucyIsInRpbWVTdGFtcCIsImlzRGVmaW5lZCIsInNob3dUaW1lIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiZ2V0RWxlbWVudEJ5SWQiLCJkaXZJZCIsImFwcGVuZENoaWxkIiwiaW1nVGFnIiwicm90YXRpb24iLCJNYXRoIiwiUEkiLCJjYW52YXMiLCJ3aWR0aCIsImhlaWdodCIsImN0eCIsImdldENvbnRleHQiLCJ0cmFuc2xhdGUiLCJyb3RhdGUiLCJzZWxmIiwiRXZlbnRNYW5hZ2VyIiwib2JzZXJ2ZURpdiIsImV2ZW50IiwiZmlyZSIsIkVWRU5UIiwiU0VMRUNUX1ZJRVciLCJkYXRhU291cmNlc0lkcyIsImRhdGFTb3VyY2VJZCIsImVudGl0eUlkIiwic2V0RGF0YSIsInZhbHVlcyIsImkiLCJsZW5ndGgiLCJ2YWx1ZSIsInNoaWZ0IiwiaW1nQmxvYiIsIkJsb2IiLCJkYXRhIiwiZnJhbWVEYXRhIiwidXJsIiwid2luZG93IiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwib2xkQmxvYlVSTCIsInNyYyIsImlubmVySFRNTCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInJldm9rZU9iamVjdFVSTCIsInNlbGVjdERhdGFWaWV3IiwiZGF0YVNvdXJjZUlkcyIsImluZGV4T2YiLCJlbnRpdHkiLCJnZXRJZCIsImNzcyIsImNzc1NlbGVjdGVkIiwicmVzZXQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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RTBCOztBQWdGZGxELGtFQUFmIiwiZmlsZSI6IjIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAyMCBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgVmlldyBmcm9tIFwiLi4vVmlldy5qc1wiO1xuaW1wb3J0IHtpc0RlZmluZWR9IGZyb20gXCIuLi8uLi8uLi91dGlscy9VdGlscy5qc1wiO1xuaW1wb3J0IEV2ZW50TWFuYWdlciBmcm9tIFwiLi4vLi4vLi4vZXZlbnRzL0V2ZW50TWFuYWdlci5qc1wiO1xuXG4vKipcbiAqIEBleHRlbmRzIFZpZXdcbiAqIEBleGFtcGxlXG4gKlxuaW1wb3J0IE1qcGVnVmlldyBmcm9tICdvc2gvdWkvdmlldy92aWRlby9NanBlZ1ZpZXcuanMnO1xuXG52YXIgdmlkZW9WaWV3ID0gbmV3IE1qcGVnVmlldyhcImNvbnRhaW5lcklkXCIsIHtcbiAgICBkYXRhU291cmNlSWQ6IGRhdGFzb3VyY2UuaWQsXG4gICAgZW50aXR5IDogZW50aXR5LFxuICAgIGNzczogXCJ2aWRlb1wiLFxuICAgIGNzc1NlbGVjdGVkOiBcInZpZGVvLXNlbGVjdGVkXCIsXG4gICAgbmFtZTogXCJWaWRlb1wiXG59KTtcbiAqL1xuXG5jbGFzcyBNanBlZ1ZpZXcgZXh0ZW5kcyBWaWV3IHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIFZpZXcuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwYXJlbnRFbGVtZW50RGl2SWQgLSBUaGUgZGl2IGVsZW1lbnQgdG8gYXR0YWNoIHRvXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gdGhlIHByb3BlcnRpZXMgb2YgdGhlIHZpZXdcbiAgICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMuZGF0YVNvdXJjZUlkIC0gVGhlIGRhdGFTb3VyY2UgaWQgb2YgdGhlIGRhdGFTb3VyY2UgcHJvdmlkaW5nIGRhdGEgdG8gdGhlIHZpZXdcbiAgICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMuZW50aXR5SWQgLSBUaGUgZW50aXR5IGlkIHRvIHdoaWNoIHRoZSB2aWV3IGJlbG9uZ3MgdG9cbiAgICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMuc2hvd1RpbWUgLSBEaXNwbGF5IG9yIG5vdCB0aGUgdGltZSBvbnRvIHRoZSB2aWV3XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLnJvdGF0aW9uIC0gQWxsb3cgdG8gZGVmaW5lIGEgcm90YXRpb24gaW4gZGVncmVlXG4gICAqXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwYXJlbnRFbGVtZW50RGl2SWQsb3B0aW9ucykge1xuICAgIHN1cGVyKHBhcmVudEVsZW1lbnREaXZJZCxbXSxvcHRpb25zKTtcblxuICAgIC8vIGNyZWF0ZSB0aW1lc3RhbXAgc2xvdFxuICAgIHRoaXMudGltZVN0YW1wID0gbnVsbDtcbiAgICBpZiAoaXNEZWZpbmVkKG9wdGlvbnMuc2hvd1RpbWUpICYmIG9wdGlvbnMuc2hvd1RpbWUpIHtcbiAgICAgICAgdGhpcy50aW1lU3RhbXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLnRpbWVTdGFtcC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInZpZGVvLXRpbWVcIik7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZGl2SWQpLmFwcGVuZENoaWxkKHRoaXMudGltZVN0YW1wKTtcbiAgICB9XG5cbiAgICAvLyBjcmVhdGVzIHZpZGVvIHRhZyBlbGVtZW50XG4gICAgdGhpcy5pbWdUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIHRoaXMuaW1nVGFnLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwidmlkZW8tbWpwZWdcIik7XG5cbiAgICAvLyByb3RhdGlvbiBvcHRpb25cbiAgICB0aGlzLnJvdGF0aW9uID0gMDtcbiAgICBpZiAodHlwZW9mKG9wdGlvbnMpICE9IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mKG9wdGlvbnMucm90YXRpb24pICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IG9wdGlvbnMucm90YXRpb24qTWF0aC5QSS8xODA7XG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gNjQwO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSA0ODA7XG4gICAgICAgIHZhciBjdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBjdHgudHJhbnNsYXRlKDAsIDQ4MCkgO1xuICAgICAgICBjdHgucm90YXRlKHRoaXMucm90YXRpb24pO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmRpdklkKS5hcHBlbmRDaGlsZCh0aGlzLmNhbnZhcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gYXBwZW5kcyA8aW1nPiB0YWcgdG8gPGRpdj5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5kaXZJZCkuYXBwZW5kQ2hpbGQodGhpcy5pbWdUYWcpO1xuICAgIH1cblxuICAgIC8vIGFkZHMgbGlzdGVuZXJcbiAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgRXZlbnRNYW5hZ2VyLm9ic2VydmVEaXYodGhpcy5kaXZJZCxcImNsaWNrXCIsKGV2ZW50KSA9PiB7XG4gICAgICBFdmVudE1hbmFnZXIuZmlyZShFdmVudE1hbmFnZXIuRVZFTlQuU0VMRUNUX1ZJRVcse1xuICAgICAgICBkYXRhU291cmNlc0lkczogW3NlbGYuZGF0YVNvdXJjZUlkXSxcbiAgICAgICAgZW50aXR5SWQgOiBzZWxmLmVudGl0eUlkXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldERhdGEoZGF0YVNvdXJjZUlkLHZhbHVlcykge1xuICAgICAgZm9yKGxldCBpPTA7IGkgPCB2YWx1ZXMubGVuZ3RoO2krKykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzLnNoaWZ0KCk7XG4gICAgICAgICAgbGV0IGltZ0Jsb2IgPSBuZXcgQmxvYihbdmFsdWUuZGF0YS5mcmFtZURhdGFdKTtcbiAgICAgICAgICBsZXQgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoaW1nQmxvYik7XG5cbiAgICAgICAgICBsZXQgb2xkQmxvYlVSTCA9IHRoaXMuaW1nVGFnLnNyYztcbiAgICAgICAgICB0aGlzLmltZ1RhZy5zcmMgPSB1cmw7XG4gICAgICAgICAgaWYgKHRoaXMudGltZVN0YW1wICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHRoaXMudGltZVN0YW1wLmlubmVySFRNTCA9IG5ldyBEYXRlKHZhbHVlLnRpbWVTdGFtcCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwob2xkQmxvYlVSTCk7XG4gICAgICB9XG4gIH1cblxuICBzZWxlY3REYXRhVmlldyhkYXRhU291cmNlSWRzLGVudGl0eUlkKSB7XG4gICAgaWYoZGF0YVNvdXJjZUlkcy5pbmRleE9mKHRoaXMuZGF0YVNvdXJjZUlkKSA+IC0xIHx8IChpc0RlZmluZWQodGhpcy5lbnRpdHkpKSAmJiB0aGlzLmVudGl0eS5nZXRJZCgpID09PSBlbnRpdHlJZCkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5kaXZJZCkuc2V0QXR0cmlidXRlKFwiY2xhc3NcIix0aGlzLmNzcytcIiBcIit0aGlzLmNzc1NlbGVjdGVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5kaXZJZCkuc2V0QXR0cmlidXRlKFwiY2xhc3NcIix0aGlzLmNzcyk7XG4gICAgfVxuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgICB0aGlzLmltZ1RhZy5zcmMgPSBcIlwiO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1qcGVnVmlldztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///21\n')},,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/ui/view/View.js + 2 modules\nvar View = __webpack_require__(7);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/utils/Utils.js\nvar Utils = __webpack_require__(0);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/events/EventManager.js + 1 modules\nvar EventManager = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/leaflet/dist/leaflet-src.js\nvar leaflet_src = __webpack_require__(1);\nvar leaflet_src_default = /*#__PURE__*/__webpack_require__.n(leaflet_src);\n\n// EXTERNAL MODULE: ./node_modules/leaflet/dist/leaflet.css\nvar leaflet = __webpack_require__(27);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/ui/view/map/MapView.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * This class is an abstract class in charge of handling common Map operations.\n * @extends View\n */\n\nclass MapView_MapView extends View["a" /* default */] {\n  constructor(parentElementDivId, viewItems, options) {\n    super(parentElementDivId, viewItems, options); // map Layer id to array of corresponding markers\n\n    this.layerIdToMarkers = {}; // map Layer id to array of corresponding polylines\n\n    this.layerIdToPolylines = {};\n  }\n  /**\n   * Associate a markerId to a Layer for a fast lookup\n   * @param {PointMarker} layer - the Layer object\n   * @param {Object} markerObject - the Map marker object\n   */\n\n\n  addMarkerToLayer(layer, markerObject) {\n    // associate the list of markers owning by a specific marker\n    if (!(layer.getId() in this.layerIdToMarkers)) {\n      this.layerIdToMarkers[layer.getId()] = {};\n    }\n\n    this.layerIdToMarkers[layer.getId()][layer.markerId] = markerObject;\n  }\n  /**\n   * Associate a polylineId to a Layer for a fast lookup\n   * @param {Polyline} layer - the Layer object\n   * @param {Object} polylineObject - the Map polyline object\n   */\n\n\n  addPolylineToLayer(layer, polylineObject) {\n    // associate the list of markers owning by a specific marker\n    if (!(layer.getId() in this.layerIdToPolylines)) {\n      this.layerIdToPolylines[layer.getId()] = {};\n    }\n\n    this.layerIdToPolylines[layer.getId()][layer.polylineId] = polylineObject;\n  }\n  /**\n   * Get the markerId associate to the Layer\n   * @param {PointMarker} layer - the Layer Object\n   */\n\n\n  getMarker(layer) {\n    if (!(layer.getId() in this.layerIdToMarkers)) {\n      return null;\n    }\n\n    return this.layerIdToMarkers[layer.getId()][layer.markerId];\n  }\n  /**\n   * Get the markerId associate to the Layer\n   * @param {Polyline} layer - the Layer Object\n   */\n\n\n  getPolyline(layer) {\n    if (!(layer.getId() in this.layerIdToPolylines)) {\n      return null;\n    }\n\n    return this.layerIdToPolylines[layer.getId()][layer.polylineId];\n  }\n  /**\n   * Get the Layer associated to its id\n   * @param {String} layerId - the id of the Layer\n   * @return {Layer} - the corresponding layer, null otherwise\n   */\n\n\n  getLayer(layerId) {\n    // find corresponding layer\n    for (let currentLayer of this.layers) {\n      if (currentLayer.id === layerId) {\n        return currentLayer;\n      }\n    }\n\n    return null;\n  }\n  /**\n   * Remove Corresponding ViewItem\n   * @param {Object} viewItem - The viewItem object\n   */\n\n\n  removeViewItem(viewItem) {\n    super.removeViewItem(viewItem); // check for marker\n\n    this.removeMarkers(viewItem.layer); // check for polylines\n\n    this.removePolylines(viewItem.layer);\n  }\n  /**\n   * Remove the markers corresponding to a PointMarker Layer\n   * @param {PointMarker} pointMarker - the layer to remove the markers from\n   */\n\n\n  removeMarkers(pointMarker) {\n    if (Object(Utils["g" /* isDefined */])(pointMarker.markerId)) {\n      const markersMap = this.layerIdToMarkers[pointMarker.id];\n\n      if (Object(Utils["g" /* isDefined */])(markersMap)) {\n        for (let markerId in markersMap) {\n          const marker = markersMap[markerId];\n          this.removeMarkerFromLayer(marker);\n        }\n      } // remove markers ids from Layer map\n\n\n      delete this.layerIdToMarkers[pointMarker.id];\n    }\n  }\n  /**\n   * Remove the polylines corresponding to a Polyline Layer\n   * @param {Polyline} polyline - the layer to remove the polylines from\n   */\n\n\n  removePolylines(polyline) {\n    if (Object(Utils["g" /* isDefined */])(polyline.polylineId)) {\n      const polylinesMap = this.layerIdToPolylines[polyline.id];\n\n      if (Object(Utils["g" /* isDefined */])(polylinesMap)) {\n        for (let polylineId in polylinesMap) {\n          const polyline = polylinesMap[polylineId];\n          this.removePolylineFromLayer(polyline);\n        }\n      } // remove polylines ids from Layer map\n\n\n      delete this.layerIdToPolylines[polyline.id];\n    }\n  }\n  /**\n   * Abstract method to remove a marker from its corresponding layer.\n   * This is library dependant.\n   * @param {Object} marker - The Map marker object\n   */\n\n\n  removeMarkerFromLayer(marker) {}\n  /**\n   * Abstract method to remove a polyline from its corresponding layer.\n   * This is library dependant.\n   * @param {Object} polyline - The Map polyline object\n   */\n\n\n  removePolylineFromLayer(polyline) {}\n  /**\n   * Method to call onLeftClick Layer method if exists\n   * @param {String} markerId - the Layer markerId\n   * @param {Object} markerObject - the View marker object\n   * @param {PointMarker} layer - the Layer object\n   * @param {Object} event - the original Map View event\n   */\n\n\n  onMarkerLeftClick(markerId, markerObject, layer, event) {\n    if (Object(Utils["g" /* isDefined */])(layer.onLeftClick)) {\n      layer.onLeftClick.call(layer, markerId, markerObject, event);\n    }\n  }\n  /**\n   * Method to call onRightClick Layer method if exists\n   * @param {String} markerId - the Layer markerId\n   * @param {Object} markerObject - the View marker object\n   * @param {PointMarker} layer - the Layer object\n   * @param {Object} event - the original Map View event\n   */\n\n\n  onMarkerRightClick(markerId, markerObject, layer, event) {\n    if (Object(Utils["g" /* isDefined */])(layer.onRightClick)) {\n      layer.onRightClick.call(layer, markerId, markerObject, event);\n    }\n  }\n  /**\n   * Method to call onMove Layer method if exists\n   * @param {String} markerId - the Layer markerId\n   * @param {Object} markerObject - the View marker object\n   * @param {PointMarker} layer - the Layer object\n   * @param {Object} event - the original Map View event\n   */\n\n\n  onMarkerMove(markerId, markerObject, layer, event) {\n    if (Object(Utils["g" /* isDefined */])(layer.onMove)) {\n      layer.onMove.call(layer, markerId, markerObject, event);\n    }\n  }\n  /**\n   * Method to call onHover Layer method if exists\n   * @param {String} markerId - the Layer markerId\n   * @param {Object} markerObject - the View marker object\n   * @param {PointMarker} layer - the Layer object\n   * @param {Object} event - the original Map View event\n   */\n\n\n  onMarkerHover(markerId, markerObject, layer, event) {\n    if (Object(Utils["g" /* isDefined */])(layer.onHover)) {\n      layer.onHover.call(layer, markerId, markerObject, event);\n    }\n  }\n  /**\n   * Gets the the Layer id from  a concatenated id\n   * @param {String} id - the concatenated such as layerId$markerId\n   * @return {null|String} the Layer id\n   */\n\n\n  getLayerId(id) {\n    const split = id.split(\'$\');\n\n    if (Object(Utils["g" /* isDefined */])(split) && split.length === 2) {\n      return split[0];\n    }\n\n    return null;\n  }\n  /**\n   * Gets the the Marker id from  a concatenated id\n   * @param {String} id - the concatenated such as layerId$markerId\n   * @return {null|String} the marker id\n   */\n\n\n  getMarkerId(id) {\n    if (!Object(Utils["g" /* isDefined */])(id)) {\n      return null;\n    }\n\n    const split = id.split(\'$\');\n\n    if (Object(Utils["g" /* isDefined */])(split) && split.length === 2) {\n      return split[1];\n    }\n\n    return null;\n  }\n\n}\n\n/* harmony default export */ var map_MapView = (MapView_MapView);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/ui/view/map/LeafletView.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n\n\n\n\n/**\n * This class is in charge of displaying GPS/orientation data by adding a marker to the Leaflet Map object.\n * @extends View\n * @example\n\n import LeafletView from \'osh/ui/view/map/LeafletView.js\';\n\n let leafletMapView = new LeafletView("",\n [{\n            layer :  pointMarker,\n            name : "Android Phone GPS",\n            entityId : androidEntity.id\n        },\n {\n     layer : new Polyline({\n         getLocation : {\n             dataSourceIds : [androidPhoneGpsDataSource.getId()],\n             handler : function(rec) {\n                 return {\n                     x : rec.lon,\n                     y : rec.lat,\n                     z : rec.alt\n                 };\n             }\n         },\n         color : \'rgba(0,0,255,0.5)\',\n         weight : 10,\n         opacity : .5,\n         smoothFactor : 1,\n         maxPoints : 200\n     }),\n     name : "Android Phone GPS Path",\n     entityId : androidEntity.id\n }]\n );\n */\n\nclass LeafletView_LeafletView extends map_MapView {\n  /**\n   * Create a View.\n   * @param {String} parentElementDivId - The div element to attach to\n   * @param {Object[]} viewItems - The initial view items to add\n   * @param {String} viewItems.name - The name of the view item\n   * @param {Layer} viewItems.layer - The layer object representing the view item\n   * @param {Object} [options] - the properties of the view\n   * @param {Boolean} [options.autoZoomOnFirstMarker=false] - auto zoom on the first added marker\n   * @param {Boolean} [options.follow=false] - follow the marker\n   * @param {Object} [options.initialView] - Sets the view of the map (geographical center and zoom) with the given animation options. [See details]{@link https://leafletjs.com/reference-1.7.1.html#map-setview}\n   * @param {Object[]} [options.overlayLayers] - [L.tileLayer]{@link https://leafletjs.com/reference-1.7.1.html#tilelayer-l-tilelayer} objects to use as overlay layer\n   * @param {Object[]} [options.baseLayers] - [L.tileLayer]{@link https://leafletjs.com/reference-1.7.1.html#tilelayer-l-tilelayer} objects to use as base layer\n   *\n   */\n  constructor(parentElementDivId, viewItems, options) {\n    super(parentElementDivId, viewItems, options);\n    let cssClass = document.getElementById(this.divId).className;\n    document.getElementById(this.divId).setAttribute("class", cssClass + " " + this.css);\n  }\n\n  beforeAddingItems(options) {\n    // inits the map\n    this.initMap(options);\n  } //---------- MAP SETUP --------------//\n\n  /**\n   *\n   * @private\n   */\n\n\n  initMap(options) {\n    // #region snippet_leafletview_initial_view\n    let initialView = {\n      location: new leaflet_src_default.a.LatLng(0, 0),\n      zoom: 3\n    }; // #endregion snippet_leafletview_initial_view\n\n    this.first = true;\n    this.follow = false;\n    this.autoZoomOnFirstMarker = false;\n    let defaultLayers = this.getDefaultLayers();\n    let defaultLayer = defaultLayers[0].layer;\n    let baseLayers = {};\n    let overlays = {};\n    baseLayers[defaultLayers[0].name] = defaultLayers[0].layer;\n    overlays[defaultLayers[1].name] = defaultLayers[1].layer;\n\n    if (Object(Utils["g" /* isDefined */])(options)) {\n      if (Object(Utils["g" /* isDefined */])(options.initialView)) {\n        initialView = {\n          location: new leaflet_src_default.a.LatLng(options.initialView.lat, options.initialView.lon),\n          zoom: options.initialView.zoom\n        };\n      } // checks autoZoom\n\n\n      if (Object(Utils["g" /* isDefined */])(options.autoZoomOnFirstMarker)) {\n        this.autoZoomOnFirstMarker = options.autoZoomOnFirstMarker;\n      } // checks overlayers\n\n\n      if (Object(Utils["g" /* isDefined */])(options.overlayLayers)) {\n        overlays = options.overlayLayers;\n      } // checks baseLayer\n\n\n      if (Object(Utils["g" /* isDefined */])(options.baseLayers)) {\n        baseLayers = options.baseLayers;\n      }\n\n      if (Object(Utils["g" /* isDefined */])(options.follow)) {\n        this.follow = options.follow;\n      } // checks defaultLayer\n\n\n      if (Object(Utils["g" /* isDefined */])(options.defaultLayer)) {\n        defaultLayer = options.defaultLayer;\n      }\n    } // sets layers to map\n\n\n    this.map = new leaflet_src_default.a.Map(this.divId, {\n      fullscreenControl: true,\n      layers: defaultLayer\n    });\n    leaflet_src_default.a.control.layers(baseLayers, overlays).addTo(this.map);\n    this.map.setView(initialView.location, initialView.zoom); //this.initLayers();\n  }\n  /**\n   * Gets the list of default layers.\n   * @return {Array}\n   */\n\n\n  getDefaultLayers(options) {\n    let maxZoom = 22;\n\n    if (Object(Utils["g" /* isDefined */])(options) && options.maxZoom) {\n      maxZoom = options.maxZoom;\n    } // copyrights\n\n\n    let mbAttr = \'Map data © <a href="http://openstreetmap.org">OpenStreetMap</a> contributors\',\n        mbUrl = \'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\';\n    let esriLink = \'<a href="http://www.esri.com/">Esri</a>\';\n    let esriWholink = \'i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community\'; // leaflet layers\n\n    let esriLayer = leaflet_src_default.a.tileLayer(\'http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\', {\n      attribution: \'&copy; \' + esriLink + \', \' + esriWholink,\n      maxZoom: maxZoom,\n      maxNativeZoom: 19\n    });\n    let streets = leaflet_src_default.a.tileLayer(mbUrl, {\n      id: \'mapbox.streets\',\n      attribution: mbAttr,\n      maxZoom: maxZoom\n    });\n    return [{\n      name: "OSM Streets",\n      layer: streets\n    }, {\n      name: "Esri Satellite",\n      layer: esriLayer\n    }];\n  }\n  /**\n   * @private\n   */\n\n\n  initLayers() {\n    // create the tile layer with correct attribution\n    let osmUrl = \'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\';\n    let osmAttrib = \'Map data © <a href="http://openstreetmap.org">OpenStreetMap</a> contributors\';\n    let osm = new leaflet_src_default.a.tileLayer(osmUrl, {\n      minZoom: 1,\n      maxZoom: 22,\n      attribution: osmAttrib\n    });\n    this.map.addLayer(osm);\n  }\n  /**\n   * Add a marker to the map.\n   * @param {Object} properties\n   * @param {Number} properties.lon\n   * @param {Number} properties.lat\n   * @param {String} properties.icon - the icon path\n   * @param {Integer[]} properties.iconAnchor - offset of the icon ex:[10,10]\n   * @param {String} properties.label - label of the tooltip\n   * @param {String} properties.description - description of the marker to display into the tooltip\n   * @param {String} properties.labelOffset - offset of the label of the tooltip\n   * @param {Number} properties.orientation - orientation of the icon in degree\n   * @param {Function} properties.onLeftClick - onLeftClick function callback\n   * @param {String} properties.id - the id of the new created marker: layer.id$layer.markerId\n   * @return {Object} the the new created marker\n   */\n\n\n  addMarker(properties) {\n    //create marker\n    let marker = null;\n\n    if (properties.icon !== null) {\n      let markerIcon = leaflet_src_default.a.icon({\n        iconAnchor: properties.iconAnchor,\n        iconUrl: properties.icon\n      });\n      marker = leaflet_src_default.a.marker([properties.lat, properties.lon], {\n        icon: markerIcon\n      });\n    } else {\n      marker = leaflet_src_default.a.marker([properties.lat, properties.lon]);\n    }\n\n    if (properties.label !== null) {\n      marker.bindTooltip(properties.label, {\n        permanent: false,\n        direction: \'center\',\n        offset: leaflet_src_default.a.point(properties.labelOffset[0], properties.labelOffset[1])\n      });\n    }\n\n    let name = properties.hasOwnProperty("name") && properties.label != null ? properties.label : "";\n    let desc = properties.hasOwnProperty("description") && properties.description != null ? properties.description : "";\n\n    if (properties.showPopup && (name.length > 0 || desc.length > 0)) {\n      marker.bindPopup(name + \'<div>\' + desc + \'</div>\', {\n        offset: leaflet_src_default.a.point(properties.labelOffset[0], properties.labelOffset[1])\n      });\n    }\n\n    marker.id = properties.id;\n    marker.addTo(this.map);\n    marker.setRotationAngle(properties.orientation);\n    return marker;\n  }\n  /**\n   * Add a polyline to the map.\n   * @param {locations} locations - the coordinates [{x, y}]\n   * @param {Object} properties\n   * @param {String} properties.color\n   * @param {Number} properties.weight\n   * @param {Number} properties.opacity\n   * @param {Number} properties.smoothFactor\n   * @return {string} the id of the new created polyline\n   */\n\n\n  addPolyline(locations, properties) {\n    let polylinePoints = [];\n\n    if (Object(Utils["g" /* isDefined */])(locations) && locations.length > 0) {\n      for (let i = 0; i < locations.length; i++) {\n        polylinePoints.push(new leaflet_src_default.a.LatLng(locations[i].y, locations[i].x));\n      }\n    } //create path\n\n\n    let polyline = new leaflet_src_default.a.Polyline(polylinePoints, {\n      color: properties.color,\n      weight: properties.weight,\n      opacity: properties.opacity,\n      smoothFactor: properties.smoothFactor\n    }).addTo(this.map);\n    return polyline;\n  }\n  /**\n   * Updates the marker associated to the layer.\n   * @param {PointMarker} layer - The layer allowing the update of the marker\n   */\n\n\n  updateMarker(layer) {\n    let marker = this.getMarker(layer);\n\n    if (!Object(Utils["g" /* isDefined */])(marker)) {\n      // adds a new marker to the leaflet renderer\n      const markerObject = this.addMarker({\n        lat: layer.location.y,\n        lon: layer.location.x,\n        orientation: layer.orientation.heading,\n        color: layer.color,\n        icon: layer.icon,\n        iconAnchor: layer.iconAnchor,\n        label: layer.label,\n        labelColor: layer.labelColor,\n        labelSize: layer.labelSize,\n        labelOffset: layer.labelOffset,\n        name: layer.viewItem.name,\n        description: layer.viewItem.description,\n        onLeftClick: layer.onLeftClick,\n        id: layer.id + "$" + layer.markerId,\n        showPopup: !Object(Utils["g" /* isDefined */])(layer.onLeftClick)\n      });\n      this.addMarkerToLayer(layer, markerObject);\n      const mId = layer.markerId; //need to freeze\n\n      markerObject.on(\'click\', event => this.onMarkerLeftClick(mId, markerObject, layer, event));\n      markerObject.on(\'contextmenu\', event => this.onMarkerRightClick(mId, markerObject, layer, event));\n      markerObject.on(\'mouseover\', event => this.onMarkerHover(mId, markerObject, layer, event));\n    } // get the current marker corresponding to the current markerId value of the PointMarker\n\n\n    marker = this.getMarker(layer); // updates position\n\n    let lon = layer.location.x;\n    let lat = layer.location.y;\n\n    if (!isNaN(lon) && !isNaN(lat)) {\n      let newLatLng = new leaflet_src_default.a.LatLng(lat, lon);\n      marker.setLatLng(newLatLng);\n\n      if (this.first && this.autoZoomOnFirstMarker || this.follow) {\n        const markerBounds = leaflet_src_default.a.latLngBounds([newLatLng]);\n        this.map.fitBounds(markerBounds, {\n          maxZoom: layer.zoomLevel\n        });\n\n        if (this.first) {\n          this.first = false;\n        }\n      }\n    } // updates orientation\n\n\n    if (Object(Utils["g" /* isDefined */])(layer.orientation)) {\n      marker.setRotationAngle(layer.orientation.heading);\n    }\n\n    if (layer.icon !== null && marker._icon.iconUrl !== layer.icon) {\n      // updates icon\n      let markerIcon = leaflet_src_default.a.icon({\n        iconAnchor: layer.iconAnchor,\n        iconUrl: layer.icon\n      });\n      marker.setIcon(markerIcon);\n    }\n  }\n  /**\n   * Abstract method to remove a marker from its corresponding layer.\n   * This is library dependant.\n   * @param {Object} marker - The Map marker object\n   */\n\n\n  removeMarkerFromLayer(marker) {\n    this.map.removeLayer(marker);\n  }\n  /**\n   * Abstract method to remove a polyline from its corresponding layer.\n   * This is library dependant.\n   * @param {Object} polyline - The Map polyline object\n   */\n\n\n  removePolylineFromLayer(polyline) {\n    this.map.removeLayer(polyline);\n  }\n  /**\n   * Updates the polyline associated to the layer.\n   * @param {Polyline} layer - The layer allowing the update of the polyline\n   */\n\n\n  updatePolyline(layer) {\n    let polyline = this.getPolyline(layer);\n\n    if (Object(Utils["g" /* isDefined */])(polyline)) {\n      // removes the layer\n      this.removePolylineFromLayer(polyline);\n    } // adds a new polyline to the leaflet renderer\n\n\n    const polylineObj = this.addPolyline(layer.locations[layer.polylineId], {\n      color: layer.color,\n      weight: layer.weight,\n      locations: layer.locations,\n      maxPoints: layer.maxPoints,\n      opacity: layer.opacity,\n      smoothFactor: layer.smoothFactor\n    });\n    this.addPolylineToLayer(layer, polylineObj);\n  }\n\n  attachTo(parentElement) {\n    super.attachTo(parentElement); // Fix leaflet bug when resizing the div parent container\n\n    this.map.invalidateSize();\n  }\n\n  onResize() {\n    super.onResize();\n    let that = this;\n    setTimeout(function () {\n      that.map.invalidateSize();\n    }, 100);\n  }\n\n  onChange(data) {}\n\n}\n/***  little hack starts here ***/\n\n\nleaflet_src_default.a.Map = leaflet_src_default.a.Map.extend({\n  openPopup: function (popup) {\n    this._popup = popup;\n    return this.addLayer(popup).fire(\'popupopen\', {\n      popup: this._popup\n    });\n  }\n}); // Defines rotated marker\n\n(function () {\n  // save these original methods before they are overwritten\n  let proto_initIcon = leaflet_src_default.a.Marker.prototype._initIcon;\n  let proto_setPos = leaflet_src_default.a.Marker.prototype._setPos;\n  let oldIE = leaflet_src_default.a.DomUtil.TRANSFORM === \'msTransform\';\n  leaflet_src_default.a.Marker.addInitHook(function () {\n    let iconAnchor = this.options.icon.options.iconAnchor;\n\n    if (iconAnchor) {\n      iconAnchor = iconAnchor[0] + \'px \' + iconAnchor[1] + \'px\';\n    }\n\n    this.options.rotationOrigin = this.options.rotationOrigin || iconAnchor || \'center bottom\';\n    this.options.rotationAngle = this.options.rotationAngle || 0;\n  });\n  leaflet_src_default.a.Marker.include({\n    _initIcon: function () {\n      proto_initIcon.call(this);\n    },\n    _setPos: function (pos) {\n      proto_setPos.call(this, pos);\n\n      if (this.options.rotationAngle) {\n        this._icon.style[leaflet_src_default.a.DomUtil.TRANSFORM + \'Origin\'] = this.options.rotationOrigin;\n\n        if (oldIE) {\n          // for IE 9, use the 2D rotation\n          this._icon.style[leaflet_src_default.a.DomUtil.TRANSFORM] = \' rotate(\' + this.options.rotationAngle + \'deg)\';\n        } else {\n          // for modern browsers, prefer the 3D accelerated version\n          this._icon.style[leaflet_src_default.a.DomUtil.TRANSFORM] += \' rotateZ(\' + this.options.rotationAngle + \'deg)\';\n        }\n      }\n    },\n    setRotationAngle: function (angle) {\n      this.options.rotationAngle = angle;\n      this.update();\n      return this;\n    },\n    setRotationOrigin: function (origin) {\n      this.options.rotationOrigin = origin;\n      this.update();\n      return this;\n    }\n  });\n})();\n/***  end of hack ***/\n\n\n/* harmony default export */ var map_LeafletView = __webpack_exports__["a"] = (LeafletView_LeafletView);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL3VpL3ZpZXcvbWFwL01hcFZpZXcuanM/ODc1MSIsIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL3VpL3ZpZXcvbWFwL0xlYWZsZXRWaWV3LmpzPzQ5NTEiXSwibmFtZXMiOlsiTWFwVmlldyIsIlZpZXciLCJjb25zdHJ1Y3RvciIsInBhcmVudEVsZW1lbnREaXZJZCIsInZpZXdJdGVtcyIsIm9wdGlvbnMiLCJsYXllcklkVG9NYXJrZXJzIiwibGF5ZXJJZFRvUG9seWxpbmVzIiwiYWRkTWFya2VyVG9MYXllciIsImxheWVyIiwibWFya2VyT2JqZWN0IiwiZ2V0SWQiLCJtYXJrZXJJZCIsImFkZFBvbHlsaW5lVG9MYXllciIsInBvbHlsaW5lT2JqZWN0IiwicG9seWxpbmVJZCIsImdldE1hcmtlciIsImdldFBvbHlsaW5lIiwiZ2V0TGF5ZXIiLCJsYXllcklkIiwiY3VycmVudExheWVyIiwibGF5ZXJzIiwiaWQiLCJyZW1vdmVWaWV3SXRlbSIsInZpZXdJdGVtIiwicmVtb3ZlTWFya2VycyIsInJlbW92ZVBvbHlsaW5lcyIsInBvaW50TWFya2VyIiwiaXNEZWZpbmVkIiwibWFya2Vyc01hcCIsIm1hcmtlciIsInJlbW92ZU1hcmtlckZyb21MYXllciIsInBvbHlsaW5lIiwicG9seWxpbmVzTWFwIiwicmVtb3ZlUG9seWxpbmVGcm9tTGF5ZXIiLCJvbk1hcmtlckxlZnRDbGljayIsImV2ZW50Iiwib25MZWZ0Q2xpY2siLCJjYWxsIiwib25NYXJrZXJSaWdodENsaWNrIiwib25SaWdodENsaWNrIiwib25NYXJrZXJNb3ZlIiwib25Nb3ZlIiwib25NYXJrZXJIb3ZlciIsIm9uSG92ZXIiLCJnZXRMYXllcklkIiwic3BsaXQiLCJsZW5ndGgiLCJnZXRNYXJrZXJJZCIsIkxlYWZsZXRWaWV3IiwiY3NzQ2xhc3MiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZGl2SWQiLCJjbGFzc05hbWUiLCJzZXRBdHRyaWJ1dGUiLCJjc3MiLCJiZWZvcmVBZGRpbmdJdGVtcyIsImluaXRNYXAiLCJpbml0aWFsVmlldyIsImxvY2F0aW9uIiwiTCIsIkxhdExuZyIsInpvb20iLCJmaXJzdCIsImZvbGxvdyIsImF1dG9ab29tT25GaXJzdE1hcmtlciIsImRlZmF1bHRMYXllcnMiLCJnZXREZWZhdWx0TGF5ZXJzIiwiZGVmYXVsdExheWVyIiwiYmFzZUxheWVycyIsIm92ZXJsYXlzIiwibmFtZSIsImxhdCIsImxvbiIsIm92ZXJsYXlMYXllcnMiLCJtYXAiLCJNYXAiLCJmdWxsc2NyZWVuQ29udHJvbCIsImNvbnRyb2wiLCJhZGRUbyIsInNldFZpZXciLCJtYXhab29tIiwibWJBdHRyIiwibWJVcmwiLCJlc3JpTGluayIsImVzcmlXaG9saW5rIiwiZXNyaUxheWVyIiwidGlsZUxheWVyIiwiYXR0cmlidXRpb24iLCJtYXhOYXRpdmVab29tIiwic3RyZWV0cyIsImluaXRMYXllcnMiLCJvc21VcmwiLCJvc21BdHRyaWIiLCJvc20iLCJtaW5ab29tIiwiYWRkTGF5ZXIiLCJhZGRNYXJrZXIiLCJwcm9wZXJ0aWVzIiwiaWNvbiIsIm1hcmtlckljb24iLCJpY29uQW5jaG9yIiwiaWNvblVybCIsImxhYmVsIiwiYmluZFRvb2x0aXAiLCJwZXJtYW5lbnQiLCJkaXJlY3Rpb24iLCJvZmZzZXQiLCJwb2ludCIsImxhYmVsT2Zmc2V0IiwiaGFzT3duUHJvcGVydHkiLCJkZXNjIiwiZGVzY3JpcHRpb24iLCJzaG93UG9wdXAiLCJiaW5kUG9wdXAiLCJzZXRSb3RhdGlvbkFuZ2xlIiwib3JpZW50YXRpb24iLCJhZGRQb2x5bGluZSIsImxvY2F0aW9ucyIsInBvbHlsaW5lUG9pbnRzIiwiaSIsInB1c2giLCJ5IiwieCIsIlBvbHlsaW5lIiwiY29sb3IiLCJ3ZWlnaHQiLCJvcGFjaXR5Iiwic21vb3RoRmFjdG9yIiwidXBkYXRlTWFya2VyIiwiaGVhZGluZyIsImxhYmVsQ29sb3IiLCJsYWJlbFNpemUiLCJtSWQiLCJvbiIsImlzTmFOIiwibmV3TGF0TG5nIiwic2V0TGF0TG5nIiwibWFya2VyQm91bmRzIiwibGF0TG5nQm91bmRzIiwiZml0Qm91bmRzIiwiem9vbUxldmVsIiwiX2ljb24iLCJzZXRJY29uIiwicmVtb3ZlTGF5ZXIiLCJ1cGRhdGVQb2x5bGluZSIsInBvbHlsaW5lT2JqIiwibWF4UG9pbnRzIiwiYXR0YWNoVG8iLCJwYXJlbnRFbGVtZW50IiwiaW52YWxpZGF0ZVNpemUiLCJvblJlc2l6ZSIsInRoYXQiLCJzZXRUaW1lb3V0Iiwib25DaGFuZ2UiLCJkYXRhIiwiZXh0ZW5kIiwib3BlblBvcHVwIiwicG9wdXAiLCJfcG9wdXAiLCJmaXJlIiwicHJvdG9faW5pdEljb24iLCJNYXJrZXIiLCJwcm90b3R5cGUiLCJfaW5pdEljb24iLCJwcm90b19zZXRQb3MiLCJfc2V0UG9zIiwib2xkSUUiLCJEb21VdGlsIiwiVFJBTlNGT1JNIiwiYWRkSW5pdEhvb2siLCJyb3RhdGlvbk9yaWdpbiIsInJvdGF0aW9uQW5nbGUiLCJpbmNsdWRlIiwicG9zIiwic3R5bGUiLCJhbmdsZSIsInVwZGF0ZSIsInNldFJvdGF0aW9uT3JpZ2luIiwib3JpZ2luIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsTUFBTUEsZUFBTixTQUFzQkMsdUJBQXRCLENBQTJCO0FBQ3ZCQyxhQUFXLENBQUNDLGtCQUFELEVBQXFCQyxTQUFyQixFQUFnQ0MsT0FBaEMsRUFBeUM7QUFDaEQsVUFBTUYsa0JBQU4sRUFBMEJDLFNBQTFCLEVBQW9DQyxPQUFwQyxFQURnRCxDQUdoRDs7QUFDQSxTQUFLQyxn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QjtBQWlDSCxDQWpERDtBQW9EQTs7O0FBRWdCakksc0dBQWhCIiwiZmlsZSI6IjIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAyMCBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgVmlldyBmcm9tIFwiLi4vVmlld1wiO1xuaW1wb3J0IHtpc0RlZmluZWR9IGZyb20gXCIuLi8uLi8uLi91dGlscy9VdGlsc1wiO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgaXMgYW4gYWJzdHJhY3QgY2xhc3MgaW4gY2hhcmdlIG9mIGhhbmRsaW5nIGNvbW1vbiBNYXAgb3BlcmF0aW9ucy5cbiAqIEBleHRlbmRzIFZpZXdcbiAqL1xuY2xhc3MgTWFwVmlldyBleHRlbmRzIFZpZXcge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudEVsZW1lbnREaXZJZCwgdmlld0l0ZW1zLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHBhcmVudEVsZW1lbnREaXZJZCwgdmlld0l0ZW1zLG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIG1hcCBMYXllciBpZCB0byBhcnJheSBvZiBjb3JyZXNwb25kaW5nIG1hcmtlcnNcbiAgICAgICAgdGhpcy5sYXllcklkVG9NYXJrZXJzID0ge307XG5cbiAgICAgICAgLy8gbWFwIExheWVyIGlkIHRvIGFycmF5IG9mIGNvcnJlc3BvbmRpbmcgcG9seWxpbmVzXG4gICAgICAgIHRoaXMubGF5ZXJJZFRvUG9seWxpbmVzPSB7fTtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc29jaWF0ZSBhIG1hcmtlcklkIHRvIGEgTGF5ZXIgZm9yIGEgZmFzdCBsb29rdXBcbiAgICAgKiBAcGFyYW0ge1BvaW50TWFya2VyfSBsYXllciAtIHRoZSBMYXllciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFya2VyT2JqZWN0IC0gdGhlIE1hcCBtYXJrZXIgb2JqZWN0XG4gICAgICovXG4gICAgYWRkTWFya2VyVG9MYXllcihsYXllciwgbWFya2VyT2JqZWN0KSB7XG4gICAgICAgIC8vIGFzc29jaWF0ZSB0aGUgbGlzdCBvZiBtYXJrZXJzIG93bmluZyBieSBhIHNwZWNpZmljIG1hcmtlclxuICAgICAgICBpZighKGxheWVyLmdldElkKCkgaW4gdGhpcy5sYXllcklkVG9NYXJrZXJzKSkge1xuICAgICAgICAgICAgdGhpcy5sYXllcklkVG9NYXJrZXJzW2xheWVyLmdldElkKCldID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXllcklkVG9NYXJrZXJzW2xheWVyLmdldElkKCldW2xheWVyLm1hcmtlcklkXSA9IG1hcmtlck9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NvY2lhdGUgYSBwb2x5bGluZUlkIHRvIGEgTGF5ZXIgZm9yIGEgZmFzdCBsb29rdXBcbiAgICAgKiBAcGFyYW0ge1BvbHlsaW5lfSBsYXllciAtIHRoZSBMYXllciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9seWxpbmVPYmplY3QgLSB0aGUgTWFwIHBvbHlsaW5lIG9iamVjdFxuICAgICAqL1xuICAgIGFkZFBvbHlsaW5lVG9MYXllcihsYXllciwgcG9seWxpbmVPYmplY3QpIHtcbiAgICAgICAgLy8gYXNzb2NpYXRlIHRoZSBsaXN0IG9mIG1hcmtlcnMgb3duaW5nIGJ5IGEgc3BlY2lmaWMgbWFya2VyXG4gICAgICAgIGlmKCEobGF5ZXIuZ2V0SWQoKSBpbiB0aGlzLmxheWVySWRUb1BvbHlsaW5lcykpIHtcbiAgICAgICAgICAgIHRoaXMubGF5ZXJJZFRvUG9seWxpbmVzW2xheWVyLmdldElkKCldID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXllcklkVG9Qb2x5bGluZXNbbGF5ZXIuZ2V0SWQoKV1bbGF5ZXIucG9seWxpbmVJZF0gPSBwb2x5bGluZU9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1hcmtlcklkIGFzc29jaWF0ZSB0byB0aGUgTGF5ZXJcbiAgICAgKiBAcGFyYW0ge1BvaW50TWFya2VyfSBsYXllciAtIHRoZSBMYXllciBPYmplY3RcbiAgICAgKi9cbiAgICBnZXRNYXJrZXIobGF5ZXIpIHtcbiAgICAgICAgaWYoIShsYXllci5nZXRJZCgpIGluICB0aGlzLmxheWVySWRUb01hcmtlcnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5sYXllcklkVG9NYXJrZXJzW2xheWVyLmdldElkKCldW2xheWVyLm1hcmtlcklkXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1hcmtlcklkIGFzc29jaWF0ZSB0byB0aGUgTGF5ZXJcbiAgICAgKiBAcGFyYW0ge1BvbHlsaW5lfSBsYXllciAtIHRoZSBMYXllciBPYmplY3RcbiAgICAgKi9cbiAgICBnZXRQb2x5bGluZShsYXllcikge1xuICAgICAgICBpZighKGxheWVyLmdldElkKCkgaW4gIHRoaXMubGF5ZXJJZFRvUG9seWxpbmVzKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubGF5ZXJJZFRvUG9seWxpbmVzW2xheWVyLmdldElkKCldW2xheWVyLnBvbHlsaW5lSWRdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgTGF5ZXIgYXNzb2NpYXRlZCB0byBpdHMgaWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbGF5ZXJJZCAtIHRoZSBpZCBvZiB0aGUgTGF5ZXJcbiAgICAgKiBAcmV0dXJuIHtMYXllcn0gLSB0aGUgY29ycmVzcG9uZGluZyBsYXllciwgbnVsbCBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBnZXRMYXllcihsYXllcklkKSB7XG4gICAgICAgIC8vIGZpbmQgY29ycmVzcG9uZGluZyBsYXllclxuICAgICAgICBmb3IgKGxldCBjdXJyZW50TGF5ZXIgb2YgdGhpcy5sYXllcnMpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50TGF5ZXIuaWQgPT09IGxheWVySWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudExheWVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBDb3JyZXNwb25kaW5nIFZpZXdJdGVtXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHZpZXdJdGVtIC0gVGhlIHZpZXdJdGVtIG9iamVjdFxuICAgICAqL1xuICAgIHJlbW92ZVZpZXdJdGVtKHZpZXdJdGVtKSB7XG4gICAgICAgIHN1cGVyLnJlbW92ZVZpZXdJdGVtKHZpZXdJdGVtKTtcbiAgICAgICAgLy8gY2hlY2sgZm9yIG1hcmtlclxuICAgICAgICB0aGlzLnJlbW92ZU1hcmtlcnModmlld0l0ZW0ubGF5ZXIpO1xuXG4gICAgICAgIC8vIGNoZWNrIGZvciBwb2x5bGluZXNcbiAgICAgICAgdGhpcy5yZW1vdmVQb2x5bGluZXModmlld0l0ZW0ubGF5ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgbWFya2VycyBjb3JyZXNwb25kaW5nIHRvIGEgUG9pbnRNYXJrZXIgTGF5ZXJcbiAgICAgKiBAcGFyYW0ge1BvaW50TWFya2VyfSBwb2ludE1hcmtlciAtIHRoZSBsYXllciB0byByZW1vdmUgdGhlIG1hcmtlcnMgZnJvbVxuICAgICAqL1xuICAgIHJlbW92ZU1hcmtlcnMocG9pbnRNYXJrZXIpIHtcbiAgICAgICAgaWYoaXNEZWZpbmVkKHBvaW50TWFya2VyLm1hcmtlcklkKSkge1xuICAgICAgICAgICAgY29uc3QgbWFya2Vyc01hcCA9IHRoaXMubGF5ZXJJZFRvTWFya2Vyc1twb2ludE1hcmtlci5pZF07XG4gICAgICAgICAgICBpZihpc0RlZmluZWQobWFya2Vyc01hcCkpIHtcbiAgICAgICAgICAgICAgICBmb3IobGV0IG1hcmtlcklkIGluIG1hcmtlcnNNYXApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFya2VyID0gbWFya2Vyc01hcFttYXJrZXJJZF07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlTWFya2VyRnJvbUxheWVyKG1hcmtlcilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSBtYXJrZXJzIGlkcyBmcm9tIExheWVyIG1hcFxuICAgICAgICAgICAgZGVsZXRlIHRoaXMubGF5ZXJJZFRvTWFya2Vyc1twb2ludE1hcmtlci5pZF07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIHBvbHlsaW5lcyBjb3JyZXNwb25kaW5nIHRvIGEgUG9seWxpbmUgTGF5ZXJcbiAgICAgKiBAcGFyYW0ge1BvbHlsaW5lfSBwb2x5bGluZSAtIHRoZSBsYXllciB0byByZW1vdmUgdGhlIHBvbHlsaW5lcyBmcm9tXG4gICAgICovXG4gICAgcmVtb3ZlUG9seWxpbmVzKHBvbHlsaW5lKSB7XG4gICAgICAgIGlmKGlzRGVmaW5lZChwb2x5bGluZS5wb2x5bGluZUlkKSkge1xuICAgICAgICAgICAgY29uc3QgcG9seWxpbmVzTWFwID0gdGhpcy5sYXllcklkVG9Qb2x5bGluZXNbcG9seWxpbmUuaWRdO1xuICAgICAgICAgICAgaWYoaXNEZWZpbmVkKHBvbHlsaW5lc01hcCkpIHtcbiAgICAgICAgICAgICAgICBmb3IobGV0IHBvbHlsaW5lSWQgaW4gcG9seWxpbmVzTWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvbHlsaW5lID0gcG9seWxpbmVzTWFwW3BvbHlsaW5lSWRdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVBvbHlsaW5lRnJvbUxheWVyKHBvbHlsaW5lKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmVtb3ZlIHBvbHlsaW5lcyBpZHMgZnJvbSBMYXllciBtYXBcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmxheWVySWRUb1BvbHlsaW5lc1twb2x5bGluZS5pZF07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBYnN0cmFjdCBtZXRob2QgdG8gcmVtb3ZlIGEgbWFya2VyIGZyb20gaXRzIGNvcnJlc3BvbmRpbmcgbGF5ZXIuXG4gICAgICogVGhpcyBpcyBsaWJyYXJ5IGRlcGVuZGFudC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFya2VyIC0gVGhlIE1hcCBtYXJrZXIgb2JqZWN0XG4gICAgICovXG4gICAgcmVtb3ZlTWFya2VyRnJvbUxheWVyKG1hcmtlcikge31cblxuICAgIC8qKlxuICAgICAqIEFic3RyYWN0IG1ldGhvZCB0byByZW1vdmUgYSBwb2x5bGluZSBmcm9tIGl0cyBjb3JyZXNwb25kaW5nIGxheWVyLlxuICAgICAqIFRoaXMgaXMgbGlicmFyeSBkZXBlbmRhbnQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBvbHlsaW5lIC0gVGhlIE1hcCBwb2x5bGluZSBvYmplY3RcbiAgICAgKi9cbiAgICByZW1vdmVQb2x5bGluZUZyb21MYXllcihwb2x5bGluZSkge31cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBjYWxsIG9uTGVmdENsaWNrIExheWVyIG1ldGhvZCBpZiBleGlzdHNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWFya2VySWQgLSB0aGUgTGF5ZXIgbWFya2VySWRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFya2VyT2JqZWN0IC0gdGhlIFZpZXcgbWFya2VyIG9iamVjdFxuICAgICAqIEBwYXJhbSB7UG9pbnRNYXJrZXJ9IGxheWVyIC0gdGhlIExheWVyIG9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCAtIHRoZSBvcmlnaW5hbCBNYXAgVmlldyBldmVudFxuICAgICAqL1xuICAgIG9uTWFya2VyTGVmdENsaWNrKG1hcmtlcklkLCBtYXJrZXJPYmplY3QsIGxheWVyLCBldmVudCkge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKGxheWVyLm9uTGVmdENsaWNrKSkge1xuICAgICAgICAgICAgbGF5ZXIub25MZWZ0Q2xpY2suY2FsbChsYXllcixtYXJrZXJJZCwgbWFya2VyT2JqZWN0LCBldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gY2FsbCBvblJpZ2h0Q2xpY2sgTGF5ZXIgbWV0aG9kIGlmIGV4aXN0c1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtYXJrZXJJZCAtIHRoZSBMYXllciBtYXJrZXJJZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXJrZXJPYmplY3QgLSB0aGUgVmlldyBtYXJrZXIgb2JqZWN0XG4gICAgICogQHBhcmFtIHtQb2ludE1hcmtlcn0gbGF5ZXIgLSB0aGUgTGF5ZXIgb2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50IC0gdGhlIG9yaWdpbmFsIE1hcCBWaWV3IGV2ZW50XG4gICAgICovXG4gICAgb25NYXJrZXJSaWdodENsaWNrKG1hcmtlcklkLCBtYXJrZXJPYmplY3QsIGxheWVyLCBldmVudCkge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKGxheWVyLm9uUmlnaHRDbGljaykpIHtcbiAgICAgICAgICAgIGxheWVyLm9uUmlnaHRDbGljay5jYWxsKGxheWVyLG1hcmtlcklkLCBtYXJrZXJPYmplY3QsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBjYWxsIG9uTW92ZSBMYXllciBtZXRob2QgaWYgZXhpc3RzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1hcmtlcklkIC0gdGhlIExheWVyIG1hcmtlcklkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcmtlck9iamVjdCAtIHRoZSBWaWV3IG1hcmtlciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge1BvaW50TWFya2VyfSBsYXllciAtIHRoZSBMYXllciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgLSB0aGUgb3JpZ2luYWwgTWFwIFZpZXcgZXZlbnRcbiAgICAgKi9cbiAgICBvbk1hcmtlck1vdmUobWFya2VySWQsIG1hcmtlck9iamVjdCwgbGF5ZXIsIGV2ZW50KSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQobGF5ZXIub25Nb3ZlKSkge1xuICAgICAgICAgICAgbGF5ZXIub25Nb3ZlLmNhbGwobGF5ZXIsbWFya2VySWQsIG1hcmtlck9iamVjdCwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGNhbGwgb25Ib3ZlciBMYXllciBtZXRob2QgaWYgZXhpc3RzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1hcmtlcklkIC0gdGhlIExheWVyIG1hcmtlcklkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcmtlck9iamVjdCAtIHRoZSBWaWV3IG1hcmtlciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge1BvaW50TWFya2VyfSBsYXllciAtIHRoZSBMYXllciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgLSB0aGUgb3JpZ2luYWwgTWFwIFZpZXcgZXZlbnRcbiAgICAgKi9cbiAgICBvbk1hcmtlckhvdmVyKG1hcmtlcklkLCBtYXJrZXJPYmplY3QsIGxheWVyLCBldmVudCkge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKGxheWVyLm9uSG92ZXIpKSB7XG4gICAgICAgICAgICBsYXllci5vbkhvdmVyLmNhbGwobGF5ZXIsbWFya2VySWQsIG1hcmtlck9iamVjdCwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdGhlIExheWVyIGlkIGZyb20gIGEgY29uY2F0ZW5hdGVkIGlkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gdGhlIGNvbmNhdGVuYXRlZCBzdWNoIGFzIGxheWVySWQkbWFya2VySWRcbiAgICAgKiBAcmV0dXJuIHtudWxsfFN0cmluZ30gdGhlIExheWVyIGlkXG4gICAgICovXG4gICAgZ2V0TGF5ZXJJZChpZCkge1xuICAgICAgICBjb25zdCBzcGxpdCA9IGlkLnNwbGl0KCckJyk7XG5cbiAgICAgICAgaWYoaXNEZWZpbmVkKHNwbGl0KSAmJiBzcGxpdC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgcmV0dXJuICBzcGxpdFswXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB0aGUgTWFya2VyIGlkIGZyb20gIGEgY29uY2F0ZW5hdGVkIGlkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gdGhlIGNvbmNhdGVuYXRlZCBzdWNoIGFzIGxheWVySWQkbWFya2VySWRcbiAgICAgKiBAcmV0dXJuIHtudWxsfFN0cmluZ30gdGhlIG1hcmtlciBpZFxuICAgICAqL1xuICAgIGdldE1hcmtlcklkKGlkKSB7XG4gICAgICAgIGlmKCFpc0RlZmluZWQoaWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzcGxpdCA9IGlkLnNwbGl0KCckJyk7XG5cbiAgICAgICAgaWYoaXNEZWZpbmVkKHNwbGl0KSAmJiBzcGxpdC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIHJldHVybiAgc3BsaXRbMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNYXBWaWV3O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAyMCBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgVmlldyBmcm9tIFwiLi4vVmlldy5qc1wiO1xuaW1wb3J0IHtpc0RlZmluZWQsIHJhbmRvbVVVSUR9IGZyb20gXCIuLi8uLi8uLi91dGlscy9VdGlscy5qc1wiO1xuaW1wb3J0IEV2ZW50TWFuYWdlciBmcm9tIFwiLi4vLi4vLi4vZXZlbnRzL0V2ZW50TWFuYWdlci5qc1wiO1xuaW1wb3J0IEwgZnJvbSAnbGVhZmxldCc7XG5pbXBvcnQgJ2xlYWZsZXQvZGlzdC9sZWFmbGV0LmNzcyc7XG5pbXBvcnQgTWFwVmlldyBmcm9tIFwiLi9NYXBWaWV3XCI7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBpcyBpbiBjaGFyZ2Ugb2YgZGlzcGxheWluZyBHUFMvb3JpZW50YXRpb24gZGF0YSBieSBhZGRpbmcgYSBtYXJrZXIgdG8gdGhlIExlYWZsZXQgTWFwIG9iamVjdC5cbiAqIEBleHRlbmRzIFZpZXdcbiAqIEBleGFtcGxlXG5cbiBpbXBvcnQgTGVhZmxldFZpZXcgZnJvbSAnb3NoL3VpL3ZpZXcvbWFwL0xlYWZsZXRWaWV3LmpzJztcblxuIGxldCBsZWFmbGV0TWFwVmlldyA9IG5ldyBMZWFmbGV0VmlldyhcIlwiLFxuIFt7XG4gICAgICAgICAgICBsYXllciA6ICBwb2ludE1hcmtlcixcbiAgICAgICAgICAgIG5hbWUgOiBcIkFuZHJvaWQgUGhvbmUgR1BTXCIsXG4gICAgICAgICAgICBlbnRpdHlJZCA6IGFuZHJvaWRFbnRpdHkuaWRcbiAgICAgICAgfSxcbiB7XG4gICAgIGxheWVyIDogbmV3IFBvbHlsaW5lKHtcbiAgICAgICAgIGdldExvY2F0aW9uIDoge1xuICAgICAgICAgICAgIGRhdGFTb3VyY2VJZHMgOiBbYW5kcm9pZFBob25lR3BzRGF0YVNvdXJjZS5nZXRJZCgpXSxcbiAgICAgICAgICAgICBoYW5kbGVyIDogZnVuY3Rpb24ocmVjKSB7XG4gICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICB4IDogcmVjLmxvbixcbiAgICAgICAgICAgICAgICAgICAgIHkgOiByZWMubGF0LFxuICAgICAgICAgICAgICAgICAgICAgeiA6IHJlYy5hbHRcbiAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICB9XG4gICAgICAgICB9LFxuICAgICAgICAgY29sb3IgOiAncmdiYSgwLDAsMjU1LDAuNSknLFxuICAgICAgICAgd2VpZ2h0IDogMTAsXG4gICAgICAgICBvcGFjaXR5IDogLjUsXG4gICAgICAgICBzbW9vdGhGYWN0b3IgOiAxLFxuICAgICAgICAgbWF4UG9pbnRzIDogMjAwXG4gICAgIH0pLFxuICAgICBuYW1lIDogXCJBbmRyb2lkIFBob25lIEdQUyBQYXRoXCIsXG4gICAgIGVudGl0eUlkIDogYW5kcm9pZEVudGl0eS5pZFxuIH1dXG4gKTtcbiAqL1xuY2xhc3MgTGVhZmxldFZpZXcgZXh0ZW5kcyBNYXBWaWV3IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBWaWV3LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwYXJlbnRFbGVtZW50RGl2SWQgLSBUaGUgZGl2IGVsZW1lbnQgdG8gYXR0YWNoIHRvXG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gdmlld0l0ZW1zIC0gVGhlIGluaXRpYWwgdmlldyBpdGVtcyB0byBhZGRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmlld0l0ZW1zLm5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgdmlldyBpdGVtXG4gICAgICogQHBhcmFtIHtMYXllcn0gdmlld0l0ZW1zLmxheWVyIC0gVGhlIGxheWVyIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHZpZXcgaXRlbVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSB0aGUgcHJvcGVydGllcyBvZiB0aGUgdmlld1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuYXV0b1pvb21PbkZpcnN0TWFya2VyPWZhbHNlXSAtIGF1dG8gem9vbSBvbiB0aGUgZmlyc3QgYWRkZWQgbWFya2VyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5mb2xsb3c9ZmFsc2VdIC0gZm9sbG93IHRoZSBtYXJrZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuaW5pdGlhbFZpZXddIC0gU2V0cyB0aGUgdmlldyBvZiB0aGUgbWFwIChnZW9ncmFwaGljYWwgY2VudGVyIGFuZCB6b29tKSB3aXRoIHRoZSBnaXZlbiBhbmltYXRpb24gb3B0aW9ucy4gW1NlZSBkZXRhaWxzXXtAbGluayBodHRwczovL2xlYWZsZXRqcy5jb20vcmVmZXJlbmNlLTEuNy4xLmh0bWwjbWFwLXNldHZpZXd9XG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gW29wdGlvbnMub3ZlcmxheUxheWVyc10gLSBbTC50aWxlTGF5ZXJde0BsaW5rIGh0dHBzOi8vbGVhZmxldGpzLmNvbS9yZWZlcmVuY2UtMS43LjEuaHRtbCN0aWxlbGF5ZXItbC10aWxlbGF5ZXJ9IG9iamVjdHMgdG8gdXNlIGFzIG92ZXJsYXkgbGF5ZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdFtdfSBbb3B0aW9ucy5iYXNlTGF5ZXJzXSAtIFtMLnRpbGVMYXllcl17QGxpbmsgaHR0cHM6Ly9sZWFmbGV0anMuY29tL3JlZmVyZW5jZS0xLjcuMS5odG1sI3RpbGVsYXllci1sLXRpbGVsYXllcn0gb2JqZWN0cyB0byB1c2UgYXMgYmFzZSBsYXllclxuICAgICAqXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocGFyZW50RWxlbWVudERpdklkLCB2aWV3SXRlbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIocGFyZW50RWxlbWVudERpdklkLCB2aWV3SXRlbXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIGxldCBjc3NDbGFzcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZGl2SWQpLmNsYXNzTmFtZTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5kaXZJZCkuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgY3NzQ2xhc3MrXCIgXCIrdGhpcy5jc3MpO1xuICAgIH1cblxuICAgIGJlZm9yZUFkZGluZ0l0ZW1zKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gaW5pdHMgdGhlIG1hcFxuICAgICAgICB0aGlzLmluaXRNYXAob3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLy8tLS0tLS0tLS0tIE1BUCBTRVRVUCAtLS0tLS0tLS0tLS0tLS8vXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGluaXRNYXAob3B0aW9ucykge1xuICAgICAgICAvLyAjcmVnaW9uIHNuaXBwZXRfbGVhZmxldHZpZXdfaW5pdGlhbF92aWV3XG4gICAgICAgIGxldCBpbml0aWFsVmlldyA9IHtcbiAgICAgICAgICAgIGxvY2F0aW9uOiBuZXcgTC5MYXRMbmcoMCwgMCksXG4gICAgICAgICAgICB6b29tOiAzXG4gICAgICAgIH07XG4gICAgICAgIC8vICNlbmRyZWdpb24gc25pcHBldF9sZWFmbGV0dmlld19pbml0aWFsX3ZpZXdcbiAgICAgICAgdGhpcy5maXJzdCA9IHRydWU7XG4gICAgICAgIHRoaXMuZm9sbG93ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYXV0b1pvb21PbkZpcnN0TWFya2VyID0gZmFsc2U7XG4gICAgICAgIGxldCBkZWZhdWx0TGF5ZXJzID0gdGhpcy5nZXREZWZhdWx0TGF5ZXJzKCk7XG5cbiAgICAgICAgbGV0IGRlZmF1bHRMYXllciA9IGRlZmF1bHRMYXllcnNbMF0ubGF5ZXI7XG5cbiAgICAgICAgbGV0IGJhc2VMYXllcnMgPSB7fTtcbiAgICAgICAgbGV0IG92ZXJsYXlzID0ge307XG5cbiAgICAgICAgYmFzZUxheWVyc1tkZWZhdWx0TGF5ZXJzWzBdLm5hbWVdID0gZGVmYXVsdExheWVyc1swXS5sYXllcjtcbiAgICAgICAgb3ZlcmxheXNbZGVmYXVsdExheWVyc1sxXS5uYW1lXSA9IGRlZmF1bHRMYXllcnNbMV0ubGF5ZXI7XG4gICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9ucykpIHtcbiAgICAgICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9ucy5pbml0aWFsVmlldykpIHtcbiAgICAgICAgICAgICAgICBpbml0aWFsVmlldyA9IHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IG5ldyBMLkxhdExuZyhvcHRpb25zLmluaXRpYWxWaWV3LmxhdCwgb3B0aW9ucy5pbml0aWFsVmlldy5sb24pLFxuICAgICAgICAgICAgICAgICAgICB6b29tOiBvcHRpb25zLmluaXRpYWxWaWV3Lnpvb21cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2hlY2tzIGF1dG9ab29tXG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKG9wdGlvbnMuYXV0b1pvb21PbkZpcnN0TWFya2VyKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXV0b1pvb21PbkZpcnN0TWFya2VyID0gb3B0aW9ucy5hdXRvWm9vbU9uRmlyc3RNYXJrZXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNoZWNrcyBvdmVybGF5ZXJzXG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKG9wdGlvbnMub3ZlcmxheUxheWVycykpIHtcbiAgICAgICAgICAgICAgICBvdmVybGF5cyA9IG9wdGlvbnMub3ZlcmxheUxheWVycztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY2hlY2tzIGJhc2VMYXllclxuICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChvcHRpb25zLmJhc2VMYXllcnMpKSB7XG4gICAgICAgICAgICAgICAgYmFzZUxheWVycyA9IG9wdGlvbnMuYmFzZUxheWVycztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChvcHRpb25zLmZvbGxvdykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvbGxvdyA9IG9wdGlvbnMuZm9sbG93O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjaGVja3MgZGVmYXVsdExheWVyXG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKG9wdGlvbnMuZGVmYXVsdExheWVyKSkge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRMYXllciA9IG9wdGlvbnMuZGVmYXVsdExheWVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0cyBsYXllcnMgdG8gbWFwXG4gICAgICAgIHRoaXMubWFwID0gbmV3IEwuTWFwKHRoaXMuZGl2SWQsIHtcbiAgICAgICAgICAgIGZ1bGxzY3JlZW5Db250cm9sOiB0cnVlLFxuICAgICAgICAgICAgbGF5ZXJzOiBkZWZhdWx0TGF5ZXJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgTC5jb250cm9sLmxheWVycyhiYXNlTGF5ZXJzLCBvdmVybGF5cykuYWRkVG8odGhpcy5tYXApO1xuXG4gICAgICAgIHRoaXMubWFwLnNldFZpZXcoaW5pdGlhbFZpZXcubG9jYXRpb24sIGluaXRpYWxWaWV3Lnpvb20pO1xuXG4gICAgICAgIC8vdGhpcy5pbml0TGF5ZXJzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGlzdCBvZiBkZWZhdWx0IGxheWVycy5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKi9cbiAgICBnZXREZWZhdWx0TGF5ZXJzKG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IG1heFpvb20gPSAyMjtcbiAgICAgICAgaWYgKGlzRGVmaW5lZChvcHRpb25zKSAmJiBvcHRpb25zLm1heFpvb20pIHtcbiAgICAgICAgICAgIG1heFpvb20gPSBvcHRpb25zLm1heFpvb207XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29weXJpZ2h0c1xuICAgICAgICBsZXQgbWJBdHRyID0gJ01hcCBkYXRhIMKpIDxhIGhyZWY9XCJodHRwOi8vb3BlbnN0cmVldG1hcC5vcmdcIj5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMnLFxuICAgICAgICAgICAgbWJVcmwgPSAnaHR0cDovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZyc7XG5cbiAgICAgICAgbGV0IGVzcmlMaW5rID0gJzxhIGhyZWY9XCJodHRwOi8vd3d3LmVzcmkuY29tL1wiPkVzcmk8L2E+JztcbiAgICAgICAgbGV0IGVzcmlXaG9saW5rID0gJ2ktY3ViZWQsIFVTREEsIFVTR1MsIEFFWCwgR2VvRXllLCBHZXRtYXBwaW5nLCBBZXJvZ3JpZCwgSUdOLCBJR1AsIFVQUi1FR1AsIGFuZCB0aGUgR0lTIFVzZXIgQ29tbXVuaXR5JztcblxuICAgICAgICAvLyBsZWFmbGV0IGxheWVyc1xuICAgICAgICBsZXQgZXNyaUxheWVyID0gTC50aWxlTGF5ZXIoXG4gICAgICAgICAgICAnaHR0cDovL3NlcnZlci5hcmNnaXNvbmxpbmUuY29tL0FyY0dJUy9yZXN0L3NlcnZpY2VzL1dvcmxkX0ltYWdlcnkvTWFwU2VydmVyL3RpbGUve3p9L3t5fS97eH0nLCB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRpb246ICcmY29weTsgJyArIGVzcmlMaW5rICsgJywgJyArIGVzcmlXaG9saW5rLFxuICAgICAgICAgICAgICAgIG1heFpvb206IG1heFpvb20sXG4gICAgICAgICAgICAgICAgbWF4TmF0aXZlWm9vbTogMTlcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBzdHJlZXRzID0gTC50aWxlTGF5ZXIobWJVcmwsIHtpZDogJ21hcGJveC5zdHJlZXRzJywgYXR0cmlidXRpb246IG1iQXR0ciwgbWF4Wm9vbTogbWF4Wm9vbX0pO1xuXG4gICAgICAgIHJldHVybiBbe1xuICAgICAgICAgICAgbmFtZTogXCJPU00gU3RyZWV0c1wiLFxuICAgICAgICAgICAgbGF5ZXI6IHN0cmVldHNcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgbmFtZTogXCJFc3JpIFNhdGVsbGl0ZVwiLFxuICAgICAgICAgICAgbGF5ZXI6IGVzcmlMYXllclxuICAgICAgICB9XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGluaXRMYXllcnMoKSB7XG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgdGlsZSBsYXllciB3aXRoIGNvcnJlY3QgYXR0cmlidXRpb25cbiAgICAgICAgbGV0IG9zbVVybCA9ICdodHRwOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nJztcbiAgICAgICAgbGV0IG9zbUF0dHJpYiA9ICdNYXAgZGF0YSDCqSA8YSBocmVmPVwiaHR0cDovL29wZW5zdHJlZXRtYXAub3JnXCI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzJztcbiAgICAgICAgbGV0IG9zbSA9IG5ldyBMLnRpbGVMYXllcihvc21VcmwsIHtcbiAgICAgICAgICAgIG1pblpvb206IDEsXG4gICAgICAgICAgICBtYXhab29tOiAyMixcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uOiBvc21BdHRyaWJcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWFwLmFkZExheWVyKG9zbSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgbWFya2VyIHRvIHRoZSBtYXAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BlcnRpZXNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy5sb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy5sYXRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5pY29uIC0gdGhlIGljb24gcGF0aFxuICAgICAqIEBwYXJhbSB7SW50ZWdlcltdfSBwcm9wZXJ0aWVzLmljb25BbmNob3IgLSBvZmZzZXQgb2YgdGhlIGljb24gZXg6WzEwLDEwXVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLmxhYmVsIC0gbGFiZWwgb2YgdGhlIHRvb2x0aXBcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5kZXNjcmlwdGlvbiAtIGRlc2NyaXB0aW9uIG9mIHRoZSBtYXJrZXIgdG8gZGlzcGxheSBpbnRvIHRoZSB0b29sdGlwXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMubGFiZWxPZmZzZXQgLSBvZmZzZXQgb2YgdGhlIGxhYmVsIG9mIHRoZSB0b29sdGlwXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMub3JpZW50YXRpb24gLSBvcmllbnRhdGlvbiBvZiB0aGUgaWNvbiBpbiBkZWdyZWVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wZXJ0aWVzLm9uTGVmdENsaWNrIC0gb25MZWZ0Q2xpY2sgZnVuY3Rpb24gY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5pZCAtIHRoZSBpZCBvZiB0aGUgbmV3IGNyZWF0ZWQgbWFya2VyOiBsYXllci5pZCRsYXllci5tYXJrZXJJZFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gdGhlIHRoZSBuZXcgY3JlYXRlZCBtYXJrZXJcbiAgICAgKi9cbiAgICBhZGRNYXJrZXIocHJvcGVydGllcykge1xuICAgICAgICAvL2NyZWF0ZSBtYXJrZXJcbiAgICAgICAgbGV0IG1hcmtlciA9IG51bGw7XG4gICAgICAgIGlmIChwcm9wZXJ0aWVzLmljb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGxldCBtYXJrZXJJY29uID0gTC5pY29uKHtcbiAgICAgICAgICAgICAgICBpY29uQW5jaG9yOiBwcm9wZXJ0aWVzLmljb25BbmNob3IsXG4gICAgICAgICAgICAgICAgaWNvblVybDogcHJvcGVydGllcy5pY29uXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbWFya2VyID0gTC5tYXJrZXIoW3Byb3BlcnRpZXMubGF0LCBwcm9wZXJ0aWVzLmxvbl0sIHtcbiAgICAgICAgICAgICAgICBpY29uOiBtYXJrZXJJY29uXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1hcmtlciA9IEwubWFya2VyKFtwcm9wZXJ0aWVzLmxhdCwgcHJvcGVydGllcy5sb25dKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9wZXJ0aWVzLmxhYmVsICE9PSBudWxsKSB7XG4gICAgICAgICAgICBtYXJrZXIuYmluZFRvb2x0aXAocHJvcGVydGllcy5sYWJlbCwge1xuICAgICAgICAgICAgICAgIHBlcm1hbmVudDogZmFsc2UsXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IEwucG9pbnQocHJvcGVydGllcy5sYWJlbE9mZnNldFswXSwgcHJvcGVydGllcy5sYWJlbE9mZnNldFsxXSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5hbWUgPSBwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KFwibmFtZVwiKSAmJiBwcm9wZXJ0aWVzLmxhYmVsICE9IG51bGwgPyBwcm9wZXJ0aWVzLmxhYmVsIDogXCJcIjtcbiAgICAgICAgbGV0IGRlc2MgPSBwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KFwiZGVzY3JpcHRpb25cIikgJiYgcHJvcGVydGllcy5kZXNjcmlwdGlvbiAhPSBudWxsID8gcHJvcGVydGllcy5kZXNjcmlwdGlvbiA6IFwiXCI7XG4gICAgICAgIGlmIChwcm9wZXJ0aWVzLnNob3dQb3B1cCAmJiAobmFtZS5sZW5ndGggPiAwIHx8IGRlc2MubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgIG1hcmtlci5iaW5kUG9wdXAobmFtZSArICc8ZGl2PicgKyBkZXNjICsgJzwvZGl2Picse1xuICAgICAgICAgICAgICAgIG9mZnNldDogTC5wb2ludChwcm9wZXJ0aWVzLmxhYmVsT2Zmc2V0WzBdLCBwcm9wZXJ0aWVzLmxhYmVsT2Zmc2V0WzFdKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBtYXJrZXIuaWQgPSBwcm9wZXJ0aWVzLmlkO1xuICAgICAgICBtYXJrZXIuYWRkVG8odGhpcy5tYXApO1xuICAgICAgICBtYXJrZXIuc2V0Um90YXRpb25BbmdsZShwcm9wZXJ0aWVzLm9yaWVudGF0aW9uKTtcblxuICAgICAgICByZXR1cm4gbWFya2VyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIHBvbHlsaW5lIHRvIHRoZSBtYXAuXG4gICAgICogQHBhcmFtIHtsb2NhdGlvbnN9IGxvY2F0aW9ucyAtIHRoZSBjb29yZGluYXRlcyBbe3gsIHl9XVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuY29sb3JcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy53ZWlnaHRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy5vcGFjaXR5XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMuc21vb3RoRmFjdG9yXG4gICAgICogQHJldHVybiB7c3RyaW5nfSB0aGUgaWQgb2YgdGhlIG5ldyBjcmVhdGVkIHBvbHlsaW5lXG4gICAgICovXG4gICAgYWRkUG9seWxpbmUobG9jYXRpb25zLCBwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGxldCBwb2x5bGluZVBvaW50cyA9IFtdO1xuXG4gICAgICAgIGlmKGlzRGVmaW5lZChsb2NhdGlvbnMpICYmIGxvY2F0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2F0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHBvbHlsaW5lUG9pbnRzLnB1c2gobmV3IEwuTGF0TG5nKFxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbnNbaV0ueSxcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25zW2ldLngpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vY3JlYXRlIHBhdGhcbiAgICAgICAgbGV0IHBvbHlsaW5lID0gbmV3IEwuUG9seWxpbmUocG9seWxpbmVQb2ludHMsIHtcbiAgICAgICAgICAgIGNvbG9yOiBwcm9wZXJ0aWVzLmNvbG9yLFxuICAgICAgICAgICAgd2VpZ2h0OiBwcm9wZXJ0aWVzLndlaWdodCxcbiAgICAgICAgICAgIG9wYWNpdHk6IHByb3BlcnRpZXMub3BhY2l0eSxcbiAgICAgICAgICAgIHNtb290aEZhY3RvcjogcHJvcGVydGllcy5zbW9vdGhGYWN0b3JcbiAgICAgICAgfSkuYWRkVG8odGhpcy5tYXApO1xuXG4gICAgICAgIHJldHVybiBwb2x5bGluZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBtYXJrZXIgYXNzb2NpYXRlZCB0byB0aGUgbGF5ZXIuXG4gICAgICogQHBhcmFtIHtQb2ludE1hcmtlcn0gbGF5ZXIgLSBUaGUgbGF5ZXIgYWxsb3dpbmcgdGhlIHVwZGF0ZSBvZiB0aGUgbWFya2VyXG4gICAgICovXG4gICAgdXBkYXRlTWFya2VyKGxheWVyKSB7XG4gICAgICAgIGxldCBtYXJrZXIgPSB0aGlzLmdldE1hcmtlcihsYXllcik7XG4gICAgICAgIGlmICghaXNEZWZpbmVkKG1hcmtlcikpIHtcbiAgICAgICAgICAgIC8vIGFkZHMgYSBuZXcgbWFya2VyIHRvIHRoZSBsZWFmbGV0IHJlbmRlcmVyXG4gICAgICAgICAgICAgY29uc3QgbWFya2VyT2JqZWN0ID0gdGhpcy5hZGRNYXJrZXIoe1xuICAgICAgICAgICAgICAgIGxhdDogbGF5ZXIubG9jYXRpb24ueSxcbiAgICAgICAgICAgICAgICBsb246IGxheWVyLmxvY2F0aW9uLngsXG4gICAgICAgICAgICAgICAgb3JpZW50YXRpb246IGxheWVyLm9yaWVudGF0aW9uLmhlYWRpbmcsXG4gICAgICAgICAgICAgICAgY29sb3I6IGxheWVyLmNvbG9yLFxuICAgICAgICAgICAgICAgIGljb246IGxheWVyLmljb24sXG4gICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogbGF5ZXIuaWNvbkFuY2hvcixcbiAgICAgICAgICAgICAgICBsYWJlbCA6IGxheWVyLmxhYmVsLFxuICAgICAgICAgICAgICAgIGxhYmVsQ29sb3IgOiBsYXllci5sYWJlbENvbG9yLFxuICAgICAgICAgICAgICAgIGxhYmVsU2l6ZSA6IGxheWVyLmxhYmVsU2l6ZSxcbiAgICAgICAgICAgICAgICBsYWJlbE9mZnNldCA6IGxheWVyLmxhYmVsT2Zmc2V0LFxuICAgICAgICAgICAgICAgIG5hbWUgOiBsYXllci52aWV3SXRlbS5uYW1lLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uIDogbGF5ZXIudmlld0l0ZW0uZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgIG9uTGVmdENsaWNrOiBsYXllci5vbkxlZnRDbGljayxcbiAgICAgICAgICAgICAgICAgaWQ6IGxheWVyLmlkK1wiJFwiK2xheWVyLm1hcmtlcklkLFxuICAgICAgICAgICAgICAgICBzaG93UG9wdXA6ICFpc0RlZmluZWQobGF5ZXIub25MZWZ0Q2xpY2spXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuYWRkTWFya2VyVG9MYXllcihsYXllciwgbWFya2VyT2JqZWN0KTtcbiAgICAgICAgICAgIGNvbnN0IG1JZCA9IGxheWVyLm1hcmtlcklkOyAvL25lZWQgdG8gZnJlZXplXG4gICAgICAgICAgICBtYXJrZXJPYmplY3Qub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB0aGlzLm9uTWFya2VyTGVmdENsaWNrKG1JZCxtYXJrZXJPYmplY3QsIGxheWVyLCBldmVudCkpO1xuICAgICAgICAgICAgbWFya2VyT2JqZWN0Lm9uKCdjb250ZXh0bWVudScsIChldmVudCkgPT4gdGhpcy5vbk1hcmtlclJpZ2h0Q2xpY2sobUlkLG1hcmtlck9iamVjdCwgbGF5ZXIsIGV2ZW50KSk7XG4gICAgICAgICAgICBtYXJrZXJPYmplY3Qub24oJ21vdXNlb3ZlcicsIChldmVudCkgPT4gdGhpcy5vbk1hcmtlckhvdmVyKG1JZCxtYXJrZXJPYmplY3QsIGxheWVyLCBldmVudCkpO1xuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgdGhlIGN1cnJlbnQgbWFya2VyIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGN1cnJlbnQgbWFya2VySWQgdmFsdWUgb2YgdGhlIFBvaW50TWFya2VyXG4gICAgICAgIG1hcmtlciA9IHRoaXMuZ2V0TWFya2VyKGxheWVyKTtcbiAgICAgICAgLy8gdXBkYXRlcyBwb3NpdGlvblxuICAgICAgICBsZXQgbG9uID0gbGF5ZXIubG9jYXRpb24ueDtcbiAgICAgICAgbGV0IGxhdCA9IGxheWVyLmxvY2F0aW9uLnk7XG5cbiAgICAgICAgaWYgKCFpc05hTihsb24pICYmICFpc05hTihsYXQpKSB7XG4gICAgICAgICAgICBsZXQgbmV3TGF0TG5nID0gbmV3IEwuTGF0TG5nKGxhdCwgbG9uKTtcbiAgICAgICAgICAgIG1hcmtlci5zZXRMYXRMbmcobmV3TGF0TG5nKTtcbiAgICAgICAgICAgIGlmKCh0aGlzLmZpcnN0ICYmIHRoaXMuYXV0b1pvb21PbkZpcnN0TWFya2VyKSB8fCB0aGlzLmZvbGxvdykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hcmtlckJvdW5kcyA9IEwubGF0TG5nQm91bmRzKFtuZXdMYXRMbmcgXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXAuZml0Qm91bmRzKG1hcmtlckJvdW5kcywge1xuICAgICAgICAgICAgICAgICAgICBtYXhab29tOiBsYXllci56b29tTGV2ZWxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmZpcnN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGVzIG9yaWVudGF0aW9uXG4gICAgICAgIGlmKGlzRGVmaW5lZChsYXllci5vcmllbnRhdGlvbikpIHtcbiAgICAgICAgICAgIG1hcmtlci5zZXRSb3RhdGlvbkFuZ2xlKGxheWVyLm9yaWVudGF0aW9uLmhlYWRpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxheWVyLmljb24gIT09IG51bGwgJiYgbWFya2VyLl9pY29uLmljb25VcmwgIT09IGxheWVyLmljb24pIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZXMgaWNvblxuICAgICAgICAgICAgbGV0IG1hcmtlckljb24gPSBMLmljb24oe1xuICAgICAgICAgICAgICAgIGljb25BbmNob3I6IGxheWVyLmljb25BbmNob3IsXG4gICAgICAgICAgICAgICAgaWNvblVybDogbGF5ZXIuaWNvblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBtYXJrZXIuc2V0SWNvbihtYXJrZXJJY29uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFic3RyYWN0IG1ldGhvZCB0byByZW1vdmUgYSBtYXJrZXIgZnJvbSBpdHMgY29ycmVzcG9uZGluZyBsYXllci5cbiAgICAgKiBUaGlzIGlzIGxpYnJhcnkgZGVwZW5kYW50LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXJrZXIgLSBUaGUgTWFwIG1hcmtlciBvYmplY3RcbiAgICAgKi9cbiAgICByZW1vdmVNYXJrZXJGcm9tTGF5ZXIobWFya2VyKSB7XG4gICAgICAgIHRoaXMubWFwLnJlbW92ZUxheWVyKG1hcmtlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWJzdHJhY3QgbWV0aG9kIHRvIHJlbW92ZSBhIHBvbHlsaW5lIGZyb20gaXRzIGNvcnJlc3BvbmRpbmcgbGF5ZXIuXG4gICAgICogVGhpcyBpcyBsaWJyYXJ5IGRlcGVuZGFudC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9seWxpbmUgLSBUaGUgTWFwIHBvbHlsaW5lIG9iamVjdFxuICAgICAqL1xuICAgIHJlbW92ZVBvbHlsaW5lRnJvbUxheWVyKHBvbHlsaW5lKSB7XG4gICAgICAgIHRoaXMubWFwLnJlbW92ZUxheWVyKHBvbHlsaW5lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBwb2x5bGluZSBhc3NvY2lhdGVkIHRvIHRoZSBsYXllci5cbiAgICAgKiBAcGFyYW0ge1BvbHlsaW5lfSBsYXllciAtIFRoZSBsYXllciBhbGxvd2luZyB0aGUgdXBkYXRlIG9mIHRoZSBwb2x5bGluZVxuICAgICAqL1xuICAgIHVwZGF0ZVBvbHlsaW5lKGxheWVyKSB7XG4gICAgICAgIGxldCBwb2x5bGluZSA9IHRoaXMuZ2V0UG9seWxpbmUobGF5ZXIpO1xuICAgICAgICBpZiAoaXNEZWZpbmVkKHBvbHlsaW5lKSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlcyB0aGUgbGF5ZXJcbiAgICAgICAgICAgdGhpcy5yZW1vdmVQb2x5bGluZUZyb21MYXllcihwb2x5bGluZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGRzIGEgbmV3IHBvbHlsaW5lIHRvIHRoZSBsZWFmbGV0IHJlbmRlcmVyXG4gICAgICAgIGNvbnN0IHBvbHlsaW5lT2JqID0gdGhpcy5hZGRQb2x5bGluZShsYXllci5sb2NhdGlvbnNbbGF5ZXIucG9seWxpbmVJZF0se1xuICAgICAgICAgICAgY29sb3I6IGxheWVyLmNvbG9yLFxuICAgICAgICAgICAgd2VpZ2h0OiBsYXllci53ZWlnaHQsXG4gICAgICAgICAgICBsb2NhdGlvbnM6IGxheWVyLmxvY2F0aW9ucyxcbiAgICAgICAgICAgIG1heFBvaW50czogbGF5ZXIubWF4UG9pbnRzLFxuICAgICAgICAgICAgb3BhY2l0eTogbGF5ZXIub3BhY2l0eSxcbiAgICAgICAgICAgIHNtb290aEZhY3RvcjogbGF5ZXIuc21vb3RoRmFjdG9yXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFkZFBvbHlsaW5lVG9MYXllcihsYXllciwgcG9seWxpbmVPYmopO1xuICAgIH1cblxuICAgIGF0dGFjaFRvKHBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIuYXR0YWNoVG8ocGFyZW50RWxlbWVudCk7XG4gICAgICAgIC8vIEZpeCBsZWFmbGV0IGJ1ZyB3aGVuIHJlc2l6aW5nIHRoZSBkaXYgcGFyZW50IGNvbnRhaW5lclxuICAgICAgICB0aGlzLm1hcC5pbnZhbGlkYXRlU2l6ZSgpO1xuICAgIH1cblxuICAgIG9uUmVzaXplKCkge1xuICAgICAgICBzdXBlci5vblJlc2l6ZSgpO1xuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsgdGhhdC5tYXAuaW52YWxpZGF0ZVNpemUoKX0sIDEwMCk7XG5cbiAgICB9XG5cbiAgICBvbkNoYW5nZShkYXRhKSB7fVxufVxuXG4vKioqICBsaXR0bGUgaGFjayBzdGFydHMgaGVyZSAqKiovXG5cbkwuTWFwID0gTC5NYXAuZXh0ZW5kKHtcbiAgICBvcGVuUG9wdXA6IGZ1bmN0aW9uIChwb3B1cCkge1xuICAgICAgICB0aGlzLl9wb3B1cCA9IHBvcHVwO1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRMYXllcihwb3B1cCkuZmlyZSgncG9wdXBvcGVuJywge1xuICAgICAgICAgICAgcG9wdXA6IHRoaXMuX3BvcHVwXG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG4vLyBEZWZpbmVzIHJvdGF0ZWQgbWFya2VyXG4oZnVuY3Rpb24gKCkge1xuICAgIC8vIHNhdmUgdGhlc2Ugb3JpZ2luYWwgbWV0aG9kcyBiZWZvcmUgdGhleSBhcmUgb3ZlcndyaXR0ZW5cbiAgICBsZXQgcHJvdG9faW5pdEljb24gPSBMLk1hcmtlci5wcm90b3R5cGUuX2luaXRJY29uO1xuICAgIGxldCBwcm90b19zZXRQb3MgPSBMLk1hcmtlci5wcm90b3R5cGUuX3NldFBvcztcblxuICAgIGxldCBvbGRJRSA9IChMLkRvbVV0aWwuVFJBTlNGT1JNID09PSAnbXNUcmFuc2Zvcm0nKTtcblxuICAgIEwuTWFya2VyLmFkZEluaXRIb29rKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IGljb25BbmNob3IgPSB0aGlzLm9wdGlvbnMuaWNvbi5vcHRpb25zLmljb25BbmNob3I7XG4gICAgICAgIGlmIChpY29uQW5jaG9yKSB7XG4gICAgICAgICAgICBpY29uQW5jaG9yID0gKGljb25BbmNob3JbMF0gKyAncHggJyArIGljb25BbmNob3JbMV0gKyAncHgnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9wdGlvbnMucm90YXRpb25PcmlnaW4gPSB0aGlzLm9wdGlvbnMucm90YXRpb25PcmlnaW4gfHwgaWNvbkFuY2hvciB8fCAnY2VudGVyIGJvdHRvbSc7XG4gICAgICAgIHRoaXMub3B0aW9ucy5yb3RhdGlvbkFuZ2xlID0gdGhpcy5vcHRpb25zLnJvdGF0aW9uQW5nbGUgfHwgMDtcbiAgICB9KTtcblxuICAgIEwuTWFya2VyLmluY2x1ZGUoe1xuICAgICAgICBfaW5pdEljb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHByb3RvX2luaXRJY29uLmNhbGwodGhpcyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3NldFBvczogZnVuY3Rpb24gKHBvcykge1xuICAgICAgICAgICAgcHJvdG9fc2V0UG9zLmNhbGwodGhpcywgcG9zKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yb3RhdGlvbkFuZ2xlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faWNvbi5zdHlsZVtMLkRvbVV0aWwuVFJBTlNGT1JNICsgJ09yaWdpbiddID0gdGhpcy5vcHRpb25zLnJvdGF0aW9uT3JpZ2luO1xuXG4gICAgICAgICAgICAgICAgaWYgKG9sZElFKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZvciBJRSA5LCB1c2UgdGhlIDJEIHJvdGF0aW9uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ljb24uc3R5bGVbTC5Eb21VdGlsLlRSQU5TRk9STV0gPSAnIHJvdGF0ZSgnICsgdGhpcy5vcHRpb25zLnJvdGF0aW9uQW5nbGUgKyAnZGVnKSc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZm9yIG1vZGVybiBicm93c2VycywgcHJlZmVyIHRoZSAzRCBhY2NlbGVyYXRlZCB2ZXJzaW9uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ljb24uc3R5bGVbTC5Eb21VdGlsLlRSQU5TRk9STV0gKz0gJyByb3RhdGVaKCcgKyB0aGlzLm9wdGlvbnMucm90YXRpb25BbmdsZSArICdkZWcpJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0Um90YXRpb25BbmdsZTogZnVuY3Rpb24gKGFuZ2xlKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMucm90YXRpb25BbmdsZSA9IGFuZ2xlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldFJvdGF0aW9uT3JpZ2luOiBmdW5jdGlvbiAob3JpZ2luKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMucm90YXRpb25PcmlnaW4gPSBvcmlnaW47XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pKCk7XG5cblxuLyoqKiAgZW5kIG9mIGhhY2sgKioqL1xuXG5leHBvcnQgZGVmYXVsdCAgTGVhZmxldFZpZXc7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///23\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/utils/Utils.js\nvar Utils = __webpack_require__(0);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/events/EventManager.js + 1 modules\nvar EventManager = __webpack_require__(2);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/ui/layer/Layer.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * This class is in charge of defining a Layer object.\n */\n\nclass Layer_Layer {\n  /**\n   *\n   * @param {Object[]} jsonProperties - contains a list of Functions\n   */\n  constructor(jsonProperties) {\n    this.properties = jsonProperties;\n    this.id = "layer-" + Object(Utils["h" /* randomUUID */])();\n    this.dataSourceToLayerMap = {};\n    this.initEvents();\n  }\n  /**\n   * @private\n   * @param funcName\n   * @return {*}\n   */\n\n\n  checkFn(funcName) {\n    let func = this.properties[funcName];\n    let isSet = Object(Utils["f" /* hasValue */])(func);\n\n    if (isSet) {\n      Object(Utils["a" /* assertArray */])(func.dataSourceIds, funcName + ".dataSourceIds");\n      Object(Utils["b" /* assertFunction */])(func.handler, funcName + ".handler");\n    }\n\n    return isSet;\n  }\n  /**\n   * @private\n   */\n\n\n  initEvents() {\n    var that = this;\n    EventManager["a" /* default */].observe(EventManager["a" /* default */].EVENT.DATASOURCE_UPDATE_TIME, event => that.clear());\n  }\n  /**\n   * Clear the layer.\n   */\n\n\n  clear() {}\n  /**\n   * Gets the layer id.\n   * @return {String} the layer id\n   */\n\n\n  getId() {\n    return this.id;\n  }\n  /**\n   * Selects the datasource contained into the list\n   * @param {Array} dataSourceIds the list of datasources\n   */\n\n\n  select(dataSourceIds) {}\n  /**\n   * Adds a function associated to a list of dataSource ids\n   * @param {String[]} dataSourceIds - the list of datasources\n   * @param {Function} fn - the function to add\n   */\n\n\n  addFn(dataSourceIds, fn) {\n    for (let i = 0; i < dataSourceIds.length; i++) {\n      let dataSourceId = dataSourceIds[i];\n\n      if (!Object(Utils["g" /* isDefined */])(this.dataSourceToLayerMap[dataSourceId])) {\n        this.dataSourceToLayerMap[dataSourceId] = [];\n      }\n\n      this.dataSourceToLayerMap[dataSourceId].push(fn);\n    }\n  }\n  /**\n   *\n   * @param dataSourceId\n   * @param rec\n   * @param view\n   * @param options\n   * @return {Boolean}\n   */\n\n\n  setData(dataSourceId, rec, view, options) {\n    if (dataSourceId in this.dataSourceToLayerMap) {\n      let fnArr = this.dataSourceToLayerMap[dataSourceId];\n\n      for (let i = 0; i < fnArr.length; i++) {\n        for (let j = 0; j < rec.values.length; j++) {\n          fnArr[i](rec.values[j].data, rec.values[j].timeStamp, options);\n        }\n      }\n\n      return true;\n    } else {\n      return false;\n    }\n  }\n  /**\n   *\n   * @return {String[]} The list of dataSource ids\n   */\n\n\n  getDataSourcesIds() {\n    let res = [];\n\n    for (let i in this.dataSourceToLayerMap) {\n      res.push(i);\n    }\n\n    return res;\n  }\n  /**\n   * Inits the layer.\n   */\n\n\n  init() {}\n\n}\n\n/* harmony default export */ var layer_Layer = (Layer_Layer);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/ui/layer/PointMarker.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2017 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * @extends Layer\n * @example\n *\n * import PointMarker from \'osh/ui/layer/PointMarker.js\';\n *\n * let pointMarker = new PointMarker({\n        location : {\n            x : 1.42376557,\n            y : 43.61758626,\n            z : 100\n        },\n        getLocation : {\n            dataSourceIds : [androidPhoneGpsDataSource.getId()],\n            handler : function(rec) {\n                return {\n                    x : rec.lon,\n                    y : rec.lat,\n                    z : rec.alt\n                };\n            }\n        },\n        getOrientation : {\n            dataSourceIds : [androidPhoneOrientationDataSource.getId()],\n            handler : function(rec) {\n                return {\n                    heading : rec.heading\n                };\n            }\n        },\n        icon : \'images/cameralook.png\',\n        getIcon : {\n            dataSourceIds: [androidPhoneGpsDataSource.getId()],\n            handler : function(rec,timeStamp,options) {\n                if(options.selected) {\n                    return \'images/cameralook-selected.png\'\n                } else {\n                    return \'images/cameralook.png\';\n                };\n            }\n        }\n    });\n */\n\nclass PointMarker_PointMarker extends layer_Layer {\n  /**\n  \t* Create the PointMarker\n  \t* @param {Object} properties\n  \t* @param {Number[]} properties.location - [x,y,z]\n   \t* @param {Number} [properties.orientation=0] -\n  \t* @param {String} properties.icon -\n  \t* @param {Number[]} [properties.iconAnchor=[16,16]] -\n  \t* @param {Number[]} [properties.iconSize=[16,16]] -\n  \t* @param {String} properties.label -\n  \t* @param {String} [properties.labelColor="#000000"] - HTML color\n  \t* @param {Number} [properties.labelSize=16] -\n  \t* @param {Number[]} [properties.labelOffset=[0,0]] -\n  \t* @param {Function} [properties.getLocation] -\n  \t* @param {Function} [properties.getOrientation] -\n  \t* @param {Function} [properties.getIcon] -\n  \t* @param {Function} [properties.getLabel] -\n  \t* @param {Function} [properties.getLabelColor] -\n  \t* @param {Function} [properties.getLabelSize] -\n    * @param {Function} [properties.onLeftClick] - trigger onLeftClick marker event\n    * @param {Function} [properties.onRightClick] - trigger onRightClick marker event\n    * @param {Function} [properties.onHover] - trigger onHover marker event\n    * @param {Function} [properties.getMarkerId] - map an id to a unique marker\n   \t* @param {Number} [properties.zoomLevel=15] - Set the default zoom level\n    * @param {Boolean} [properties.defaultToTerrainElevation=false] - Set the default to terrain elevation\n  \t*\n  \t*/\n  constructor(properties) {\n    super(properties);\n    this.properties = properties;\n    this.location = null;\n    this.orientation = {\n      heading: 0\n    };\n    this.icon = null;\n    this.iconAnchor = [16, 16];\n    this.iconSize = [16, 16];\n    this.label = null;\n    this.labelColor = "#000000";\n    this.labelSize = 16;\n    this.labelOffset = [0, 0];\n    this.zoomLevel = 15;\n    this.color = null;\n    this.defaultToTerrainElevation = false;\n    this.options = {};\n    this.markerId = \'marker\';\n\n    if (Object(Utils["g" /* isDefined */])(properties.defaultToTerrainElevation)) {\n      this.defaultToTerrainElevation = properties.defaultToTerrainElevation;\n    }\n\n    if (Object(Utils["f" /* hasValue */])(properties.location)) {\n      Object(Utils["c" /* assertObject */])(properties.location, "location");\n      this.location = properties.location;\n    }\n\n    if (Object(Utils["f" /* hasValue */])(properties.orientation)) {\n      Object(Utils["c" /* assertObject */])(properties.orientation, "orientation");\n      this.orientation = properties.orientation;\n    }\n\n    if (Object(Utils["f" /* hasValue */])(properties.icon)) {\n      Object(Utils["e" /* assertString */])(properties.icon, "icon");\n      this.icon = properties.icon;\n    }\n\n    if (Object(Utils["f" /* hasValue */])(properties.iconAnchor)) {\n      Object(Utils["a" /* assertArray */])(properties.iconAnchor, "iconAnchor");\n      this.iconAnchor = properties.iconAnchor;\n    }\n\n    if (Object(Utils["f" /* hasValue */])(properties.iconSize)) {\n      Object(Utils["a" /* assertArray */])(properties.iconSize, "iconSize");\n      this.iconSize = properties.iconSize;\n    }\n\n    if (Object(Utils["f" /* hasValue */])(properties.label)) {\n      Object(Utils["e" /* assertString */])(properties.label, "label");\n      this.label = properties.label;\n    }\n\n    if (Object(Utils["f" /* hasValue */])(properties.labelColor)) {\n      Object(Utils["e" /* assertString */])(properties.labelColor, "labelColor");\n      this.labelColor = properties.labelColor;\n    }\n\n    if (Object(Utils["f" /* hasValue */])(properties.labelSize)) {\n      Object(Utils["d" /* assertPositive */])(properties.labelSize, "labelSize");\n      this.labelSize = properties.labelSize;\n    }\n\n    if (Object(Utils["f" /* hasValue */])(properties.labelOffset)) {\n      Object(Utils["a" /* assertArray */])(properties.labelOffset, "labelOffset");\n      this.labelOffset = properties.labelOffset;\n    }\n\n    if (Object(Utils["f" /* hasValue */])(properties.zoomLevel)) {\n      Object(Utils["d" /* assertPositive */])(properties.zoomLevel, "zoomLevel");\n      this.zoomLevel = properties.zoomLevel;\n    }\n\n    let that = this; // must be first to assign correctly the first location to the right id if it is defined\n\n    if (this.checkFn("getMarkerId")) {\n      let fn = function (rec, timeStamp, options) {\n        that.markerId = properties.getMarkerId.handler(rec, timeStamp, options);\n      };\n\n      this.addFn(properties.getMarkerId.dataSourceIds, fn);\n    }\n\n    if (this.checkFn("getLocation")) {\n      let fn = function (rec, timeStamp, options) {\n        that.location = properties.getLocation.handler(rec, timeStamp, options);\n      };\n\n      this.addFn(properties.getLocation.dataSourceIds, fn);\n    }\n\n    if (this.checkFn("getOrientation")) {\n      let fn = function (rec, timeStamp, options) {\n        that.orientation = properties.getOrientation.handler(rec, timeStamp, options);\n      };\n\n      this.addFn(properties.getOrientation.dataSourceIds, fn);\n    }\n\n    if (this.checkFn("getIcon")) {\n      let fn = function (rec, timeStamp, options) {\n        that.icon = properties.getIcon.handler(rec, timeStamp, options);\n      };\n\n      this.addFn(properties.getIcon.dataSourceIds, fn);\n    }\n\n    if (this.checkFn("getLabel")) {\n      let fn = function (rec, timeStamp, options) {\n        that.label = properties.getLabel.handler(rec, timeStamp, options);\n      };\n\n      this.addFn(properties.getLabel.dataSourceIds, fn);\n    }\n\n    if (this.checkFn("getLabelColor")) {\n      let fn = function (rec, timeStamp, options) {\n        that.labelColor = properties.getLabelColor.handler(rec, timeStamp, options);\n      };\n\n      this.addFn(properties.getLabelColor.dataSourceIds, fn);\n    }\n\n    if (this.checkFn("getLabelSize")) {\n      let fn = function (rec, timeStamp, options) {\n        that.labelSize = properties.getLabelSize.handler(rec, timeStamp, options);\n      };\n\n      this.addFn(properties.getLabelSize.dataSourceIds, fn);\n    }\n\n    if (Object(Utils["g" /* isDefined */])(properties.onLeftClick) && Object(Utils["b" /* assertFunction */])(properties.onLeftClick)) {\n      this.onLeftClick = properties.onLeftClick;\n    }\n\n    if (Object(Utils["g" /* isDefined */])(properties.onRightClick) && Object(Utils["b" /* assertFunction */])(properties.onRightClick)) {\n      this.onRightClick = properties.onRightClick;\n    }\n\n    if (Object(Utils["g" /* isDefined */])(properties.onHover) && Object(Utils["b" /* assertFunction */])(properties.onHover)) {\n      this.onHover = properties.onHover;\n    }\n  }\n\n  init(view) {\n    super.init(view);\n\n    if (Object(Utils["g" /* isDefined */])(view) && this.location !== null) {\n      view.updateMarker(this, 0, {});\n    }\n  }\n\n  setData(dataSourceId, rec, view, options) {\n    if (super.setData(dataSourceId, rec, view, options)) {\n      if (Object(Utils["g" /* isDefined */])(view) && this.location !== null) {\n        view.updateMarker(this, rec.timeStamp, options);\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n}\n\n/* harmony default export */ var layer_PointMarker = __webpack_exports__["a"] = (PointMarker_PointMarker);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL3VpL2xheWVyL0xheWVyLmpzPzBhYzAiLCJ3ZWJwYWNrOi8vLy9ob21lL25ldnJvL1Byb2dzL3Byb2dzLWxvY2FsL2dpdC1yZXBvL09TSC9vc2gtanMvc291cmNlL29zaC91aS9sYXllci9Qb2ludE1hcmtlci5qcz9lMzcwIl0sIm5hbWVzIjpbIkxheWVyIiwiY29uc3RydWN0b3IiLCJqc29uUHJvcGVydGllcyIsInByb3BlcnRpZXMiLCJpZCIsInJhbmRvbVVVSUQiLCJkYXRhU291cmNlVG9MYXllck1hcCIsImluaXRFdmVudHMiLCJjaGVja0ZuIiwiZnVuY05hbWUiLCJmdW5jIiwiaXNTZXQiLCJoYXNWYWx1ZSIsImFzc2VydEFycmF5IiwiZGF0YVNvdXJjZUlkcyIsImFzc2VydEZ1bmN0aW9uIiwiaGFuZGxlciIsInRoYXQiLCJFdmVudE1hbmFnZXIiLCJvYnNlcnZlIiwiRVZFTlQiLCJEQVRBU09VUkNFX1VQREFURV9USU1FIiwiZXZlbnQiLCJjbGVhciIsImdldElkIiwic2VsZWN0IiwiYWRkRm4iLCJmbiIsImkiLCJsZW5ndGgiLCJkYXRhU291cmNlSWQiLCJpc0RlZmluZWQiLCJwdXNoIiwic2V0RGF0YSIsInJlYyIsInZpZXciLCJvcHRpb25zIiwiZm5BcnIiLCJqIiwidmFsdWVzIiwiZGF0YSIsInRpbWVTdGFtcCIsImdldERhdGFTb3VyY2VzSWRzIiwicmVzIiwiaW5pdCIsIlBvaW50TWFya2VyIiwibG9jYXRpb24iLCJvcmllbnRhdGlvbiIsImhlYWRpbmciLCJpY29uIiwiaWNvbkFuY2hvciIsImljb25TaXplIiwibGFiZWwiLCJsYWJlbENvbG9yIiwibGFiZWxTaXplIiwibGFiZWxPZmZzZXQiLCJ6b29tTGV2ZWwiLCJjb2xvciIsImRlZmF1bHRUb1RlcnJhaW5FbGV2YXRpb24iLCJtYXJrZXJJZCIsImFzc2VydE9iamVjdCIsImFzc2VydFN0cmluZyIsImFzc2VydFBvc2l0aXZlIiwiZ2V0TWFya2VySWQiLCJnZXRMb2NhdGlvbiIsImdldE9yaWVudGF0aW9uIiwiZ2V0SWNvbiIsImdldExhYmVsIiwiZ2V0TGFiZWxDb2xvciIsImdldExhYmVsU2l6ZSIsIm9uTGVmdENsaWNrIiwib25SaWdodENsaWNrIiwib25Ib3ZlciIsInVwZGF0ZU1hcmtlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUNBLE1BQU1BLFdBQU4sQ0FBWTtBQUNSO0FBQ0o7QUFDQTtBQUNBO0FBQ0lDLGFBQVcsQ0FBQ0MsY0FBRCxFQUFpQjtBQUN4QixTQUFLQyxVQUFMLEdBQWtCRCxjQUFsQjtBQUNBLFNBQUtFLEVBQUwsR0FBVSxXQUFXQyxtQ0FBVSxFQUEvQjtBQUNBLFNBQUtDLG9CQUFMLEdBQTRCLEVBQTVCO0FBQ0EsU0FBS0MsVUFBTDtBQUNIO0FBRUQ7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0lDLFNBQU8sQ0FBQ0MsUUFBRCxFQUFXO0FBQ2QsUUFBSUMsSUFBSSxHQUFHLEtBQUtQLFVBQUwsQ0FBZ0JNLFFBQWhCLENBQVg7QUFDQSxRQUFJRSxLQUFLLEdBQUdDLGlDQUFRLENBQUNGLElBQUQsQ0FBcEI7O0FBQ0EsUUFBSUMsS0FBSixFQUFXO0FBQ1BFLDBDQUFXLENBQUNILElBQUksQ0FBQ0ksYUFBTixFQUFxQkwsUUFBUSxHQUFHLGdCQUFoQyxDQUFYO0FBQ0FNLDZDQUFjLENBQUNMLElBQUksQ0FBQ00sT0FBTixFQUFlUCxRQUFRLEdBQUcsVUFBMUIsQ0FBZDtBQUNIOztBQUNELFdBQU9FLEtBQVA7QUFDSDtBQUVEO0FBQ0o7QUFDQTs7O0FBQ0lKLFlBQVUsR0FBRztBQUNULFFBQUlVLElBQUksR0FBRyxJQUFYO0FBQ0FDLG1DQUFZLENBQUND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QXZDO0FBQ0EsZUFBTyxJQUFQO0FBQ0E7QUFDRDs7QUFDRCxXQUFPLEtBQVA7QUFDQTs7QUFwTDhCOztBQXVMakJTLHdHQUFmIiwiZmlsZSI6IjI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAyMCBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQge2Fzc2VydEFycmF5LCBhc3NlcnRGdW5jdGlvbiwgaGFzVmFsdWUsIGlzRGVmaW5lZCwgcmFuZG9tVVVJRH0gZnJvbSBcIi4uLy4uL3V0aWxzL1V0aWxzLmpzXCI7XG5pbXBvcnQgRXZlbnRNYW5hZ2VyIGZyb20gXCIuLi8uLi9ldmVudHMvRXZlbnRNYW5hZ2VyLmpzXCI7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBpcyBpbiBjaGFyZ2Ugb2YgZGVmaW5pbmcgYSBMYXllciBvYmplY3QuXG4gKi9cbmNsYXNzIExheWVyIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0W119IGpzb25Qcm9wZXJ0aWVzIC0gY29udGFpbnMgYSBsaXN0IG9mIEZ1bmN0aW9uc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGpzb25Qcm9wZXJ0aWVzKSB7XG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IGpzb25Qcm9wZXJ0aWVzO1xuICAgICAgICB0aGlzLmlkID0gXCJsYXllci1cIiArIHJhbmRvbVVVSUQoKTtcbiAgICAgICAgdGhpcy5kYXRhU291cmNlVG9MYXllck1hcCA9IHt9O1xuICAgICAgICB0aGlzLmluaXRFdmVudHMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSBmdW5jTmFtZVxuICAgICAqIEByZXR1cm4geyp9XG4gICAgICovXG4gICAgY2hlY2tGbihmdW5jTmFtZSkge1xuICAgICAgICBsZXQgZnVuYyA9IHRoaXMucHJvcGVydGllc1tmdW5jTmFtZV07XG4gICAgICAgIGxldCBpc1NldCA9IGhhc1ZhbHVlKGZ1bmMpO1xuICAgICAgICBpZiAoaXNTZXQpIHtcbiAgICAgICAgICAgIGFzc2VydEFycmF5KGZ1bmMuZGF0YVNvdXJjZUlkcywgZnVuY05hbWUgKyBcIi5kYXRhU291cmNlSWRzXCIpO1xuICAgICAgICAgICAgYXNzZXJ0RnVuY3Rpb24oZnVuYy5oYW5kbGVyLCBmdW5jTmFtZSArIFwiLmhhbmRsZXJcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzU2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgaW5pdEV2ZW50cygpIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICBFdmVudE1hbmFnZXIub2JzZXJ2ZShFdmVudE1hbmFnZXIuRVZFTlQuREFUQVNPVVJDRV9VUERBVEVfVElNRSwgKGV2ZW50KSA9PiB0aGF0LmNsZWFyKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBsYXllci5cbiAgICAgKi9cbiAgICBjbGVhcigpIHtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsYXllciBpZC5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHRoZSBsYXllciBpZFxuICAgICAqL1xuICAgIGdldElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZWxlY3RzIHRoZSBkYXRhc291cmNlIGNvbnRhaW5lZCBpbnRvIHRoZSBsaXN0XG4gICAgICogQHBhcmFtIHtBcnJheX0gZGF0YVNvdXJjZUlkcyB0aGUgbGlzdCBvZiBkYXRhc291cmNlc1xuICAgICAqL1xuICAgIHNlbGVjdChkYXRhU291cmNlSWRzKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGZ1bmN0aW9uIGFzc29jaWF0ZWQgdG8gYSBsaXN0IG9mIGRhdGFTb3VyY2UgaWRzXG4gICAgICogQHBhcmFtIHtTdHJpbmdbXX0gZGF0YVNvdXJjZUlkcyAtIHRoZSBsaXN0IG9mIGRhdGFzb3VyY2VzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSB0aGUgZnVuY3Rpb24gdG8gYWRkXG4gICAgICovXG4gICAgYWRkRm4oZGF0YVNvdXJjZUlkcywgZm4pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhU291cmNlSWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZGF0YVNvdXJjZUlkID0gZGF0YVNvdXJjZUlkc1tpXTtcbiAgICAgICAgICAgIGlmICghaXNEZWZpbmVkKHRoaXMuZGF0YVNvdXJjZVRvTGF5ZXJNYXBbZGF0YVNvdXJjZUlkXSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFTb3VyY2VUb0xheWVyTWFwW2RhdGFTb3VyY2VJZF0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZVRvTGF5ZXJNYXBbZGF0YVNvdXJjZUlkXS5wdXNoKGZuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGRhdGFTb3VyY2VJZFxuICAgICAqIEBwYXJhbSByZWNcbiAgICAgKiBAcGFyYW0gdmlld1xuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBzZXREYXRhKGRhdGFTb3VyY2VJZCwgcmVjLCB2aWV3LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChkYXRhU291cmNlSWQgaW4gdGhpcy5kYXRhU291cmNlVG9MYXllck1hcCkge1xuICAgICAgICAgICAgbGV0IGZuQXJyID0gdGhpcy5kYXRhU291cmNlVG9MYXllck1hcFtkYXRhU291cmNlSWRdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbkFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGZvcihsZXQgaj0wO2ogPCByZWMudmFsdWVzLmxlbmd0aDtqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm5BcnJbaV0ocmVjLnZhbHVlc1tqXS5kYXRhLCByZWMudmFsdWVzW2pdLnRpbWVTdGFtcCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1N0cmluZ1tdfSBUaGUgbGlzdCBvZiBkYXRhU291cmNlIGlkc1xuICAgICAqL1xuICAgIGdldERhdGFTb3VyY2VzSWRzKCkge1xuICAgICAgICBsZXQgcmVzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgaW4gdGhpcy5kYXRhU291cmNlVG9MYXllck1hcCkge1xuICAgICAgICAgICAgcmVzLnB1c2goaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0cyB0aGUgbGF5ZXIuXG4gICAgICovXG4gICAgaW5pdCgpIHtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExheWVyO1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAxNyBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQge1xuXHRhc3NlcnRBcnJheSxcblx0YXNzZXJ0RnVuY3Rpb24sXG5cdGFzc2VydE9iamVjdCxcblx0YXNzZXJ0UG9zaXRpdmUsXG5cdGFzc2VydFN0cmluZyxcblx0aGFzVmFsdWUsXG5cdGlzRGVmaW5lZFxufSBmcm9tIFwiLi4vLi4vdXRpbHMvVXRpbHMuanNcIjtcbmltcG9ydCBMYXllciBmcm9tIFwiLi9MYXllci5qc1wiO1xuXG4vKipcbiAqIEBleHRlbmRzIExheWVyXG4gKiBAZXhhbXBsZVxuICpcbiAqIGltcG9ydCBQb2ludE1hcmtlciBmcm9tICdvc2gvdWkvbGF5ZXIvUG9pbnRNYXJrZXIuanMnO1xuICpcbiAqIGxldCBwb2ludE1hcmtlciA9IG5ldyBQb2ludE1hcmtlcih7XG4gICAgICAgIGxvY2F0aW9uIDoge1xuICAgICAgICAgICAgeCA6IDEuNDIzNzY1NTcsXG4gICAgICAgICAgICB5IDogNDMuNjE3NTg2MjYsXG4gICAgICAgICAgICB6IDogMTAwXG4gICAgICAgIH0sXG4gICAgICAgIGdldExvY2F0aW9uIDoge1xuICAgICAgICAgICAgZGF0YVNvdXJjZUlkcyA6IFthbmRyb2lkUGhvbmVHcHNEYXRhU291cmNlLmdldElkKCldLFxuICAgICAgICAgICAgaGFuZGxlciA6IGZ1bmN0aW9uKHJlYykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHggOiByZWMubG9uLFxuICAgICAgICAgICAgICAgICAgICB5IDogcmVjLmxhdCxcbiAgICAgICAgICAgICAgICAgICAgeiA6IHJlYy5hbHRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXRPcmllbnRhdGlvbiA6IHtcbiAgICAgICAgICAgIGRhdGFTb3VyY2VJZHMgOiBbYW5kcm9pZFBob25lT3JpZW50YXRpb25EYXRhU291cmNlLmdldElkKCldLFxuICAgICAgICAgICAgaGFuZGxlciA6IGZ1bmN0aW9uKHJlYykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRpbmcgOiByZWMuaGVhZGluZ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGljb24gOiAnaW1hZ2VzL2NhbWVyYWxvb2sucG5nJyxcbiAgICAgICAgZ2V0SWNvbiA6IHtcbiAgICAgICAgICAgIGRhdGFTb3VyY2VJZHM6IFthbmRyb2lkUGhvbmVHcHNEYXRhU291cmNlLmdldElkKCldLFxuICAgICAgICAgICAgaGFuZGxlciA6IGZ1bmN0aW9uKHJlYyx0aW1lU3RhbXAsb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMuc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdpbWFnZXMvY2FtZXJhbG9vay1zZWxlY3RlZC5wbmcnXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdpbWFnZXMvY2FtZXJhbG9vay5wbmcnO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAqL1xuY2xhc3MgUG9pbnRNYXJrZXIgZXh0ZW5kcyBMYXllciB7XG5cdC8qKlxuXHRcdCogQ3JlYXRlIHRoZSBQb2ludE1hcmtlclxuXHRcdCogQHBhcmFtIHtPYmplY3R9IHByb3BlcnRpZXNcblx0XHQqIEBwYXJhbSB7TnVtYmVyW119IHByb3BlcnRpZXMubG9jYXRpb24gLSBbeCx5LHpdXG4gIFx0KiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMub3JpZW50YXRpb249MF0gLVxuXHRcdCogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuaWNvbiAtXG5cdFx0KiBAcGFyYW0ge051bWJlcltdfSBbcHJvcGVydGllcy5pY29uQW5jaG9yPVsxNiwxNl1dIC1cblx0XHQqIEBwYXJhbSB7TnVtYmVyW119IFtwcm9wZXJ0aWVzLmljb25TaXplPVsxNiwxNl1dIC1cblx0XHQqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLmxhYmVsIC1cblx0XHQqIEBwYXJhbSB7U3RyaW5nfSBbcHJvcGVydGllcy5sYWJlbENvbG9yPVwiIzAwMDAwMFwiXSAtIEhUTUwgY29sb3Jcblx0XHQqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy5sYWJlbFNpemU9MTZdIC1cblx0XHQqIEBwYXJhbSB7TnVtYmVyW119IFtwcm9wZXJ0aWVzLmxhYmVsT2Zmc2V0PVswLDBdXSAtXG5cdFx0KiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcGVydGllcy5nZXRMb2NhdGlvbl0gLVxuXHRcdCogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BlcnRpZXMuZ2V0T3JpZW50YXRpb25dIC1cblx0XHQqIEBwYXJhbSB7RnVuY3Rpb259IFtwcm9wZXJ0aWVzLmdldEljb25dIC1cblx0XHQqIEBwYXJhbSB7RnVuY3Rpb259IFtwcm9wZXJ0aWVzLmdldExhYmVsXSAtXG5cdFx0KiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcGVydGllcy5nZXRMYWJlbENvbG9yXSAtXG5cdFx0KiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcGVydGllcy5nZXRMYWJlbFNpemVdIC1cblx0ICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcm9wZXJ0aWVzLm9uTGVmdENsaWNrXSAtIHRyaWdnZXIgb25MZWZ0Q2xpY2sgbWFya2VyIGV2ZW50XG5cdCAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcGVydGllcy5vblJpZ2h0Q2xpY2tdIC0gdHJpZ2dlciBvblJpZ2h0Q2xpY2sgbWFya2VyIGV2ZW50XG5cdCAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcGVydGllcy5vbkhvdmVyXSAtIHRyaWdnZXIgb25Ib3ZlciBtYXJrZXIgZXZlbnRcblx0ICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcm9wZXJ0aWVzLmdldE1hcmtlcklkXSAtIG1hcCBhbiBpZCB0byBhIHVuaXF1ZSBtYXJrZXJcblx0IFx0KiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMuem9vbUxldmVsPTE1XSAtIFNldCB0aGUgZGVmYXVsdCB6b29tIGxldmVsXG5cdCAgKiBAcGFyYW0ge0Jvb2xlYW59IFtwcm9wZXJ0aWVzLmRlZmF1bHRUb1RlcnJhaW5FbGV2YXRpb249ZmFsc2VdIC0gU2V0IHRoZSBkZWZhdWx0IHRvIHRlcnJhaW4gZWxldmF0aW9uXG5cdFx0KlxuXHRcdCovXG5cdGNvbnN0cnVjdG9yKHByb3BlcnRpZXMpIHtcblx0XHRzdXBlcihwcm9wZXJ0aWVzKTtcblx0XHR0aGlzLnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xuXHRcdHRoaXMubG9jYXRpb24gPSBudWxsO1xuXHRcdHRoaXMub3JpZW50YXRpb24gPSB7aGVhZGluZzowfTtcblx0XHR0aGlzLmljb24gPSBudWxsO1xuXHRcdHRoaXMuaWNvbkFuY2hvciA9IFsxNiwxNl07XG5cdFx0dGhpcy5pY29uU2l6ZSA9IFsxNiwxNl07XG5cdFx0dGhpcy5sYWJlbCA9IG51bGw7XG5cdFx0dGhpcy5sYWJlbENvbG9yID0gXCIjMDAwMDAwXCI7XG5cdFx0dGhpcy5sYWJlbFNpemUgPSAxNjtcblx0XHR0aGlzLmxhYmVsT2Zmc2V0ID0gWzAsMF07XG5cdFx0dGhpcy56b29tTGV2ZWwgPSAxNTtcblx0XHR0aGlzLmNvbG9yID0gbnVsbDtcblx0XHR0aGlzLmRlZmF1bHRUb1RlcnJhaW5FbGV2YXRpb24gPSBmYWxzZTtcblx0XHR0aGlzLm9wdGlvbnMgPSB7fTtcblx0XHR0aGlzLm1hcmtlcklkID0gJ21hcmtlcic7XG5cblx0XHRpZihpc0RlZmluZWQocHJvcGVydGllcy5kZWZhdWx0VG9UZXJyYWluRWxldmF0aW9uKSkge1xuXHRcdFx0dGhpcy5kZWZhdWx0VG9UZXJyYWluRWxldmF0aW9uID0gcHJvcGVydGllcy5kZWZhdWx0VG9UZXJyYWluRWxldmF0aW9uO1xuXHRcdH1cblxuXHRcdGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLmxvY2F0aW9uKSkge1xuXHRcdFx0YXNzZXJ0T2JqZWN0KHByb3BlcnRpZXMubG9jYXRpb24sIFwibG9jYXRpb25cIik7XG5cdFx0XHR0aGlzLmxvY2F0aW9uID0gcHJvcGVydGllcy5sb2NhdGlvbjtcblx0XHR9XG5cblx0XHRpZiAoaGFzVmFsdWUocHJvcGVydGllcy5vcmllbnRhdGlvbikpIHtcblx0XHRcdGFzc2VydE9iamVjdChwcm9wZXJ0aWVzLm9yaWVudGF0aW9uLCBcIm9yaWVudGF0aW9uXCIpO1xuXHRcdFx0dGhpcy5vcmllbnRhdGlvbiA9IHByb3BlcnRpZXMub3JpZW50YXRpb247XG5cdFx0fVxuXG5cdFx0aWYgKGhhc1ZhbHVlKHByb3BlcnRpZXMuaWNvbikpIHtcblx0XHRcdGFzc2VydFN0cmluZyhwcm9wZXJ0aWVzLmljb24sIFwiaWNvblwiKTtcblx0XHRcdHRoaXMuaWNvbiA9IHByb3BlcnRpZXMuaWNvbjtcblx0XHR9XG5cblx0XHRpZiAoaGFzVmFsdWUocHJvcGVydGllcy5pY29uQW5jaG9yKSkge1xuXHRcdFx0YXNzZXJ0QXJyYXkocHJvcGVydGllcy5pY29uQW5jaG9yLCBcImljb25BbmNob3JcIik7XG5cdFx0XHR0aGlzLmljb25BbmNob3IgPSBwcm9wZXJ0aWVzLmljb25BbmNob3I7XG5cdFx0fVxuXG5cdFx0aWYgKGhhc1ZhbHVlKHByb3BlcnRpZXMuaWNvblNpemUpKSB7XG5cdFx0XHRhc3NlcnRBcnJheShwcm9wZXJ0aWVzLmljb25TaXplLCBcImljb25TaXplXCIpO1xuXHRcdFx0dGhpcy5pY29uU2l6ZSA9IHByb3BlcnRpZXMuaWNvblNpemU7XG5cdFx0fVxuXG5cdFx0aWYgKGhhc1ZhbHVlKHByb3BlcnRpZXMubGFiZWwpKSB7XG5cdFx0XHRhc3NlcnRTdHJpbmcocHJvcGVydGllcy5sYWJlbCwgXCJsYWJlbFwiKTtcblx0XHRcdHRoaXMubGFiZWwgPSBwcm9wZXJ0aWVzLmxhYmVsO1xuXHRcdH1cblxuXHRcdGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLmxhYmVsQ29sb3IpKSB7XG5cdFx0XHRhc3NlcnRTdHJpbmcocHJvcGVydGllcy5sYWJlbENvbG9yLCBcImxhYmVsQ29sb3JcIik7XG5cdFx0XHR0aGlzLmxhYmVsQ29sb3IgPSBwcm9wZXJ0aWVzLmxhYmVsQ29sb3I7XG5cdFx0fVxuXG5cdFx0aWYgKGhhc1ZhbHVlKHByb3BlcnRpZXMubGFiZWxTaXplKSkge1xuXHRcdFx0YXNzZXJ0UG9zaXRpdmUocHJvcGVydGllcy5sYWJlbFNpemUsIFwibGFiZWxTaXplXCIpO1xuXHRcdFx0dGhpcy5sYWJlbFNpemUgPSBwcm9wZXJ0aWVzLmxhYmVsU2l6ZTtcblx0XHR9XG5cblx0XHRpZiAoaGFzVmFsdWUocHJvcGVydGllcy5sYWJlbE9mZnNldCkpIHtcblx0XHRcdGFzc2VydEFycmF5KHByb3BlcnRpZXMubGFiZWxPZmZzZXQsIFwibGFiZWxPZmZzZXRcIik7XG5cdFx0XHR0aGlzLmxhYmVsT2Zmc2V0ID0gcHJvcGVydGllcy5sYWJlbE9mZnNldDtcblx0XHR9XG5cblxuXHRcdGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLnpvb21MZXZlbCkpIHtcblx0XHRcdGFzc2VydFBvc2l0aXZlKHByb3BlcnRpZXMuem9vbUxldmVsLCBcInpvb21MZXZlbFwiKTtcblx0XHRcdHRoaXMuem9vbUxldmVsID0gcHJvcGVydGllcy56b29tTGV2ZWw7XG5cdFx0fVxuXG5cdFx0bGV0IHRoYXQgPSB0aGlzO1xuXG5cdFx0Ly8gbXVzdCBiZSBmaXJzdCB0byBhc3NpZ24gY29ycmVjdGx5IHRoZSBmaXJzdCBsb2NhdGlvbiB0byB0aGUgcmlnaHQgaWQgaWYgaXQgaXMgZGVmaW5lZFxuXHRcdGlmICh0aGlzLmNoZWNrRm4oXCJnZXRNYXJrZXJJZFwiKSkge1xuXHRcdFx0bGV0IGZuID0gZnVuY3Rpb24ocmVjLHRpbWVTdGFtcCxvcHRpb25zKSB7XG5cdFx0XHRcdHRoYXQubWFya2VySWQgPSBwcm9wZXJ0aWVzLmdldE1hcmtlcklkLmhhbmRsZXIocmVjLHRpbWVTdGFtcCxvcHRpb25zKTtcblx0XHRcdH07XG5cdFx0XHR0aGlzLmFkZEZuKHByb3BlcnRpZXMuZ2V0TWFya2VySWQuZGF0YVNvdXJjZUlkcyxmbik7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2tGbihcImdldExvY2F0aW9uXCIpKSB7XG5cdFx0XHRsZXQgZm4gPSBmdW5jdGlvbihyZWMsdGltZVN0YW1wLG9wdGlvbnMpIHtcblx0XHRcdFx0dGhhdC5sb2NhdGlvbiA9IHByb3BlcnRpZXMuZ2V0TG9jYXRpb24uaGFuZGxlcihyZWMsdGltZVN0YW1wLG9wdGlvbnMpO1xuXHRcdFx0fTtcblx0XHRcdHRoaXMuYWRkRm4ocHJvcGVydGllcy5nZXRMb2NhdGlvbi5kYXRhU291cmNlSWRzLGZuKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVja0ZuKFwiZ2V0T3JpZW50YXRpb25cIikpIHtcblx0XHRcdGxldCBmbiA9IGZ1bmN0aW9uKHJlYyx0aW1lU3RhbXAsb3B0aW9ucykge1xuXHRcdFx0XHR0aGF0Lm9yaWVudGF0aW9uID0gcHJvcGVydGllcy5nZXRPcmllbnRhdGlvbi5oYW5kbGVyKHJlYyx0aW1lU3RhbXAsb3B0aW9ucyk7XG5cdFx0XHR9O1xuXHRcdFx0dGhpcy5hZGRGbihwcm9wZXJ0aWVzLmdldE9yaWVudGF0aW9uLmRhdGFTb3VyY2VJZHMsZm4pO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrRm4oXCJnZXRJY29uXCIpKSB7XG5cdFx0XHRsZXQgZm4gPSBmdW5jdGlvbihyZWMsdGltZVN0YW1wLG9wdGlvbnMpIHtcblx0XHRcdFx0dGhhdC5pY29uID0gcHJvcGVydGllcy5nZXRJY29uLmhhbmRsZXIocmVjLHRpbWVTdGFtcCxvcHRpb25zKTtcblx0XHRcdH07XG5cdFx0XHR0aGlzLmFkZEZuKHByb3BlcnRpZXMuZ2V0SWNvbi5kYXRhU291cmNlSWRzLGZuKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVja0ZuKFwiZ2V0TGFiZWxcIikpIHtcblx0XHRcdGxldCBmbiA9IGZ1bmN0aW9uKHJlYyx0aW1lU3RhbXAsb3B0aW9ucykge1xuXHRcdFx0XHR0aGF0LmxhYmVsID0gcHJvcGVydGllcy5nZXRMYWJlbC5oYW5kbGVyKHJlYyx0aW1lU3RhbXAsb3B0aW9ucyk7XG5cdFx0XHR9O1xuXHRcdFx0dGhpcy5hZGRGbihwcm9wZXJ0aWVzLmdldExhYmVsLmRhdGFTb3VyY2VJZHMsZm4pO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrRm4oXCJnZXRMYWJlbENvbG9yXCIpKSB7XG5cdFx0XHRsZXQgZm4gPSBmdW5jdGlvbihyZWMsdGltZVN0YW1wLG9wdGlvbnMpIHtcblx0XHRcdFx0dGhhdC5sYWJlbENvbG9yID0gcHJvcGVydGllcy5nZXRMYWJlbENvbG9yLmhhbmRsZXIocmVjLHRpbWVTdGFtcCxvcHRpb25zKTtcblx0XHRcdH07XG5cdFx0XHR0aGlzLmFkZEZuKHByb3BlcnRpZXMuZ2V0TGFiZWxDb2xvci5kYXRhU291cmNlSWRzLGZuKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVja0ZuKFwiZ2V0TGFiZWxTaXplXCIpKSB7XG5cdFx0XHRsZXQgZm4gPSBmdW5jdGlvbihyZWMsdGltZVN0YW1wLG9wdGlvbnMpIHtcblx0XHRcdFx0dGhhdC5sYWJlbFNpemUgPSBwcm9wZXJ0aWVzLmdldExhYmVsU2l6ZS5oYW5kbGVyKHJlYyx0aW1lU3RhbXAsb3B0aW9ucyk7XG5cdFx0XHR9O1xuXHRcdFx0dGhpcy5hZGRGbihwcm9wZXJ0aWVzLmdldExhYmVsU2l6ZS5kYXRhU291cmNlSWRzLGZuKTtcblx0XHR9XG5cblx0XHRpZiAoaXNEZWZpbmVkKHByb3BlcnRpZXMub25MZWZ0Q2xpY2spICYmIGFzc2VydEZ1bmN0aW9uKHByb3BlcnRpZXMub25MZWZ0Q2xpY2spKSB7XG5cdFx0XHR0aGlzLm9uTGVmdENsaWNrID0gcHJvcGVydGllcy5vbkxlZnRDbGljaztcblx0XHR9XG5cblx0XHRpZiAoaXNEZWZpbmVkKHByb3BlcnRpZXMub25SaWdodENsaWNrKSAmJiBhc3NlcnRGdW5jdGlvbihwcm9wZXJ0aWVzLm9uUmlnaHRDbGljaykpIHtcblx0XHRcdHRoaXMub25SaWdodENsaWNrID0gcHJvcGVydGllcy5vblJpZ2h0Q2xpY2s7XG5cdFx0fVxuXG5cdFx0aWYgKGlzRGVmaW5lZChwcm9wZXJ0aWVzLm9uSG92ZXIpICYmIGFzc2VydEZ1bmN0aW9uKHByb3BlcnRpZXMub25Ib3ZlcikpIHtcblx0XHRcdHRoaXMub25Ib3ZlciA9IHByb3BlcnRpZXMub25Ib3Zlcjtcblx0XHR9XG5cdH1cblxuXHRpbml0KHZpZXcpIHtcblx0XHRzdXBlci5pbml0KHZpZXcpO1xuXHRcdGlmIChpc0RlZmluZWQodmlldykgJiYgdGhpcy5sb2NhdGlvbiAhPT0gbnVsbCkge1xuXHRcdFx0dmlldy51cGRhdGVNYXJrZXIodGhpcywwLHt9KTtcblx0XHR9XG5cdH1cblxuXHRzZXREYXRhKGRhdGFTb3VyY2VJZCxyZWMsdmlldyxvcHRpb25zKSB7XG5cdFx0aWYgKHN1cGVyLnNldERhdGEoZGF0YVNvdXJjZUlkLHJlYyx2aWV3LG9wdGlvbnMpKSB7XG5cdFx0XHRpZiAoaXNEZWZpbmVkKHZpZXcpICYmIHRoaXMubG9jYXRpb24gIT09IG51bGwpIHtcblx0XHRcdFx0dmlldy51cGRhdGVNYXJrZXIodGhpcywgcmVjLnRpbWVTdGFtcCwgb3B0aW9ucyk7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9pbnRNYXJrZXI7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///24\n')},function(module,exports,__webpack_require__){eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(26);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(4).default\nvar update = add(\"c3cc55b4\", content, false, {});\n// Hot Module Replacement\nif(false) {}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL3Jlc291cmNlcy9jc3Mvdmlldy5jc3M/OTViOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBLGNBQWMsbUJBQU8sQ0FBQyxFQUFzRztBQUM1SCw0Q0FBNEMsUUFBUztBQUNyRDtBQUNBO0FBQ0EsVUFBVSxtQkFBTyxDQUFDLENBQTJHO0FBQzdILCtDQUErQztBQUMvQztBQUNBLEdBQUcsS0FBVSxFQUFFIiwiZmlsZSI6IjI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL2RlbW9zL3ZpZGVvLWRpc3BsYXkvdmlkZW8tZGlzcGxheS12dWVqcy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3ZpZXcuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL2RlbW9zL3ZpZGVvLWRpc3BsYXkvdmlkZW8tZGlzcGxheS12dWVqcy9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCJjM2NjNTViNFwiLCBjb250ZW50LCBmYWxzZSwge30pO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuIC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG4gaWYoIWNvbnRlbnQubG9jYWxzKSB7XG4gICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vZGVtb3MvdmlkZW8tZGlzcGxheS92aWRlby1kaXNwbGF5LXZ1ZWpzL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vdmlldy5jc3NcIiwgZnVuY3Rpb24oKSB7XG4gICAgIHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vZGVtb3MvdmlkZW8tZGlzcGxheS92aWRlby1kaXNwbGF5LXZ1ZWpzL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vdmlldy5jc3NcIik7XG4gICAgIGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuICAgICB1cGRhdGUobmV3Q29udGVudCk7XG4gICB9KTtcbiB9XG4gLy8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///25\n")},function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(3);\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, ".osh-view {\\n    width:100%;\\n    height: 100%;\\n}\\n", ""]);\n// Exports\nmodule.exports = exports;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL3Jlc291cmNlcy9jc3Mvdmlldy5jc3M/NWEyOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLGtDQUFrQyxtQkFBTyxDQUFDLENBQWlHO0FBQzNJO0FBQ0E7QUFDQSxjQUFjLFFBQVMsY0FBYyxpQkFBaUIsbUJBQW1CLEdBQUc7QUFDNUU7QUFDQSIsImZpbGUiOiIyNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vZGVtb3MvdmlkZW8tZGlzcGxheS92aWRlby1kaXNwbGF5LXZ1ZWpzL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLm9zaC12aWV3IHtcXG4gICAgd2lkdGg6MTAwJTtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///26\n')}]]);