!function(Q){var B={};function I(F){if(B[F])return B[F].exports;var U=B[F]={i:F,l:!1,exports:{}};return Q[F].call(U.exports,U,U.exports,I),U.l=!0,U.exports}I.m=Q,I.c=B,I.d=function(Q,B,F){I.o(Q,B)||Object.defineProperty(Q,B,{enumerable:!0,get:F})},I.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},I.t=function(Q,B){if(1&B&&(Q=I(Q)),8&B)return Q;if(4&B&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var F=Object.create(null);if(I.r(F),Object.defineProperty(F,"default",{enumerable:!0,value:Q}),2&B&&"string"!=typeof Q)for(var U in Q)I.d(F,U,function(B){return Q[B]}.bind(null,U));return F},I.n=function(Q){var B=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return I.d(B,"a",B),B},I.o=function(Q,B){return Object.prototype.hasOwnProperty.call(Q,B)},I.p="",I(I.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/utils/Utils.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n/** * @module Utils */\n\n/** Maximum value of a long */\nconst MAX_LONG = Math.pow(2, 53) + 1;\n/**\n * Global helper method to test if a letiable or object attribute is defined\n */\n\nfunction isDefined(v) {\n  return typeof v !== 'undefined' && v !== null;\n}\n/**\n Global helper method to test if a letiable or object attribute has a value,\n that is it is defined and non null\n */\n\nfunction hasValue(v) {\n  return isDefined(v) && v !== null;\n}\n/**\n Global helper method to transform hex color into RGBA\n */\n\nfunction hex2rgb(hex) {\n  const [r, g, b] = hex.match(/\\w\\w/g).map(x => parseInt(x, 16));\n  return [r, g, b];\n}\n/**\n Global helper method to test if a letiable or object attribute is of a particular type\n */\n\nfunction hasType(v, expectedType) {\n  let hasVal = hasValue(v);\n  return hasVal && typeof v === expectedType;\n}\n/**\n Global helper method to test if a letiable or object attribute is an object\n */\n\nfunction isObject(v, letName) {\n  return hasType(v, 'object', letName);\n}\n/**\n Global helper method to test if a letiable or object attribute is an array\n */\n\nfunction isArray(v) {\n  return isDefined(v) && Array.isArray(v);\n}\n/**\n Global helper method to test if a letiable or object attribute is a function\n */\n\nfunction isFunction(v, letName) {\n  return hasType(v, 'function', letName);\n}\n/**\n Assert that a letiable or object attribute is defined\n **/\n\nfunction assertDefined(v, letName = 'letiable') {\n  if (!isDefined(v)) {\n    throw letName + \" must be defined\";\n  }\n\n  return v;\n}\nfunction assertTrue(v, letName = 'letiable') {\n  if (!isDefined(v) || !v) {\n    throw letName;\n  }\n\n  return v;\n}\n/**\n Assert that a letiable or object attribute is defined and non-null\n **/\n\nfunction assertType(v, expectedType, letName = 'letiable') {\n  assertDefined(v, letName);\n\n  if (typeof v !== expectedType) {\n    throw letName + \" must be of type \" + expectedType;\n  }\n\n  return v;\n}\n/**\n Assert that a letiable or object attribute is a string\n **/\n\nfunction assertBoolean(v, letName) {\n  return assertType(v, 'boolean', letName);\n}\n/**\n Assert that a letiable or object attribute is a string\n **/\n\nfunction assertString(v, letName) {\n  return assertType(v, 'string', letName);\n}\n/**\n Assert that a letiable or object attribute is a number\n **/\n\nfunction assertNumber(v, letName) {\n  return assertType(v, 'number', letName);\n}\n/**\n Assert that a letiable or object attribute is a number\n **/\n\nfunction assertPositive(v, letName) {\n  assertNumber(v, letName);\n\n  if (v <= 0) {\n    throw letName + \" must be a positive number\";\n  }\n}\n/**\n Assert that a letiable or object attribute is an object\n **/\n\nfunction assertObject(v, letName) {\n  return assertType(v, 'object', letName);\n}\n/**\n Assert that a letiable or object attribute is an object\n **/\n\nfunction assertArray(v, letName = 'letiable') {\n  assertDefined(v, letName);\n\n  if (!Array.isArray(v)) {\n    throw letName + \" must be an array\";\n  }\n\n  return v;\n}\n/**\n Assert that a letiable or object attribute is a function\n **/\n\nfunction assertFunction(v, letName) {\n  return assertType(v, 'function', letName);\n}\n/**\n Assert that a letiable or object attribute is defined and non-null\n **/\n\nfunction assertHasValue(v, letName = 'letiable') {\n  assertDefined(v, letName);\n\n  if (!hasValue(v)) {\n    throw letName + \" must not be null\";\n  }\n\n  return v;\n}\n/**\n *\n * @return {String}\n */\n\nfunction randomUUID() {\n  return 'xxxxxxxx-xxxx-xxxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    let r = Math.random() * 16 | 0,\n        v = c === 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\n/**\n * This function stamps/embeds a UUID into an object and returns the UUID generated for it\n * @return {String}\n */\n\nfunction stampUUID(obj) {\n  obj._osh_id = obj._osh_id || randomUUID();\n  return obj._osh_id;\n} //buffer is an ArrayBuffer object, the offset if specified in bytes, and the type is a string\n//corresponding to an OGC data type.\n//See http://def.seegrid.csiro.au/sissvoc/ogc-def/resource?uri=http://www.opengis.net/def/dataType/OGC/0/\n\n/**\n *\n * @param buffer\n * @param offset\n * @param type\n * @return {*}\n */\n\nfunction ParseBytes(buffer, offset, type) {\n  let view = new DataView(buffer); //Note: There exist types not listed in the map below that have OGC definitions, but no appropriate\n  //methods or corresponding types available for parsing in javascript. They are float128, float16, signedLong,\n  //and unsignedLong\n\n  let typeMap = {\n    double: function (offset) {\n      return {\n        val: view.getFloat64(offset),\n        bytes: 8\n      };\n    },\n    float64: function (offset) {\n      return {\n        val: view.getFloat64(offset),\n        bytes: 8\n      };\n    },\n    float32: function (offset) {\n      return {\n        val: view.getFloat32(offset),\n        bytes: 4\n      };\n    },\n    signedByte: function (offset) {\n      return {\n        val: view.getInt8(offset),\n        bytes: 1\n      };\n    },\n    signedInt: function (offset) {\n      return {\n        val: view.getInt32(offset),\n        bytes: 4\n      };\n    },\n    signedShort: function (offset) {\n      return {\n        val: view.getInt16(offset),\n        bytes: 2\n      };\n    },\n    unsignedByte: function (offset) {\n      return {\n        val: view.getUint8(offset),\n        bytes: 1\n      };\n    },\n    unsignedInt: function (offset) {\n      return {\n        val: view.getUint32(offset),\n        bytes: 4\n      };\n    },\n    unsignedShort: function (offset) {\n      return {\n        val: view.getUint16(offset),\n        bytes: 2\n      };\n    } //TODO: string-utf-8:\n\n  };\n  return typeMap[type](offset);\n} //This function recursivley iterates over the resultStructure to fill in\n//values read from data which should be an ArrayBuffer containing the payload from a websocket\n\n/**\n *\n * @param struct\n * @param data\n * @param offsetBytes\n * @return {*}\n */\n\nfunction ReadData(struct, data, offsetBytes) {\n  let offset = offsetBytes;\n\n  for (let i = 0; i < struct.fields.length; i++) {\n    let currFieldStruct = struct.fields[i];\n\n    if (isDefined(currFieldStruct.type) && currFieldStruct.type !== null) {\n      let ret = ParseBytes(data, offset, currFieldStruct.type);\n      currFieldStruct.val = ret.val;\n      offset += ret.bytes;\n    } else if (isDefined(currFieldStruct.count) && currFieldStruct.count !== null) {\n      //check if count is a reference to another letiable\n      if (isNaN(currFieldStruct.count)) {\n        let id = currFieldStruct.count;\n        let fieldName = struct.id2FieldMap[id];\n        currFieldStruct.count = struct.findFieldByName(fieldName).val;\n      }\n\n      for (let c = 0; c < currFieldStruct.count; c++) {\n        for (let j = 0; j < currFieldStruct.fields.length; j++) {\n          let field = JSON.parse(JSON.stringify(currFieldStruct.fields[j]));\n          offset = ReadData(field, data, offset);\n          currFieldStruct.val.push(field);\n        }\n      }\n    }\n  }\n\n  return offset;\n}\n/**\n *\n * @param resultStructure\n * @return {{}}\n */\n\nfunction GetResultObject(resultStructure) {\n  //TODO: handle cases for nested arrays / matrix data types\n  let result = {};\n\n  for (let i = 0; i < resultStructure.fields.length; i++) {\n    if (isDefined(resultStructure.fields[i].count)) {\n      result[resultStructure.fields[i].name] = [];\n\n      for (let c = 0; c < resultStructure.fields[i].count; c++) {\n        let item = {};\n\n        for (let k = 0; k < resultStructure.fields[i].val[c].fields.length; k++) {\n          item[resultStructure.fields[i].val[c].fields[k].name] = resultStructure.fields[i].val[c].fields[k].val;\n        }\n\n        result[resultStructure.fields[i].name].push(item);\n      }\n    } else {\n      result[resultStructure.fields[i].name] = resultStructure.fields[i].val;\n    }\n  }\n\n  return result;\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isOpera() {\n  return !!window.opr && !!opr.addons || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isFirefox() {\n  return typeof InstallTrigger !== 'undefined';\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isSafari() {\n  return Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0;\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isChrome() {\n  return !!window.chrome && !!window.chrome.webstore;\n}\n/**\n *\n * @return {*|boolean}\n */\n\nfunction isBlink() {\n  return (isChrome || isOpera) && !!window.CSS;\n}\n/**\n *\n * @param a\n * @param b\n * @return {boolean}\n */\n\nfunction isArrayIntersect(a, b) {\n  return a.filter(function (element) {\n    return b.indexOf(element) > -1;\n  }).length > 0;\n}\n/**\n *\n * @param o\n * @return {boolean}\n */\n\nfunction isElement(o) {\n  return typeof HTMLElement === \"object\" ? o instanceof HTMLElement : //DOM2\n  o && typeof o === \"object\" && o !== null && o.nodeType === 1 && typeof o.nodeName === \"string\";\n}\n/**\n *\n * @return {*}\n */\n\nfunction isWebWorker() {\n  return isDefined(Worker);\n}\n/**\n *\n * @param div\n */\n\nfunction takeScreenShot(div) {}\n/**\n * Remove a css class from a the div given as argument.\n * @param div the div to remove the class from\n * @param css the css class to remove\n */\n\nfunction removeCss(div, css) {\n  let divCss = div.className;\n  css = divCss.replace(css, \"\");\n  div.className = css;\n}\n/**\n * Add a css class to a the div given as argument.\n * @param div the div to add the class to\n * @param css the css class to add\n */\n\nfunction addCss(div, css) {\n  div.setAttribute(\"class\", div.className + \" \" + css);\n}\n/**\n * Removes the last character of a {string} object.\n * @param {string} value - The input {string}\n * @return {string} The value without the last character\n */\n\nfunction removeLastCharIfExist(value) {\n  if (!isDefined(undefined) || value === null || value.length === 0 || !value.endsWith(\"/\")) {\n    return value;\n  }\n\n  return value.substring(0, value.length - 1);\n}\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/datareceiver/parsers/DataSourceParser.js\n\n\nclass DataSourceParser_DataSourceParser {\n  /**\n   * Builds the full url.\n   * @protected\n   * @param {Object} properties\n   * @param {String} properties.protocol the connector protocol\n   * @param {String} properties.endpointUrl the endpoint url\n   * @param {String} properties.service the service\n   * @param {String} properties.offeringID the offeringID\n   * @param {String} properties.observedProperty the observed property\n   * @param {String} properties.startTime the start time (ISO format)\n   * @param {String} properties.endTime the end time (ISO format)\n   * @param {Number} properties.replaySpeed the replay factor\n   * @param {Number} properties.responseFormat the response format (e.g video/mp4)\n   * @param {Date} properties.lastTimeStamp - the last timestamp to start at this time (ISO String)\n   * @param {Object} properties.customUrlParams - the encoding options\n   * @param {Number} properties.customUrlParams.video_bitrate - define a custom bitrate (in b/s)\n   * @param {Number} properties.customUrlParams.video_scale - define a custom scale, 0.0 < value < 1.0\n   * @param {Number} properties.customUrlParams.video_width - define a custom width\n   * @param {Number} properties.customUrlParams.video_height - define a custom height\n   * @return {String} the full url\n   */\n  buildUrl(properties) {\n    let url = \"\"; // adds protocol\n\n    url += properties.protocol + \"://\"; // adds endpoint url\n\n    url += properties.endpointUrl + \"?\"; // adds service\n\n    url += \"service=\" + properties.service + \"&\"; // adds version\n\n    url += \"version=2.0&\"; // adds request\n\n    url += \"request=GetResult&\"; // adds offering\n\n    url += \"offering=\" + properties.offeringID + \"&\"; // adds feature of interest urn\n\n    if (properties.foiURN && properties.foiURN !== '') {\n      url += 'featureOfInterest=' + properties.foiURN + '&';\n    } // adds observedProperty\n\n\n    url += \"observedProperty=\" + properties.observedProperty + \"&\"; // adds temporalFilter\n\n    const stTime = isDefined(properties.lastTimeStamp) ? properties.lastTimeStamp : properties.startTime;\n    this.lastStartTime = properties.startTime;\n    let endTime = properties.endTime;\n    url += \"temporalFilter=phenomenonTime,\" + stTime + \"/\" + endTime + \"&\";\n\n    if (properties.replaySpeed) {\n      // adds replaySpeed\n      url += \"replaySpeed=\" + properties.replaySpeed;\n    } // adds responseFormat (optional)\n\n\n    if (properties.responseFormat) {\n      url += \"&responseFormat=\" + properties.responseFormat;\n    }\n\n    if (isDefined(properties.customUrlParams) && Object.keys(properties.customUrlParams).length > 0) {\n      url += '&';\n\n      for (let key in properties.customUrlParams) {\n        url += key + '=' + properties.customUrlParams[key] + '&';\n      }\n\n      if (url.endsWith('&')) {\n        url = url.slice(0, -1);\n      }\n    }\n\n    return url;\n  }\n\n}\n\n/* harmony default export */ var parsers_DataSourceParser = (DataSourceParser_DataSourceParser);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/datareceiver/parsers/SweJson.parser.js\n\n\nclass SweJson_parser_SweJsonParser extends parsers_DataSourceParser {\n  /**\n   * Extracts timestamp from the message. The timestamp corresponds to the 'time' attribute of the JSON object.\n   * @param {String} data - the data to parse\n   * @return {Number} the extracted timestamp\n   */\n  parseTimeStamp(data) {\n    let rec = String.fromCharCode.apply(null, new Uint8Array(data));\n    return new Date(JSON.parse(rec)['time']).getTime();\n  }\n  /**\n   * Extract data from the message. The data are corresponding to the whole list of attributes of the JSON object\n   * excepting the 'time' one.\n   * @param {Object} data - the data to parse\n   * @return {Object} the parsed data\n   * @example\n   * {\n   *   location : {\n   *    lat:43.61758626,\n   *    lon: 1.42376557,\n   *    alt:100\n   *   }\n   * }\n   */\n\n\n  parseData(data) {\n    let rec = JSON.parse(String.fromCharCode.apply(null, new Uint8Array(data)));\n    let result = {};\n\n    for (let key in rec) {\n      if (key !== 'time') {\n        result[key] = rec[key];\n      }\n    }\n\n    return result;\n  }\n\n  buildUrl(properties) {\n    return super.buildUrl({ ...properties,\n      responseFormat: 'application/json'\n    });\n  }\n\n}\n\n/* harmony default export */ var SweJson_parser = (SweJson_parser_SweJsonParser);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/dataconnector/Status.js\n/**\n * Enum for connection status.\n * @readonly\n * @enum {{name: string}}\n */\nconst Status = {\n  CONNECTED: \"connected\",\n  DISCONNECTED: \"disconnected\"\n};\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/dataconnector/DataConnector.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * The DataConnector is the abstract class used to create different connectors.\n */\n\nclass DataConnector_DataConnector {\n  /**\n   * @param {String} url - The full url used to connect to the data stream\n   */\n  constructor(url) {\n    this.url = url;\n    this.id = \"DataConnector-\" + randomUUID();\n    this.reconnectTimeout = 1000 * 60 * 2; //2 min\n\n    this.status = Status.DISCONNECTED;\n    this.reconnectionInterval = -1;\n  }\n\n  checkAndClearReconnection() {\n    if (this.reconnectionInterval !== -1) {\n      clearInterval(this.reconnectionInterval);\n      this.reconnectionInterval = -1;\n    }\n  }\n\n  disconnect() {\n    this.checkStatus(Status.DISCONNECTED);\n    this.checkAndClearReconnection();\n  }\n  /**\n   * Sets the url\n   * @param url\n   */\n\n\n  setUrl(url) {\n    this.url = url;\n  }\n  /**\n   * The data connector default id.\n   * @return {String}\n   */\n\n\n  getId() {\n    return this.id;\n  }\n  /**\n   * The stream url.\n   * @return {String}\n   */\n\n\n  getUrl() {\n    return this.url;\n  }\n  /**\n   * Sets the reconnection timeout\n   * @param {Number} timeout - delay in milliseconds before reconnecting dataSource\n   */\n\n\n  setReconnectTimeout(timeout) {\n    this.reconnectTimeout = timeout;\n  }\n\n  onReconnect() {\n    return true;\n  }\n\n  connect() {}\n\n  forceReconnect() {\n    this.disconnect();\n    this.connect();\n  }\n  /**\n   * Called when the connection STATUS changes\n   * @param {Status} status - the new status\n   */\n\n\n  onChangeStatus(status) {}\n  /**\n   * Check a change of the status and call the corresponding callbacks if necessary\n   * @param {Status} status - the currentStatus\n   */\n\n\n  checkStatus(status) {\n    if (status !== this.status) {\n      this.onChangeStatus(status);\n      this.status = status;\n    }\n  }\n  /**\n   * Called when the connector has been disconnected\n   */\n\n\n  onDisconnect() {}\n  /**\n   * Called when the connector has been connected\n   */\n\n\n  onConnect() {}\n\n}\n\n/* harmony default export */ var dataconnector_DataConnector = (DataConnector_DataConnector);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/dataconnector/WebSocketConnector.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n\n/**\n * Defines the WebSocketConnector to connect to a remote server by creating a WebSocket channel.\n * @extends DataConnector\n * @example\n * import WebSocketConnector from 'osh/dataconnector/WebSocketConnector.js';\n *\n * let url = ...;\n * let connector = new WebSocketConnector(url);\n *\n * // connect\n * connector.connect();\n *\n * // disconnect\n * connector.disconnect();\n *\n * // close\n * connector.close();\n *\n */\n\nclass WebSocketConnector_WebSocketConnector extends dataconnector_DataConnector {\n  /**\n   *\n   * @param properties -\n   */\n  constructor(properties) {\n    super(properties);\n    this.interval = -1;\n    this.lastReceiveTime = 0;\n  }\n  /**\n   * Connect to the webSocket. If the system supports WebWorker, it will automatically creates one otherwise use\n   * the main thread.\n   */\n\n\n  async connect() {\n    if (!this.init) {\n      this.closed = false;\n      this.init = true; //creates Web Socket\n\n      this.ws = new WebSocket(this.getUrl());\n      this.ws.binaryType = 'arraybuffer';\n\n      this.ws.onmessage = function (event) {\n        this.checkAndClearReconnection();\n        this.checkStatus(Status.CONNECTED);\n        this.lastReceiveTime = Date.now(); //callback data on message received\n\n        if (event.data.byteLength > 0) {\n          this.onMessage(event.data);\n        }\n      }.bind(this); // closes socket if any errors occur\n\n\n      this.ws.onerror = function (event) {\n        console.error('WebSocket stream error');\n        this.checkStatus(Status.DISCONNECTED);\n        this.init = false;\n        this.lastReceiveTime = -1;\n        this.createReconnection();\n      }.bind(this);\n\n      this.ws.onclose = event => {\n        this.checkStatus(Status.DISCONNECTED);\n        console.warn('WebSocket stream closed: ', event.reason, event.code);\n        this.init = false;\n\n        if (event.code !== 1000 && !this.closed) {\n          this.createReconnection();\n        }\n      };\n    }\n  }\n\n  createReconnection() {\n    if (!this.closed && this.reconnectionInterval === -1 && this.onReconnect()) {\n      this.reconnectionInterval = setInterval(function () {\n        let delta = Date.now() - this.lastReceiveTime; // -1 means the WS went in error\n\n        if (this.lastReceiveTime === -1 || delta >= this.reconnectTimeout) {\n          console.warn('trying to reconnect', this.url);\n          this.connect();\n        }\n      }.bind(this), this.reconnectTimeout);\n    }\n  }\n  /**\n   * Disconnects and close the websocket.\n   */\n\n\n  disconnect() {\n    super.disconnect();\n    this.init = false;\n    this.closed = true;\n\n    if (this.ws != null && this.ws.readyState !== WebSocket.CLOSED) {\n      this.ws.close();\n    }\n  }\n  /**\n   * The onMessage method used by the websocket to callback the data\n   * @param data the callback data\n   * @event\n   */\n\n\n  onMessage(data) {}\n\n  isConnected() {\n    return this.ws != null && this.ws.readyState === WebSocket.OPEN;\n  }\n\n}\n\n/* harmony default export */ var dataconnector_WebSocketConnector = (WebSocketConnector_WebSocketConnector);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/dataconnector/Ajax.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * Defines the AjaxConnector to connect to a remote server by making AjaxRequest.\n * @extends DataConnector\n * @example\n * import Ajax from 'osh/dataconnector/Ajax.js';\n *\n * let request = ...;\n * let connector = new Ajax(url);\n *\n * // handle onSuccess\n * connector.onSuccess = function(event) {\n *  // does something\n * }\n *\n * connector.onError = function(event) {\n *  // does something\n * }\n *\n * // send request\n * connector.sendRequest(request);\n *\n */\n\nclass Ajax_Ajax extends dataconnector_DataConnector {\n  /**\n   * Creates Ajax.\n   * @param {String} url -\n   * @param {Object} properties -\n   * @param {String} properties.method -\n   * @param {String} properties.responseType -\n   */\n  constructor(url, properties) {\n    super(url);\n    this.method = \"POST\";\n    this.responseType = \"arraybuffer\";\n\n    if (isDefined(properties)) {\n      if (properties.method) {\n        this.method = properties.method;\n      }\n\n      if (properties.responseType) {\n        this.responseType = properties.responseType;\n      }\n    }\n  }\n  /**\n   * Sends the request to the defined server.\n   * @param {String} request - The Http request\n   * @param {String} extraUrl - get query parameters\n   */\n\n\n  sendRequest(request, extraUrl) {\n    let self = this;\n    let xmlhttp = new XMLHttpRequest();\n    xmlhttp.withCredentials = true;\n    xmlhttp.timeout = 60000;\n\n    if (request === null) {\n      if (isDefined(extraUrl)) {\n        xmlhttp.open(\"GET\", this.getUrl() + \"?\" + extraUrl, true);\n      } else {\n        xmlhttp.open(\"GET\", this.getUrl(), true);\n      }\n\n      xmlhttp.responseType = this.responseType;\n\n      xmlhttp.onload = oEvent => {\n        if (xmlhttp.response) {\n          self.onMessage(xmlhttp.response);\n        }\n      };\n\n      xmlhttp.ontimeout = e => {\n        console.log(\"Timeout\");\n      };\n\n      xmlhttp.send(null);\n    } else {\n      xmlhttp.open(\"POST\", this.getUrl(), true);\n      xmlhttp.setRequestHeader('Content-Type', 'text/xml');\n      xmlhttp.send(request);\n\n      xmlhttp.onreadystatechange = () => {\n        if (xmlhttp.readyState < 4) {// while waiting response from server\n        } else if (xmlhttp.readyState === 4) {\n          // 4 = Response from server has been completely loaded.\n          if (xmlhttp.status === 200 && xmlhttp.status < 300) {\n            // http status between 200 to 299 are all successful\n            self.onSuccess(xmlhttp.responseText);\n          } else {\n            self.onError(\"\");\n          }\n        }\n      };\n    }\n  }\n  /**\n   * This is the callback method in case of getting error connection.\n   * @param event The error details\n   * @event\n   */\n\n\n  onError(event) {}\n  /**\n   * This is the callback method in case of getting success connection.\n   * @param event\n   * @event\n   */\n\n\n  onSuccess(event) {}\n  /**\n   * Sends the request\n   * @private\n   */\n\n\n  connect() {\n    this.sendRequest(null);\n  }\n\n}\n\n/* harmony default export */ var dataconnector_Ajax = (Ajax_Ajax);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/dataconnector/TopicConnector.js\n\n/**\n * Defines the FileConnector to read a File content\n * @extends DataConnector\n * @example\n * import FileConnector from 'osh/dataconnector/TopicConnector.js';\n *\n * let connector = new TopicConnector(<topic_name>);\n *\n * // connect\n * connector.connect();\n *\n * // disconnect\n * connector.disconnect();\n *\n * // close\n * connector.close();\n *\n */\n\nclass TopicConnector_TopicConnector extends dataconnector_DataConnector {\n  /**\n   *\n   * @param properties -\n   */\n  constructor(properties) {\n    super(properties);\n    this.lastReceiveTime = -1;\n    this.interval = -1;\n    this.broadcastChannel = null;\n  }\n  /**\n   * Connect to the broadcastChannel.\n   */\n\n\n  connect() {\n    if (this.broadcastChannel === null) {\n      //creates broadcastChannel\n      this.broadcastChannel = new BroadcastChannel(this.getUrl());\n\n      this.broadcastChannel.onmessage = event => {\n        this.lastReceiveTime = Date.now(); //callback data on message received\n\n        this.onMessage(event.data.data);\n      }; // closes socket if any errors occur\n\n\n      this.broadcastChannel.onerror = event => {\n        console.error('BroadcastChannel stream error: ' + event);\n        this.broadcastChannel.close();\n        this.init = false;\n        this.lastReceiveTime = -1;\n        this.opened = false;\n      };\n\n      this.opened = true; //init the reconnect handler\n\n      if (this.interval === -1) {\n        this.interval = setInterval(function () {\n          let delta = Date.now() - this.lastReceiveTime; // -1 means the WS went in error\n\n          if (this.lastReceiveTime === -1 || delta >= this.reconnectTimeout) {\n            console.warn(`trying to reconnect after ${this.reconnectTimeout} ..`);\n            this.reconnect();\n          }\n        }.bind(this), this.reconnectTimeout);\n      }\n    }\n  }\n  /**\n   * Disconnects the websocket.\n   */\n\n\n  disconnect() {\n    this.fullDisconnect(true);\n  }\n  /**\n   * Fully disconnect the websocket connection by sending a close message to the webWorker.\n   * @param {Boolean} removeInterval  - force removing the interval\n   */\n\n\n  fullDisconnect(removeInterval) {\n    if (this.broadcastChannel != null) {\n      this.broadcastChannel.close();\n      this.broadcastChannel = null;\n    }\n\n    if (removeInterval) {\n      clearInterval(this.interval);\n    }\n\n    this.opened = false;\n  }\n  /**\n   * Try to reconnect if the connexion if closed\n   */\n\n\n  reconnect() {\n    this.onReconnect();\n\n    if (this.init) {\n      this.fullDisconnect(false);\n    }\n\n    this.connect();\n  }\n  /**\n   * The onMessage method used by the websocket to callback the data\n   * @param data the callback data\n   * @event\n   */\n\n\n  onMessage(data) {}\n  /**\n   * Closes the webSocket.\n   */\n\n\n  close() {\n    this.disconnect();\n  }\n\n  isConnected() {\n    return this.broadcastChannel !== null && this.opened;\n  }\n\n}\n\n/* harmony default export */ var dataconnector_TopicConnector = (TopicConnector_TopicConnector);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/event/EventType.js\nconst EventType = {\n  DATA: 'data',\n  STATUS: 'status'\n};\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/dataconnector/FileConnector.js\n\n\n/**\n * Defines the FileConnector to read a File content\n * @extends DataConnector\n * @example\n * import FileConnector from 'osh/dataconnector/FileConnector.js';\n *\n * let paths = ['path1','path2]...];\n * let connector = new FileConnector(paths);\n *\n * // connect\n * connector.connect();\n *\n * // disconnect\n * connector.disconnect();\n *\n * // close\n * connector.close();\n *\n */\n\nclass FileConnector_FileConnector extends dataconnector_DataConnector {\n  /**\n   * @param (string[]) paths - list of file paths\n   */\n  constructor(paths) {\n    super(paths);\n    this.opened = false;\n  }\n  /**\n   * Start reading file content\n   */\n\n\n  async connect() {\n    if (!this.opened) {\n      this.opened = true;\n      this.onChangeStatus(Status.CONNECTED);\n      const urls = this.getUrl();\n\n      for (let url of urls) {\n        this.onMessage(await fetch(url));\n      }\n\n      this.onChangeStatus(Status.DISCONNECTED); // read is done\n\n      this.opened = false;\n    }\n  }\n\n  isConnected() {\n    return this.opened;\n  }\n\n}\n\n/* harmony default export */ var dataconnector_FileConnector = (FileConnector_FileConnector);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/datareceiver/workers/DataSourceHandler.js\n\n\n\n\n\n\n\n\nclass DataSourceHandler_DataSourceHandler {\n  constructor(parser) {\n    this.parser = parser;\n    this.connector = null;\n    this.lastTimeStamp = null;\n    this.lastStartTime = 'now';\n    this.timeShift = 0;\n    this.reconnectTimeout = 1000 * 10; // 10 secs\n\n    this.values = [];\n  }\n\n  createConnector(propertiesStr, topic, dataSourceId) {\n    this.dataSourceId = dataSourceId; // check for existing connector\n\n    if (this.connector !== null) {\n      this.connector.disconnect();\n      this.connector = null;\n    }\n\n    this.broadcastChannel = new BroadcastChannel(topic);\n    const properties = JSON.parse(propertiesStr);\n\n    if (isDefined(properties.fetch)) {\n      this.fetch = properties.fetch;\n    }\n\n    if (isDefined(properties.timeShift)) {\n      this.timeShift = properties.timeShift;\n    }\n\n    if (isDefined(properties.bufferingTime)) {\n      this.bufferingTime = properties.bufferingTime;\n    }\n\n    if (isDefined(properties.timeOut)) {\n      this.timeOut = properties.timeOut;\n    }\n\n    if (isDefined(properties.reconnectTimeout)) {\n      this.reconnectTimeout = properties.reconnectTimeout;\n    }\n\n    if (properties.startTime === 'now') {\n      this.batchSize = 1;\n    } else {\n      if (isDefined(properties.replaySpeed)) {\n        if (!isDefined(properties.batchSize)) {\n          this.batchSize = 1;\n        }\n      }\n\n      if (isDefined(properties.batchSize)) {\n        this.batchSize = properties.batchSize;\n      }\n    }\n\n    this.properties = properties;\n    this.createDataConnector(this.properties);\n  }\n  /**\n   * @private\n   */\n\n\n  createDataConnector(properties) {\n    const url = this.parser.buildUrl({ ...properties,\n      timeShift: this.timeShift\n    }); // checks if type is WebSocketConnector\n\n    if (properties.protocol.startsWith('ws')) {\n      this.connector = new dataconnector_WebSocketConnector(url);\n    } else if (properties.protocol.startsWith('http')) {\n      this.connector = new dataconnector_Ajax(url);\n      this.connector.responseType = 'arraybuffer';\n    } else if (properties.protocol.startsWith('topic')) {\n      this.connector = new dataconnector_TopicConnector(url);\n    } else if (properties.protocol.startsWith('file')) {\n      this.connector = new dataconnector_FileConnector(url, properties);\n    }\n\n    const lastStartTimeCst = this.parser.lastStartTime;\n    const lastProperties = properties;\n\n    if (this.connector !== null) {\n      // set the reconnectTimeout\n      this.connector.setReconnectTimeout(this.reconnectTimeout); // connects the callback\n\n      this.connector.onMessage = this.onMessage.bind(this); // bind change connection STATUS\n\n      this.connector.onChangeStatus = this.onChangeStatus.bind(this);\n\n      this.connector.onReconnect = () => {\n        // if not real time, preserve last timestamp to reconnect at the last time received\n        // for that, we update the URL with the new last time received\n        if (lastStartTimeCst !== 'now') {\n          this.connector.setUrl(this.parser.buildUrl({ ...properties,\n            lastTimeStamp: isDefined(this.lastTimeStamp) ? new Date(this.lastTimeStamp).toISOString() : properties.startTime\n          }));\n        }\n\n        return true;\n      };\n    }\n  }\n  /**\n   * Sets the current topic to listen\n   * @param {String} topic - the topic to listen\n   */\n\n\n  setTopic(topic) {\n    if (this.broadcastChannel !== null) {\n      this.broadcastChannel.close();\n    }\n\n    this.broadcastChannel = new BroadcastChannel(topic);\n    this.topic = topic;\n  }\n\n  connect() {\n    if (this.connector !== null) {\n      this.connector.connect();\n    }\n  }\n\n  disconnect() {\n    if (this.connector !== null) {\n      this.connector.disconnect();\n    }\n  }\n\n  async onMessage(event) {\n    const timeStamp = await Promise.resolve(this.parser.parseTimeStamp(event) + this.timeShift);\n    const data = await Promise.resolve(this.parser.parseData(event)); // check if data is array\n\n    if (Array.isArray(data)) {\n      for (let i = 0; i < data.length; i++) {\n        this.values.push({\n          data: data[i],\n          timeStamp: timeStamp\n        });\n      }\n    } else {\n      this.values.push({\n        data: data,\n        timeStamp: timeStamp\n      });\n    }\n\n    this.lastTimeStamp = timeStamp;\n\n    if (isDefined(this.batchSize) && this.values.length >= this.batchSize) {\n      this.flush();\n    }\n  }\n  /**\n   * Send a change status event into the broadcast channel\n   * @param {Status} status - the new status\n   */\n\n\n  onChangeStatus(status) {\n    if (status === Status.DISCONNECTED) {\n      this.flushAll();\n    }\n\n    this.broadcastChannel.postMessage({\n      type: EventType.STATUS,\n      status: status,\n      dataSourceId: this.dataSourceId\n    });\n  }\n\n  getLastTimeStamp() {\n    return this.lastTimeStamp;\n  }\n\n  updateUrl(properties) {\n    this.disconnect();\n    let lastTimestamp = new Date(this.lastTimeStamp).toISOString();\n\n    if (properties.hasOwnProperty('startTime')) {\n      lastTimestamp = properties.startTime;\n    } else if (this.properties.startTime === 'now') {\n      //handle RealTime\n      lastTimestamp = 'now';\n    }\n\n    this.createDataConnector({ ...this.properties,\n      ...properties,\n      lastTimeStamp: lastTimestamp\n    });\n    this.connect();\n  }\n\n  flushAll() {\n    while (this.values.length > 0) {\n      this.flush();\n    }\n  }\n\n  flush() {\n    let nbElements = this.values.length;\n\n    if (isDefined(this.batchSize) && this.values.length > this.batchSize) {\n      nbElements = this.batchSize;\n    }\n\n    this.broadcastChannel.postMessage({\n      dataSourceId: this.dataSourceId,\n      type: EventType.DATA,\n      values: this.values.splice(0, nbElements)\n    });\n  }\n\n  handleMessage(message, worker) {\n    if (message.message === 'init') {\n      this.createConnector(message.properties, message.topic, message.id);\n    } else if (message.message === 'connect') {\n      this.connect();\n    } else if (message.message === 'disconnect') {\n      this.disconnect();\n    } else if (message.message === 'topic') {\n      this.setTopic(message.topic);\n    } else if (message.message === 'last-timestamp') {\n      const lastTimeStamp = this.getLastTimeStamp();\n      worker.postMessage({\n        message: 'last-timestamp',\n        data: lastTimeStamp\n      });\n    } else if (message.message === 'update-url') {\n      this.updateUrl(message.data);\n    } else if (message.message === 'is-connected') {\n      worker.postMessage({\n        message: 'is-connected',\n        data: this.connector === null ? false : this.connector.isConnected()\n      });\n    }\n  }\n\n}\n\n/* harmony default export */ var workers_DataSourceHandler = (DataSourceHandler_DataSourceHandler);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/datareceiver/workers/SweJson.worker.js\n\n\n\nconst dataSourceHandler = new workers_DataSourceHandler(new SweJson_parser());\n\nself.onmessage = (event) => {\n    dataSourceHandler.handleMessage(event.data, self);\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL3V0aWxzL1V0aWxzLmpzPzI0M2EiLCJ3ZWJwYWNrOi8vLy9ob21lL25ldnJvL1Byb2dzL3Byb2dzLWxvY2FsL2dpdC1yZXBvL09TSC9vc2gtanMvc291cmNlL29zaC9kYXRhcmVjZWl2ZXIvcGFyc2Vycy9EYXRhU291cmNlUGFyc2VyLmpzPzYwZmYiLCJ3ZWJwYWNrOi8vLy9ob21lL25ldnJvL1Byb2dzL3Byb2dzLWxvY2FsL2dpdC1yZXBvL09TSC9vc2gtanMvc291cmNlL29zaC9kYXRhcmVjZWl2ZXIvcGFyc2Vycy9Td2VKc29uLnBhcnNlci5qcz83YjU3Iiwid2VicGFjazovLy8vaG9tZS9uZXZyby9Qcm9ncy9wcm9ncy1sb2NhbC9naXQtcmVwby9PU0gvb3NoLWpzL3NvdXJjZS9vc2gvZGF0YWNvbm5lY3Rvci9TdGF0dXMuanM/MDk4NyIsIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL2RhdGFjb25uZWN0b3IvRGF0YUNvbm5lY3Rvci5qcz9jODM2Iiwid2VicGFjazovLy8vaG9tZS9uZXZyby9Qcm9ncy9wcm9ncy1sb2NhbC9naXQtcmVwby9PU0gvb3NoLWpzL3NvdXJjZS9vc2gvZGF0YWNvbm5lY3Rvci9XZWJTb2NrZXRDb25uZWN0b3IuanM/MDU1YiIsIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL2RhdGFjb25uZWN0b3IvQWpheC5qcz8xZmFkIiwid2VicGFjazovLy8vaG9tZS9uZXZyby9Qcm9ncy9wcm9ncy1sb2NhbC9naXQtcmVwby9PU0gvb3NoLWpzL3NvdXJjZS9vc2gvZGF0YWNvbm5lY3Rvci9Ub3BpY0Nvbm5lY3Rvci5qcz80ODFlIiwid2VicGFjazovLy8vaG9tZS9uZXZyby9Qcm9ncy9wcm9ncy1sb2NhbC9naXQtcmVwby9PU0gvb3NoLWpzL3NvdXJjZS9vc2gvZXZlbnQvRXZlbnRUeXBlLmpzPzEyZTEiLCJ3ZWJwYWNrOi8vLy9ob21lL25ldnJvL1Byb2dzL3Byb2dzLWxvY2FsL2dpdC1yZXBvL09TSC9vc2gtanMvc291cmNlL29zaC9kYXRhY29ubmVjdG9yL0ZpbGVDb25uZWN0b3IuanM/YzZhZiIsIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL2RhdGFyZWNlaXZlci93b3JrZXJzL0RhdGFTb3VyY2VIYW5kbGVyLmpzP2M0YjIiLCJ3ZWJwYWNrOi8vLy9ob21lL25ldnJvL1Byb2dzL3Byb2dzLWxvY2FsL2dpdC1yZXBvL09TSC9vc2gtanMvc291cmNlL29zaC9kYXRhcmVjZWl2ZXIvd29ya2Vycy9Td2VKc29uLndvcmtlci5qcz8yODQzIl0sIm5hbWVzIjpbIk1BWF9MT05HIiwiTWF0aCIsInBvdyIsImlzRGVmaW5lZCIsInYiLCJoYXNWYWx1ZSIsImhleDJyZ2IiLCJoZXgiLCJyIiwiZyIsImIiLCJtYXRjaCIsIm1hcCIsIngiLCJwYXJzZUludCIsImhhc1R5cGUiLCJleHBlY3RlZFR5cGUiLCJoYXNWYWwiLCJpc09iamVjdCIsImxldE5hbWUiLCJpc0FycmF5IiwiQXJyYXkiLCJpc0Z1bmN0aW9uIiwiYXNzZXJ0RGVmaW5lZCIsImFzc2VydFRydWUiLCJhc3NlcnRUeXBlIiwiYXNzZXJ0Qm9vbGVhbiIsImFzc2VydFN0cmluZyIsImFzc2VydE51bWJlciIsImFzc2VydFBvc2l0aXZlIiwiYXNzZXJ0T2JqZWN0IiwiYXNzZXJ0QXJyYXkiLCJhc3NlcnRGdW5jdGlvbiIsImFzc2VydEhhc1ZhbHVlIiwicmFuZG9tVVVJRCIsInJlcGxhY2UiLCJjIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdGFtcFVVSUQiLCJvYmoiLCJfb3NoX2lkIiwiUGFyc2VCeXRlcyIsImJ1ZmZlciIsIm9mZnNldCIsInR5cGUiLCJ2aWV3IiwiRGF0YVZpZXciLCJ0eXBlTWFwIiwiZG91YmxlIiwidmFsIiwiZ2V0RmxvYXQ2NCIsImJ5dGVzIiwiZmxvYXQ2NCIsImZsb2F0MzIiLCJnZXRGbG9hdDMyIiwic2lnbmVkQnl0ZSIsImdldEludDgiLCJzaWduZWRJbnQiLCJnZXRJbnQzMiIsInNpZ25lZFNob3J0IiwiZ2V0SW50MTYiLCJ1bnNpZ25lZEJ5dGUiLCJnZXRVaW50OCIsInVuc2lnbmVkSW50IiwiZ2V0VWludDMyIiwidW5zaWduZWRTaG9ydCIsImdldFVpbnQxNiIsIlJlYWREYXRhIiwic3RydWN0IiwiZGF0YSIsIm9mZnNldEJ5dGVzIiwiaSIsImZpZWxkcyIsImxlbmd0aCIsImN1cnJGaWVsZFN0cnVjdCIsInJldCIsImNvdW50IiwiaXNOYU4iLCJpZCIsImZpZWxkTmFtZSIsImlkMkZpZWxkTWFwIiwiZmluZEZpZWxkQnlOYW1lIiwiaiIsImZpZWxkIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwicHVzaCIsIkdldFJlc3VsdE9iamVjdCIsInJlc3VsdFN0cnVjdHVyZSIsInJlc3VsdCIsIm5hbWUiLCJpdGVtIiwiayIsImlzT3BlcmEiLCJ3aW5kb3ciLCJvcHIiLCJhZGRvbnMiLCJvcGVyYSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImluZGV4T2YiLCJpc0ZpcmVmb3giLCJJbnN0YWxsVHJpZ2dlciIsImlzU2FmYXJpIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiY2FsbCIsIkhUTUxFbGVtZW50IiwiaXNDaHJvbWUiLCJjaHJvbWUiLCJ3ZWJzdG9yZSIsImlzQmxpbmsiLCJDU1MiLCJpc0FycmF5SW50ZXJzZWN0IiwiYSIsImZpbHRlciIsImVsZW1lbnQiLCJpc0VsZW1lbnQiLCJvIiwibm9kZVR5cGUiLCJub2RlTmFtZSIsImlzV2ViV29ya2VyIiwiV29ya2VyIiwidGFrZVNjcmVlblNob3QiLCJkaXYiLCJyZW1vdmVDc3MiLCJjc3MiLCJkaXZDc3MiLCJjbGFzc05hbWUiLCJhZGRDc3MiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVMYXN0Q2hhcklmRXhpc3QiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsImVuZHNXaXRoIiwic3Vic3RyaW5nIiwiRGF0YVNvdXJjZVBhcnNlciIsImJ1aWxkVXJsIiwicHJvcGVydGllcyIsInVybCIsInByb3RvY29sIiwiZW5kcG9pbnRVcmwiLCJzZXJ2aWNlIiwib2ZmZXJpbmdJRCIsImZvaVVSTiIsIm9ic2VydmVkUHJvcGVydHkiLCJzdFRpbWUiLCJsYXN0VGltZVN0YW1wIiwic3RhcnRUaW1lIiwibGFzdFN0YXJ0VGltZSIsImVuZFRpbWUiLCJyZXBsYXlTcGVlZCIsInJlc3BvbnNlRm9ybWF0IiwiY3VzdG9tVXJsUGFyYW1zIiwia2V5cyIsImtleSIsInNsaWNlIiwiU3dlSnNvblBhcnNlciIsInBhcnNlVGltZVN0YW1wIiwicmVjIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiYXBwbHkiLCJVaW50OEFycmF5IiwiRGF0ZSIsImdldFRpbWUiLCJwYXJzZURhdGEiLCJTdGF0dXMiLCJDT05ORUNURUQiLCJESVNDT05ORUNURUQiLCJEYXRhQ29ubmVjdG9yIiwiY29uc3RydWN0b3IiLCJyZWNvbm5lY3RUaW1lb3V0Iiwic3RhdHVzIiwicmVjb25uZWN0aW9uSW50ZXJ2YWwiLCJjaGVja0FuZENsZWFyUmVjb25uZWN0aW9uIiwiY2xlYXJJbnRlcnZhbCIsImRpc2Nvbm5lY3QiLCJjaGVja1N0YXR1cyIsInNldFVybCIsImdldElkIiwiZ2V0VXJsIiwic2V0UmVjb25uZWN0VGltZW91dCIsInRpbWVvdXQiLCJvblJlY29ubmVjdCIsImNvbm5lY3QiLCJmb3JjZVJlY29ubmVjdCIsIm9uQ2hhbmdlU3RhdHVzIiwib25EaXNjb25uZWN0Iiwib25Db25uZWN0IiwiV2ViU29ja2V0Q29ubmVjdG9yIiwiaW50ZXJ2YWwiLCJsYXN0UmVjZWl2ZVRpbWUiLCJpbml0IiwiY2xvc2VkIiwid3MiLCJXZWJTb2NrZXQiLCJiaW5hcnlUeXBlIiwib25tZXNzYWdlIiwiZXZlbnQiLCJub3ciLCJieXRlTGVuZ3RoIiwib25NZXNzYWdlIiwiYmluZCIsIm9uZXJyb3IiLCJjb25zb2xlIiwiZXJyb3IiLCJjcmVhdGVSZWNvbm5lY3Rpb24iLCJvbmNsb3NlIiwid2FybiIsInJlYXNvbiIsImNvZGUiLCJzZXRJbnRlcnZhbCIsImRlbHRhIiwicmVhZHlTdGF0ZSIsIkNMT1NFRCIsImNsb3NlIiwiaXNDb25uZWN0ZWQiLCJPUEVOIiwiQWpheCIsIm1ldGhvZCIsInJlc3BvbnNlVHlwZSIsInNlbmRSZXF1ZXN0IiwicmVxdWVzdCIsImV4dHJhVXJsIiwic2VsZiIsInhtbGh0dHAiLCJYTUxIdHRwUmVxdWVzdCIsIndpdGhDcmVkZW50aWFscyIsIm9wZW4iLCJvbmxvYWQiLCJvRXZlbnQiLCJyZXNwb25zZSIsIm9udGltZW91dCIsImUiLCJsb2ciLCJzZW5kIiwic2V0UmVxdWVzdEhlYWRlciIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsIm9uU3VjY2VzcyIsInJlc3BvbnNlVGV4dCIsIm9uRXJyb3IiLCJUb3BpY0Nvbm5lY3RvciIsImJyb2FkY2FzdENoYW5uZWwiLCJCcm9hZGNhc3RDaGFubmVsIiwib3BlbmVkIiwicmVjb25uZWN0IiwiZnVsbERpc2Nvbm5lY3QiLCJyZW1vdmVJbnRlcnZhbCIsIkV2ZW50VHlwZSIsIkRBVEEiLCJTVEFUVVMiLCJGaWxlQ29ubmVjdG9yIiwicGF0aHMiLCJ1cmxzIiwiZmV0Y2giLCJEYXRhU291cmNlSGFuZGxlciIsInBhcnNlciIsImNvbm5lY3RvciIsInRpbWVTaGlmdCIsInZhbHVlcyIsImNyZWF0ZUNvbm5lY3RvciIsInByb3BlcnRpZXNTdHIiLCJ0b3BpYyIsImRhdGFTb3VyY2VJZCIsImJ1ZmZlcmluZ1RpbWUiLCJ0aW1lT3V0IiwiYmF0Y2hTaXplIiwiY3JlYXRlRGF0YUNvbm5lY3RvciIsInN0YXJ0c1dpdGgiLCJsYXN0U3RhcnRUaW1lQ3N0IiwibGFzdFByb3BlcnRpZXMiLCJ0b0lTT1N0cmluZyIsInNldFRvcGljIiwidGltZVN0YW1wIiwiUHJvbWlzZSIsInJlc29sdmUiLCJmbHVzaCIsImZsdXNoQWxsIiwicG9zdE1lc3NhZ2UiLCJnZXRMYXN0VGltZVN0YW1wIiwidXBkYXRlVXJsIiwibGFzdFRpbWVzdGFtcCIsImhhc093blByb3BlcnR5IiwibmJFbGVtZW50cyIsInNwbGljZSIsImhhbmRsZU1lc3NhZ2UiLCJtZXNzYWdlIiwid29ya2VyIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ08sTUFBTUEsUUFBUSxHQUFHQyxJQUFJLENBQUNDLEdBQUwsQ0FBUyxDQUFULEVBQVksRUFBWixJQUFrQixDQUFuQztBQUVQO0FBQ0E7QUFDQTs7QUFDTyxTQUFTQyxTQUFULENBQW1CQyxDQUFuQixFQUFzQjtBQUN6QixTQUFPLE9BQVFBLENBQVIsS0FBZSxXQUFmLElBQThCQSxDQUFDLEtBQUssSUFBM0M7QUFDSDtBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUNPLFNBQVNDLFFBQVQsQ0FBa0JELENBQWxCLEVBQXFCO0FBQ3hCLFNBQU9ELFNBQVMsQ0FBQ0MsQ0FBRCxDQUFULElBQWdCQSxDQUFDLEtBQUssSUFBN0I7QUFDSDtBQUVEO0FBQ0E7QUFDQTs7QUFDTyxTQUFTRSxPQUFULENBQWlCQyxHQUFqQixFQUFxQjtBQUN4QixRQUFNLENBQUNDLENBQUQsRUFBSUMsQ0FBSixFQUFPQyxDQUFQLElBQVlILEdBQUcsQ0FBQ0ksS0FBSixDQUFVLE9BQVYsRUFBbUJDLEdBQW5CLENBQXVCQyxDQUFDLElBQUlDLFFBQVEsQ0FBQ0QsQ0FBRCxFQUFJLEVBQUosQ0FBcEMsQ0FBbEI7QUFDQSxTQUFPLENBQUNMLENBQUQsRUFBSUMsQ0FBSixFQUFPQyxDQUFQLENBQVA7QUFDSDtBQUNEO0FBQ0E7QUFDQTs7QUFDTyxTQUFTSyxPQUFULENBQWlCWCxDQUFqQixFQUFvQlksWUFBcEIsRUFBa0M7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QU0sQ0FBQ1QsV0FBUCxDQUFtQjtBQUNmUSxlQUFPLEVBQUUsY0FETTtBQUVmM04sWUFBSSxFQUFHLEtBQUs4TCxTQUFMLEtBQW1CLElBQXBCLEdBQTJCLEtBQTNCLEdBQWtDLEtBQUtBLFNBQUwsQ0FBZXpDLFdBQWY7QUFGekIsT0FBbkI7QUFJSDtBQUNKOztBQWpQbUI7O0FBbVBUdUMsaUdBQWYsRTs7QUMzUHNEO0FBQ0M7O0FBRXZELDhCQUE4Qix5QkFBaUIsS0FBSyxjQUFhOztBQUVqRTtBQUNBO0FBQ0EiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSwgdi4gMi4wLlxuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZVxuIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cblxuIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcyxcbiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2VcbiBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyByaWdodHMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4gQ29weXJpZ2h0IChDKSAyMDE1LTIwMjAgTWF0aGlldSBEaGFpbmF1dC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuIEF1dGhvcjogTWF0aGlldSBEaGFpbmF1dCA8bWF0aGlldS5kaGFpbmF1dEBnbWFpbC5jb20+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqICogQG1vZHVsZSBVdGlscyAqL1xuXG4vKiogTWF4aW11bSB2YWx1ZSBvZiBhIGxvbmcgKi9cbmV4cG9ydCBjb25zdCBNQVhfTE9ORyA9IE1hdGgucG93KDIsIDUzKSArIDE7XG5cbi8qKlxuICogR2xvYmFsIGhlbHBlciBtZXRob2QgdG8gdGVzdCBpZiBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgZGVmaW5lZFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNEZWZpbmVkKHYpIHtcbiAgICByZXR1cm4gdHlwZW9mICh2KSAhPT0gJ3VuZGVmaW5lZCcgJiYgdiAhPT0gbnVsbDtcbn1cblxuLyoqXG4gR2xvYmFsIGhlbHBlciBtZXRob2QgdG8gdGVzdCBpZiBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaGFzIGEgdmFsdWUsXG4gdGhhdCBpcyBpdCBpcyBkZWZpbmVkIGFuZCBub24gbnVsbFxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzVmFsdWUodikge1xuICAgIHJldHVybiBpc0RlZmluZWQodikgJiYgdiAhPT0gbnVsbDtcbn1cblxuLyoqXG4gR2xvYmFsIGhlbHBlciBtZXRob2QgdG8gdHJhbnNmb3JtIGhleCBjb2xvciBpbnRvIFJHQkFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhleDJyZ2IoaGV4KXtcbiAgICBjb25zdCBbciwgZywgYl0gPSBoZXgubWF0Y2goL1xcd1xcdy9nKS5tYXAoeCA9PiBwYXJzZUludCh4LCAxNikpO1xuICAgIHJldHVybiBbciwgZywgYl07XG59XG4vKipcbiBHbG9iYWwgaGVscGVyIG1ldGhvZCB0byB0ZXN0IGlmIGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBvZiBhIHBhcnRpY3VsYXIgdHlwZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzVHlwZSh2LCBleHBlY3RlZFR5cGUpIHtcbiAgICBsZXQgaGFzVmFsID0gaGFzVmFsdWUodik7XG4gICAgcmV0dXJuIGhhc1ZhbCAmJiB0eXBlb2YgKHYpID09PSBleHBlY3RlZFR5cGU7XG59XG5cbi8qKlxuIEdsb2JhbCBoZWxwZXIgbWV0aG9kIHRvIHRlc3QgaWYgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGFuIG9iamVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QodiwgbGV0TmFtZSkge1xuICAgIHJldHVybiBoYXNUeXBlKHYsICdvYmplY3QnLCBsZXROYW1lKTtcbn1cblxuLyoqXG4gR2xvYmFsIGhlbHBlciBtZXRob2QgdG8gdGVzdCBpZiBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYW4gYXJyYXlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXkodikge1xuICAgIHJldHVybiBpc0RlZmluZWQodikgJiYgQXJyYXkuaXNBcnJheSh2KTtcbn1cblxuLyoqXG4gR2xvYmFsIGhlbHBlciBtZXRob2QgdG8gdGVzdCBpZiBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYSBmdW5jdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih2LCBsZXROYW1lKSB7XG4gICAgcmV0dXJuIGhhc1R5cGUodiwgJ2Z1bmN0aW9uJywgbGV0TmFtZSk7XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBkZWZpbmVkXG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0RGVmaW5lZCh2LCBsZXROYW1lID0gJ2xldGlhYmxlJykge1xuICAgIGlmICghaXNEZWZpbmVkKHYpKSB7XG4gICAgICAgIHRocm93IGxldE5hbWUgKyBcIiBtdXN0IGJlIGRlZmluZWRcIjtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRUcnVlKHYsIGxldE5hbWUgPSAnbGV0aWFibGUnKSB7XG4gICAgaWYgKCFpc0RlZmluZWQodikgfHwgIXYpIHtcbiAgICAgICAgdGhyb3cgbGV0TmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG59XG4vKipcbiBBc3NlcnQgdGhhdCBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgZGVmaW5lZCBhbmQgbm9uLW51bGxcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRUeXBlKHYsIGV4cGVjdGVkVHlwZSwgbGV0TmFtZSA9ICdsZXRpYWJsZScpIHtcbiAgICBhc3NlcnREZWZpbmVkKHYsIGxldE5hbWUpO1xuICAgIGlmICh0eXBlb2YgKHYpICE9PSBleHBlY3RlZFR5cGUpIHtcbiAgICAgICAgdGhyb3cgbGV0TmFtZSArIFwiIG11c3QgYmUgb2YgdHlwZSBcIiArIGV4cGVjdGVkVHlwZTtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBhIHN0cmluZ1xuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEJvb2xlYW4odiwgbGV0TmFtZSkge1xuICAgIHJldHVybiBhc3NlcnRUeXBlKHYsICdib29sZWFuJywgbGV0TmFtZSk7XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBhIHN0cmluZ1xuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFN0cmluZyh2LCBsZXROYW1lKSB7XG4gICAgcmV0dXJuIGFzc2VydFR5cGUodiwgJ3N0cmluZycsIGxldE5hbWUpO1xufVxuXG4vKipcbiBBc3NlcnQgdGhhdCBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYSBudW1iZXJcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnROdW1iZXIodiwgbGV0TmFtZSkge1xuICAgIHJldHVybiBhc3NlcnRUeXBlKHYsICdudW1iZXInLCBsZXROYW1lKTtcbn1cblxuLyoqXG4gQXNzZXJ0IHRoYXQgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGEgbnVtYmVyXG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0UG9zaXRpdmUodiwgbGV0TmFtZSkge1xuICAgIGFzc2VydE51bWJlcih2LCBsZXROYW1lKTtcbiAgICBpZiAodiA8PSAwKSB7XG4gICAgICAgIHRocm93IGxldE5hbWUgKyBcIiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXCI7XG4gICAgfVxufVxuXG4vKipcbiBBc3NlcnQgdGhhdCBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYW4gb2JqZWN0XG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0T2JqZWN0KHYsIGxldE5hbWUpIHtcbiAgICByZXR1cm4gYXNzZXJ0VHlwZSh2LCAnb2JqZWN0JywgbGV0TmFtZSk7XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBhbiBvYmplY3RcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRBcnJheSh2LCBsZXROYW1lID0gJ2xldGlhYmxlJykge1xuICAgIGFzc2VydERlZmluZWQodiwgbGV0TmFtZSk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHYpKSB7XG4gICAgICAgIHRocm93IGxldE5hbWUgKyBcIiBtdXN0IGJlIGFuIGFycmF5XCI7XG4gICAgfVxuICAgIHJldHVybiB2O1xufVxuXG4vKipcbiBBc3NlcnQgdGhhdCBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYSBmdW5jdGlvblxuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEZ1bmN0aW9uKHYsIGxldE5hbWUpIHtcbiAgICByZXR1cm4gYXNzZXJ0VHlwZSh2LCAnZnVuY3Rpb24nLCBsZXROYW1lKTtcbn1cblxuLyoqXG4gQXNzZXJ0IHRoYXQgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGRlZmluZWQgYW5kIG5vbi1udWxsXG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0SGFzVmFsdWUodiwgbGV0TmFtZSA9ICdsZXRpYWJsZScpIHtcbiAgICBhc3NlcnREZWZpbmVkKHYsIGxldE5hbWUpO1xuICAgIGlmICghaGFzVmFsdWUodikpIHtcbiAgICAgICAgdGhyb3cgbGV0TmFtZSArIFwiIG11c3Qgbm90IGJlIG51bGxcIjtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG59XG5cbi8qKlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbVVVSUQoKSB7XG4gICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LXh4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgbGV0IHIgPSBNYXRoLnJhbmRvbSgpICogMTYgfCAwLCB2ID0gYyA9PT0gJ3gnID8gciA6IChyICYgMHgzIHwgMHg4KTtcbiAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gc3RhbXBzL2VtYmVkcyBhIFVVSUQgaW50byBhbiBvYmplY3QgYW5kIHJldHVybnMgdGhlIFVVSUQgZ2VuZXJhdGVkIGZvciBpdFxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhbXBVVUlEKG9iaikge1xuICAgIG9iai5fb3NoX2lkID0gb2JqLl9vc2hfaWQgfHwgcmFuZG9tVVVJRCgpO1xuICAgIHJldHVybiBvYmouX29zaF9pZDtcbn1cblxuLy9idWZmZXIgaXMgYW4gQXJyYXlCdWZmZXIgb2JqZWN0LCB0aGUgb2Zmc2V0IGlmIHNwZWNpZmllZCBpbiBieXRlcywgYW5kIHRoZSB0eXBlIGlzIGEgc3RyaW5nXG4vL2NvcnJlc3BvbmRpbmcgdG8gYW4gT0dDIGRhdGEgdHlwZS5cbi8vU2VlIGh0dHA6Ly9kZWYuc2VlZ3JpZC5jc2lyby5hdS9zaXNzdm9jL29nYy1kZWYvcmVzb3VyY2U/dXJpPWh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZGVmL2RhdGFUeXBlL09HQy8wL1xuLyoqXG4gKlxuICogQHBhcmFtIGJ1ZmZlclxuICogQHBhcmFtIG9mZnNldFxuICogQHBhcmFtIHR5cGVcbiAqIEByZXR1cm4geyp9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBQYXJzZUJ5dGVzKGJ1ZmZlciwgb2Zmc2V0LCB0eXBlKSB7XG4gICAgbGV0IHZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmZmVyKTtcblxuICAgIC8vTm90ZTogVGhlcmUgZXhpc3QgdHlwZXMgbm90IGxpc3RlZCBpbiB0aGUgbWFwIGJlbG93IHRoYXQgaGF2ZSBPR0MgZGVmaW5pdGlvbnMsIGJ1dCBubyBhcHByb3ByaWF0ZVxuICAgIC8vbWV0aG9kcyBvciBjb3JyZXNwb25kaW5nIHR5cGVzIGF2YWlsYWJsZSBmb3IgcGFyc2luZyBpbiBqYXZhc2NyaXB0LiBUaGV5IGFyZSBmbG9hdDEyOCwgZmxvYXQxNiwgc2lnbmVkTG9uZyxcbiAgICAvL2FuZCB1bnNpZ25lZExvbmdcbiAgICBsZXQgdHlwZU1hcCA9IHtcbiAgICAgICAgZG91YmxlOiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRGbG9hdDY0KG9mZnNldCksIGJ5dGVzOiA4fTtcbiAgICAgICAgfSxcbiAgICAgICAgZmxvYXQ2NDogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWw6IHZpZXcuZ2V0RmxvYXQ2NChvZmZzZXQpLCBieXRlczogOH07XG4gICAgICAgIH0sXG4gICAgICAgIGZsb2F0MzI6IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB7dmFsOiB2aWV3LmdldEZsb2F0MzIob2Zmc2V0KSwgYnl0ZXM6IDR9O1xuICAgICAgICB9LFxuICAgICAgICBzaWduZWRCeXRlOiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRJbnQ4KG9mZnNldCksIGJ5dGVzOiAxfTtcbiAgICAgICAgfSxcbiAgICAgICAgc2lnbmVkSW50OiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRJbnQzMihvZmZzZXQpLCBieXRlczogNH07XG4gICAgICAgIH0sXG4gICAgICAgIHNpZ25lZFNob3J0OiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRJbnQxNihvZmZzZXQpLCBieXRlczogMn07XG4gICAgICAgIH0sXG4gICAgICAgIHVuc2lnbmVkQnl0ZTogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWw6IHZpZXcuZ2V0VWludDgob2Zmc2V0KSwgYnl0ZXM6IDF9O1xuICAgICAgICB9LFxuICAgICAgICB1bnNpZ25lZEludDogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWw6IHZpZXcuZ2V0VWludDMyKG9mZnNldCksIGJ5dGVzOiA0fTtcbiAgICAgICAgfSxcbiAgICAgICAgdW5zaWduZWRTaG9ydDogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWw6IHZpZXcuZ2V0VWludDE2KG9mZnNldCksIGJ5dGVzOiAyfTtcbiAgICAgICAgfSxcbiAgICAgICAgLy9UT0RPOiBzdHJpbmctdXRmLTg6XG4gICAgfTtcbiAgICByZXR1cm4gdHlwZU1hcFt0eXBlXShvZmZzZXQpO1xufVxuXG4vL1RoaXMgZnVuY3Rpb24gcmVjdXJzaXZsZXkgaXRlcmF0ZXMgb3ZlciB0aGUgcmVzdWx0U3RydWN0dXJlIHRvIGZpbGwgaW5cbi8vdmFsdWVzIHJlYWQgZnJvbSBkYXRhIHdoaWNoIHNob3VsZCBiZSBhbiBBcnJheUJ1ZmZlciBjb250YWluaW5nIHRoZSBwYXlsb2FkIGZyb20gYSB3ZWJzb2NrZXRcbi8qKlxuICpcbiAqIEBwYXJhbSBzdHJ1Y3RcbiAqIEBwYXJhbSBkYXRhXG4gKiBAcGFyYW0gb2Zmc2V0Qnl0ZXNcbiAqIEByZXR1cm4geyp9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZWFkRGF0YShzdHJ1Y3QsIGRhdGEsIG9mZnNldEJ5dGVzKSB7XG4gICAgbGV0IG9mZnNldCA9IG9mZnNldEJ5dGVzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RydWN0LmZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgY3VyckZpZWxkU3RydWN0ID0gc3RydWN0LmZpZWxkc1tpXTtcbiAgICAgICAgaWYgKGlzRGVmaW5lZChjdXJyRmllbGRTdHJ1Y3QudHlwZSkgJiYgY3VyckZpZWxkU3RydWN0LnR5cGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGxldCByZXQgPSBQYXJzZUJ5dGVzKGRhdGEsIG9mZnNldCwgY3VyckZpZWxkU3RydWN0LnR5cGUpO1xuICAgICAgICAgICAgY3VyckZpZWxkU3RydWN0LnZhbCA9IHJldC52YWw7XG4gICAgICAgICAgICBvZmZzZXQgKz0gcmV0LmJ5dGVzO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRGVmaW5lZChjdXJyRmllbGRTdHJ1Y3QuY291bnQpICYmIGN1cnJGaWVsZFN0cnVjdC5jb3VudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy9jaGVjayBpZiBjb3VudCBpcyBhIHJlZmVyZW5jZSB0byBhbm90aGVyIGxldGlhYmxlXG4gICAgICAgICAgICBpZiAoaXNOYU4oY3VyckZpZWxkU3RydWN0LmNvdW50KSkge1xuICAgICAgICAgICAgICAgIGxldCBpZCA9IGN1cnJGaWVsZFN0cnVjdC5jb3VudDtcbiAgICAgICAgICAgICAgICBsZXQgZmllbGROYW1lID0gc3RydWN0LmlkMkZpZWxkTWFwW2lkXTtcbiAgICAgICAgICAgICAgICBjdXJyRmllbGRTdHJ1Y3QuY291bnQgPSBzdHJ1Y3QuZmluZEZpZWxkQnlOYW1lKGZpZWxkTmFtZSkudmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCBjdXJyRmllbGRTdHJ1Y3QuY291bnQ7IGMrKykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY3VyckZpZWxkU3RydWN0LmZpZWxkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZmllbGQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGN1cnJGaWVsZFN0cnVjdC5maWVsZHNbal0pKTtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gUmVhZERhdGEoZmllbGQsIGRhdGEsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJGaWVsZFN0cnVjdC52YWwucHVzaChmaWVsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvZmZzZXQ7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSByZXN1bHRTdHJ1Y3R1cmVcbiAqIEByZXR1cm4ge3t9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gR2V0UmVzdWx0T2JqZWN0KHJlc3VsdFN0cnVjdHVyZSkge1xuICAgIC8vVE9ETzogaGFuZGxlIGNhc2VzIGZvciBuZXN0ZWQgYXJyYXlzIC8gbWF0cml4IGRhdGEgdHlwZXNcbiAgICBsZXQgcmVzdWx0ID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHRTdHJ1Y3R1cmUuZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQocmVzdWx0U3RydWN0dXJlLmZpZWxkc1tpXS5jb3VudCkpIHtcbiAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLm5hbWVdID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IHJlc3VsdFN0cnVjdHVyZS5maWVsZHNbaV0uY291bnQ7IGMrKykge1xuICAgICAgICAgICAgICAgIGxldCBpdGVtID0ge307XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCByZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLnZhbFtjXS5maWVsZHMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbVtyZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLnZhbFtjXS5maWVsZHNba10ubmFtZV0gPSByZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLnZhbFtjXS5maWVsZHNba10udmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0U3RydWN0dXJlLmZpZWxkc1tpXS5uYW1lXS5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdFN0cnVjdHVyZS5maWVsZHNbaV0ubmFtZV0gPSByZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLnZhbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNPcGVyYSgpIHtcbiAgICByZXR1cm4gKCEhd2luZG93Lm9wciAmJiAhIW9wci5hZGRvbnMpIHx8ICEhd2luZG93Lm9wZXJhIHx8IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignIE9QUi8nKSA+PSAwO1xufVxuXG4vKipcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNGaXJlZm94KCkge1xuICAgIHJldHVybiB0eXBlb2YgSW5zdGFsbFRyaWdnZXIgIT09ICd1bmRlZmluZWQnO1xufVxuXG4vKipcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTYWZhcmkoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3aW5kb3cuSFRNTEVsZW1lbnQpLmluZGV4T2YoJ0NvbnN0cnVjdG9yJykgPiAwO1xufVxuXG4vKipcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDaHJvbWUoKSB7XG4gICAgcmV0dXJuICEhd2luZG93LmNocm9tZSAmJiAhIXdpbmRvdy5jaHJvbWUud2Vic3RvcmU7XG59XG5cbi8qKlxuICpcbiAqIEByZXR1cm4geyp8Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQmxpbmsoKSB7XG4gICAgcmV0dXJuIChpc0Nocm9tZSB8fCBpc09wZXJhKSAmJiAhIXdpbmRvdy5DU1M7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBhXG4gKiBAcGFyYW0gYlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXlJbnRlcnNlY3QoYSwgYikge1xuICAgIHJldHVybiBhLmZpbHRlcihmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gYi5pbmRleE9mKGVsZW1lbnQpID4gLTE7XG4gICAgfSkubGVuZ3RoID4gMDtcbn1cblxuXG4vKipcbiAqXG4gKiBAcGFyYW0gb1xuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRWxlbWVudChvKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHR5cGVvZiBIVE1MRWxlbWVudCA9PT0gXCJvYmplY3RcIiA/IG8gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA6IC8vRE9NMlxuICAgICAgICBvICYmIHR5cGVvZiBvID09PSBcIm9iamVjdFwiICYmIG8gIT09IG51bGwgJiYgby5ub2RlVHlwZSA9PT0gMSAmJiB0eXBlb2Ygby5ub2RlTmFtZSA9PT0gXCJzdHJpbmdcIlxuICAgICk7XG59XG5cbi8qKlxuICpcbiAqIEByZXR1cm4geyp9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1dlYldvcmtlcigpIHtcbiAgICByZXR1cm4gaXNEZWZpbmVkKFdvcmtlcik7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBkaXZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRha2VTY3JlZW5TaG90KGRpdikge1xufVxuXG4vKipcbiAqIFJlbW92ZSBhIGNzcyBjbGFzcyBmcm9tIGEgdGhlIGRpdiBnaXZlbiBhcyBhcmd1bWVudC5cbiAqIEBwYXJhbSBkaXYgdGhlIGRpdiB0byByZW1vdmUgdGhlIGNsYXNzIGZyb21cbiAqIEBwYXJhbSBjc3MgdGhlIGNzcyBjbGFzcyB0byByZW1vdmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNzcyhkaXYsIGNzcykge1xuICAgIGxldCBkaXZDc3MgPSBkaXYuY2xhc3NOYW1lO1xuICAgIGNzcyA9IGRpdkNzcy5yZXBsYWNlKGNzcywgXCJcIik7XG4gICAgZGl2LmNsYXNzTmFtZSA9IGNzcztcbn1cblxuXG4vKipcbiAqIEFkZCBhIGNzcyBjbGFzcyB0byBhIHRoZSBkaXYgZ2l2ZW4gYXMgYXJndW1lbnQuXG4gKiBAcGFyYW0gZGl2IHRoZSBkaXYgdG8gYWRkIHRoZSBjbGFzcyB0b1xuICogQHBhcmFtIGNzcyB0aGUgY3NzIGNsYXNzIHRvIGFkZFxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkQ3NzKGRpdiwgY3NzKSB7XG4gICAgZGl2LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGRpdi5jbGFzc05hbWUgKyBcIiBcIiArIGNzcyk7XG59XG5cbi8qKlxuICogUmVtb3ZlcyB0aGUgbGFzdCBjaGFyYWN0ZXIgb2YgYSB7c3RyaW5nfSBvYmplY3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBUaGUgaW5wdXQge3N0cmluZ31cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHZhbHVlIHdpdGhvdXQgdGhlIGxhc3QgY2hhcmFjdGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVMYXN0Q2hhcklmRXhpc3QodmFsdWUpIHtcbiAgICBpZiAoIWlzRGVmaW5lZCh1bmRlZmluZWQpIHx8IHZhbHVlID09PSBudWxsIHx8IHZhbHVlLmxlbmd0aCA9PT0gMCB8fCAhdmFsdWUuZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWUuc3Vic3RyaW5nKDAsIHZhbHVlLmxlbmd0aCAtIDEpO1xufVxuXG4iLCJpbXBvcnQge2lzRGVmaW5lZH0gZnJvbSBcIi4uLy4uL3V0aWxzL1V0aWxzXCI7XG5cbmNsYXNzIERhdGFTb3VyY2VQYXJzZXIge1xuXG4gICAgLyoqXG4gICAgICogQnVpbGRzIHRoZSBmdWxsIHVybC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BlcnRpZXNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5wcm90b2NvbCB0aGUgY29ubmVjdG9yIHByb3RvY29sXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuZW5kcG9pbnRVcmwgdGhlIGVuZHBvaW50IHVybFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLnNlcnZpY2UgdGhlIHNlcnZpY2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5vZmZlcmluZ0lEIHRoZSBvZmZlcmluZ0lEXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMub2JzZXJ2ZWRQcm9wZXJ0eSB0aGUgb2JzZXJ2ZWQgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5zdGFydFRpbWUgdGhlIHN0YXJ0IHRpbWUgKElTTyBmb3JtYXQpXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuZW5kVGltZSB0aGUgZW5kIHRpbWUgKElTTyBmb3JtYXQpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMucmVwbGF5U3BlZWQgdGhlIHJlcGxheSBmYWN0b3JcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy5yZXNwb25zZUZvcm1hdCB0aGUgcmVzcG9uc2UgZm9ybWF0IChlLmcgdmlkZW8vbXA0KVxuICAgICAqIEBwYXJhbSB7RGF0ZX0gcHJvcGVydGllcy5sYXN0VGltZVN0YW1wIC0gdGhlIGxhc3QgdGltZXN0YW1wIHRvIHN0YXJ0IGF0IHRoaXMgdGltZSAoSVNPIFN0cmluZylcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllcy5jdXN0b21VcmxQYXJhbXMgLSB0aGUgZW5jb2Rpbmcgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwcm9wZXJ0aWVzLmN1c3RvbVVybFBhcmFtcy52aWRlb19iaXRyYXRlIC0gZGVmaW5lIGEgY3VzdG9tIGJpdHJhdGUgKGluIGIvcylcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy5jdXN0b21VcmxQYXJhbXMudmlkZW9fc2NhbGUgLSBkZWZpbmUgYSBjdXN0b20gc2NhbGUsIDAuMCA8IHZhbHVlIDwgMS4wXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMuY3VzdG9tVXJsUGFyYW1zLnZpZGVvX3dpZHRoIC0gZGVmaW5lIGEgY3VzdG9tIHdpZHRoXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMuY3VzdG9tVXJsUGFyYW1zLnZpZGVvX2hlaWdodCAtIGRlZmluZSBhIGN1c3RvbSBoZWlnaHRcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHRoZSBmdWxsIHVybFxuICAgICAqL1xuICAgIGJ1aWxkVXJsKHByb3BlcnRpZXMpIHtcbiAgICAgICAgbGV0IHVybCA9IFwiXCI7XG5cbiAgICAgICAgLy8gYWRkcyBwcm90b2NvbFxuICAgICAgICB1cmwgKz0gcHJvcGVydGllcy5wcm90b2NvbCArIFwiOi8vXCI7XG5cbiAgICAgICAgLy8gYWRkcyBlbmRwb2ludCB1cmxcbiAgICAgICAgdXJsICs9IHByb3BlcnRpZXMuZW5kcG9pbnRVcmwgKyBcIj9cIjtcblxuICAgICAgICAvLyBhZGRzIHNlcnZpY2VcbiAgICAgICAgdXJsICs9IFwic2VydmljZT1cIiArIHByb3BlcnRpZXMuc2VydmljZSArIFwiJlwiO1xuXG4gICAgICAgIC8vIGFkZHMgdmVyc2lvblxuICAgICAgICB1cmwgKz0gXCJ2ZXJzaW9uPTIuMCZcIjtcblxuICAgICAgICAvLyBhZGRzIHJlcXVlc3RcbiAgICAgICAgdXJsICs9IFwicmVxdWVzdD1HZXRSZXN1bHQmXCI7XG5cbiAgICAgICAgLy8gYWRkcyBvZmZlcmluZ1xuICAgICAgICB1cmwgKz0gXCJvZmZlcmluZz1cIiArIHByb3BlcnRpZXMub2ZmZXJpbmdJRCArIFwiJlwiO1xuXG4gICAgICAgIC8vIGFkZHMgZmVhdHVyZSBvZiBpbnRlcmVzdCB1cm5cbiAgICAgICAgaWYgKHByb3BlcnRpZXMuZm9pVVJOICYmIHByb3BlcnRpZXMuZm9pVVJOICE9PSAnJykge1xuICAgICAgICAgICAgdXJsICs9ICdmZWF0dXJlT2ZJbnRlcmVzdD0nICsgcHJvcGVydGllcy5mb2lVUk4gKyAnJic7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGRzIG9ic2VydmVkUHJvcGVydHlcbiAgICAgICAgdXJsICs9IFwib2JzZXJ2ZWRQcm9wZXJ0eT1cIiArIHByb3BlcnRpZXMub2JzZXJ2ZWRQcm9wZXJ0eSArIFwiJlwiO1xuXG4gICAgICAgIC8vIGFkZHMgdGVtcG9yYWxGaWx0ZXJcbiAgICAgICAgY29uc3Qgc3RUaW1lID0gKGlzRGVmaW5lZChwcm9wZXJ0aWVzLmxhc3RUaW1lU3RhbXApKSA/IHByb3BlcnRpZXMubGFzdFRpbWVTdGFtcCA6ICBwcm9wZXJ0aWVzLnN0YXJ0VGltZTtcbiAgICAgICAgdGhpcy5sYXN0U3RhcnRUaW1lID0gcHJvcGVydGllcy5zdGFydFRpbWU7XG4gICAgICAgIGxldCBlbmRUaW1lID0gcHJvcGVydGllcy5lbmRUaW1lO1xuICAgICAgICB1cmwgKz0gXCJ0ZW1wb3JhbEZpbHRlcj1waGVub21lbm9uVGltZSxcIiArIHN0VGltZSsgXCIvXCIgKyBlbmRUaW1lICsgXCImXCI7XG4gICAgICAgIGlmIChwcm9wZXJ0aWVzLnJlcGxheVNwZWVkKSB7XG4gICAgICAgICAgICAvLyBhZGRzIHJlcGxheVNwZWVkXG4gICAgICAgICAgICB1cmwgKz0gXCJyZXBsYXlTcGVlZD1cIiArIHByb3BlcnRpZXMucmVwbGF5U3BlZWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGRzIHJlc3BvbnNlRm9ybWF0IChvcHRpb25hbClcbiAgICAgICAgaWYgKHByb3BlcnRpZXMucmVzcG9uc2VGb3JtYXQpIHtcbiAgICAgICAgICAgIHVybCArPSBcIiZyZXNwb25zZUZvcm1hdD1cIiArIHByb3BlcnRpZXMucmVzcG9uc2VGb3JtYXQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZihpc0RlZmluZWQocHJvcGVydGllcy5jdXN0b21VcmxQYXJhbXMpICYmIE9iamVjdC5rZXlzKHByb3BlcnRpZXMuY3VzdG9tVXJsUGFyYW1zKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB1cmwgKz0gJyYnO1xuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIHByb3BlcnRpZXMuY3VzdG9tVXJsUGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgdXJsICs9IGtleSsnPScrcHJvcGVydGllcy5jdXN0b21VcmxQYXJhbXNba2V5XSsnJic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih1cmwuZW5kc1dpdGgoJyYnKSkge1xuICAgICAgICAgICAgICAgIHVybCA9IHVybC5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERhdGFTb3VyY2VQYXJzZXI7XG4iLCJpbXBvcnQgRGF0YVNvdXJjZVBhcnNlciBmcm9tIFwiLi9EYXRhU291cmNlUGFyc2VyXCI7XG5cbmNsYXNzIFN3ZUpzb25QYXJzZXIgZXh0ZW5kcyBEYXRhU291cmNlUGFyc2VyIHtcbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB0aW1lc3RhbXAgZnJvbSB0aGUgbWVzc2FnZS4gVGhlIHRpbWVzdGFtcCBjb3JyZXNwb25kcyB0byB0aGUgJ3RpbWUnIGF0dHJpYnV0ZSBvZiB0aGUgSlNPTiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGEgLSB0aGUgZGF0YSB0byBwYXJzZVxuICAgICAqIEByZXR1cm4ge051bWJlcn0gdGhlIGV4dHJhY3RlZCB0aW1lc3RhbXBcbiAgICAgKi9cbiAgICBwYXJzZVRpbWVTdGFtcChkYXRhKSB7XG4gICAgICAgIGxldCByZWMgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KGRhdGEpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKEpTT04ucGFyc2UocmVjKVsndGltZSddKS5nZXRUaW1lKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdCBkYXRhIGZyb20gdGhlIG1lc3NhZ2UuIFRoZSBkYXRhIGFyZSBjb3JyZXNwb25kaW5nIHRvIHRoZSB3aG9sZSBsaXN0IG9mIGF0dHJpYnV0ZXMgb2YgdGhlIEpTT04gb2JqZWN0XG4gICAgICogZXhjZXB0aW5nIHRoZSAndGltZScgb25lLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gdGhlIGRhdGEgdG8gcGFyc2VcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHRoZSBwYXJzZWQgZGF0YVxuICAgICAqIEBleGFtcGxlXG4gICAgICoge1xuICAgICAqICAgbG9jYXRpb24gOiB7XG4gICAgICogICAgbGF0OjQzLjYxNzU4NjI2LFxuICAgICAqICAgIGxvbjogMS40MjM3NjU1NyxcbiAgICAgKiAgICBhbHQ6MTAwXG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqL1xuICAgIHBhcnNlRGF0YShkYXRhKSB7XG4gICAgICAgIGxldCByZWMgPSBKU09OLnBhcnNlKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoZGF0YSkpKTtcblxuICAgICAgICBsZXQgcmVzdWx0ID0ge307XG5cbiAgICAgICAgZm9yIChsZXQga2V5IGluIHJlYykge1xuICAgICAgICAgICAgaWYgKGtleSAhPT0gJ3RpbWUnKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSByZWNba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGJ1aWxkVXJsKHByb3BlcnRpZXMpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmJ1aWxkVXJsKHtcbiAgICAgICAgICAgIC4uLnByb3BlcnRpZXMsXG4gICAgICAgICAgICByZXNwb25zZUZvcm1hdDogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3dlSnNvblBhcnNlcjtcbiIsIi8qKlxuICogRW51bSBmb3IgY29ubmVjdGlvbiBzdGF0dXMuXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHt7bmFtZTogc3RyaW5nfX1cbiAqL1xuZXhwb3J0IGNvbnN0IFN0YXR1cyA9IHtcbiAgICBDT05ORUNURUQ6ICBcImNvbm5lY3RlZFwiLFxuICAgIERJU0NPTk5FQ1RFRDogXCJkaXNjb25uZWN0ZWRcIlxufTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSwgdi4gMi4wLlxuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZVxuIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cblxuIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcyxcbiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2VcbiBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyByaWdodHMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4gQ29weXJpZ2h0IChDKSAyMDE1LTIwMjAgTWF0aGlldSBEaGFpbmF1dC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuIEF1dGhvcjogTWF0aGlldSBEaGFpbmF1dCA8bWF0aGlldS5kaGFpbmF1dEBnbWFpbC5jb20+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHtyYW5kb21VVUlEfSBmcm9tICcuLi91dGlscy9VdGlscy5qcyc7XG5pbXBvcnQge1N0YXR1c30gZnJvbSAnLi9TdGF0dXMuanMnO1xuXG4vKipcbiAqIFRoZSBEYXRhQ29ubmVjdG9yIGlzIHRoZSBhYnN0cmFjdCBjbGFzcyB1c2VkIHRvIGNyZWF0ZSBkaWZmZXJlbnQgY29ubmVjdG9ycy5cbiAqL1xuY2xhc3MgRGF0YUNvbm5lY3RvciB7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIC0gVGhlIGZ1bGwgdXJsIHVzZWQgdG8gY29ubmVjdCB0byB0aGUgZGF0YSBzdHJlYW1cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih1cmwpIHtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIHRoaXMuaWQgPSBcIkRhdGFDb25uZWN0b3ItXCIgKyByYW5kb21VVUlEKCk7XG4gICAgICAgIHRoaXMucmVjb25uZWN0VGltZW91dCA9IDEwMDAgKiA2MCAqIDI7IC8vMiBtaW5cbiAgICAgICAgdGhpcy5zdGF0dXMgPSAgU3RhdHVzLkRJU0NPTk5FQ1RFRDtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb25JbnRlcnZhbCA9IC0xO1xuICAgIH1cblxuICAgIGNoZWNrQW5kQ2xlYXJSZWNvbm5lY3Rpb24oKSB7XG4gICAgICAgIGlmKHRoaXMucmVjb25uZWN0aW9uSW50ZXJ2YWwgIT09IC0xKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMucmVjb25uZWN0aW9uSW50ZXJ2YWwpO1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb25JbnRlcnZhbCA9IC0xO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgdGhpcy5jaGVja1N0YXR1cyhTdGF0dXMuRElTQ09OTkVDVEVEKTtcbiAgICAgICAgdGhpcy5jaGVja0FuZENsZWFyUmVjb25uZWN0aW9uKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdXJsXG4gICAgICogQHBhcmFtIHVybFxuICAgICAqL1xuICAgIHNldFVybCh1cmwpIHtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGRhdGEgY29ubmVjdG9yIGRlZmF1bHQgaWQuXG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIGdldElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3RyZWFtIHVybC5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgZ2V0VXJsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcmVjb25uZWN0aW9uIHRpbWVvdXRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdGltZW91dCAtIGRlbGF5IGluIG1pbGxpc2Vjb25kcyBiZWZvcmUgcmVjb25uZWN0aW5nIGRhdGFTb3VyY2VcbiAgICAgKi9cbiAgICBzZXRSZWNvbm5lY3RUaW1lb3V0KHRpbWVvdXQpIHtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3RUaW1lb3V0ID0gdGltZW91dDtcbiAgICB9XG5cbiAgICBvblJlY29ubmVjdCgpe1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb25uZWN0KCkge31cblxuICAgIGZvcmNlUmVjb25uZWN0KCkge1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5jb25uZWN0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGNvbm5lY3Rpb24gU1RBVFVTIGNoYW5nZXNcbiAgICAgKiBAcGFyYW0ge1N0YXR1c30gc3RhdHVzIC0gdGhlIG5ldyBzdGF0dXNcbiAgICAgKi9cbiAgICBvbkNoYW5nZVN0YXR1cyhzdGF0dXMpIHtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGEgY2hhbmdlIG9mIHRoZSBzdGF0dXMgYW5kIGNhbGwgdGhlIGNvcnJlc3BvbmRpbmcgY2FsbGJhY2tzIGlmIG5lY2Vzc2FyeVxuICAgICAqIEBwYXJhbSB7U3RhdHVzfSBzdGF0dXMgLSB0aGUgY3VycmVudFN0YXR1c1xuICAgICAqL1xuICAgIGNoZWNrU3RhdHVzKHN0YXR1cykge1xuICAgICAgICBpZihzdGF0dXMgIT09IHRoaXMuc3RhdHVzKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ2hhbmdlU3RhdHVzKHN0YXR1cyk7XG4gICAgICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgY29ubmVjdG9yIGhhcyBiZWVuIGRpc2Nvbm5lY3RlZFxuICAgICAqL1xuICAgIG9uRGlzY29ubmVjdCgpIHtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBjb25uZWN0b3IgaGFzIGJlZW4gY29ubmVjdGVkXG4gICAgICovXG4gICAgb25Db25uZWN0KCkge1xuXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEYXRhQ29ubmVjdG9yO1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAyMCBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgRGF0YUNvbm5lY3RvciBmcm9tICcuL0RhdGFDb25uZWN0b3IuanMnO1xuaW1wb3J0IHtpc1dlYldvcmtlcn0gZnJvbSAnLi4vdXRpbHMvVXRpbHMuanMnO1xuaW1wb3J0IHtTdGF0dXN9IGZyb20gJy4vU3RhdHVzLmpzJztcblxuLyoqXG4gKiBEZWZpbmVzIHRoZSBXZWJTb2NrZXRDb25uZWN0b3IgdG8gY29ubmVjdCB0byBhIHJlbW90ZSBzZXJ2ZXIgYnkgY3JlYXRpbmcgYSBXZWJTb2NrZXQgY2hhbm5lbC5cbiAqIEBleHRlbmRzIERhdGFDb25uZWN0b3JcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgV2ViU29ja2V0Q29ubmVjdG9yIGZyb20gJ29zaC9kYXRhY29ubmVjdG9yL1dlYlNvY2tldENvbm5lY3Rvci5qcyc7XG4gKlxuICogbGV0IHVybCA9IC4uLjtcbiAqIGxldCBjb25uZWN0b3IgPSBuZXcgV2ViU29ja2V0Q29ubmVjdG9yKHVybCk7XG4gKlxuICogLy8gY29ubmVjdFxuICogY29ubmVjdG9yLmNvbm5lY3QoKTtcbiAqXG4gKiAvLyBkaXNjb25uZWN0XG4gKiBjb25uZWN0b3IuZGlzY29ubmVjdCgpO1xuICpcbiAqIC8vIGNsb3NlXG4gKiBjb25uZWN0b3IuY2xvc2UoKTtcbiAqXG4gKi9cblxuY2xhc3MgV2ViU29ja2V0Q29ubmVjdG9yIGV4dGVuZHMgRGF0YUNvbm5lY3RvciB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcHJvcGVydGllcyAtXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHJvcGVydGllcykge1xuICAgICAgICBzdXBlcihwcm9wZXJ0aWVzKTtcbiAgICAgICAgdGhpcy5pbnRlcnZhbCA9IC0xO1xuICAgICAgICB0aGlzLmxhc3RSZWNlaXZlVGltZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29ubmVjdCB0byB0aGUgd2ViU29ja2V0LiBJZiB0aGUgc3lzdGVtIHN1cHBvcnRzIFdlYldvcmtlciwgaXQgd2lsbCBhdXRvbWF0aWNhbGx5IGNyZWF0ZXMgb25lIG90aGVyd2lzZSB1c2VcbiAgICAgKiB0aGUgbWFpbiB0aHJlYWQuXG4gICAgICovXG4gICAgYXN5bmMgY29ubmVjdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluaXQpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmluaXQgPSB0cnVlO1xuICAgICAgICAgICAgLy9jcmVhdGVzIFdlYiBTb2NrZXRcbiAgICAgICAgICAgIHRoaXMud3MgPSBuZXcgV2ViU29ja2V0KHRoaXMuZ2V0VXJsKCkpO1xuICAgICAgICAgICAgdGhpcy53cy5iaW5hcnlUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgICAgICAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0FuZENsZWFyUmVjb25uZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja1N0YXR1cyhTdGF0dXMuQ09OTkVDVEVEKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RSZWNlaXZlVGltZSA9IERhdGUubm93KCk7XG5cbiAgICAgICAgICAgICAgICAvL2NhbGxiYWNrIGRhdGEgb24gbWVzc2FnZSByZWNlaXZlZFxuICAgICAgICAgICAgICAgIGlmIChldmVudC5kYXRhLmJ5dGVMZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25NZXNzYWdlKGV2ZW50LmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0uYmluZCh0aGlzKTtcblxuICAgICAgICAgICAgLy8gY2xvc2VzIHNvY2tldCBpZiBhbnkgZXJyb3JzIG9jY3VyXG4gICAgICAgICAgICB0aGlzLndzLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgc3RyZWFtIGVycm9yJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja1N0YXR1cyhTdGF0dXMuRElTQ09OTkVDVEVEKTtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RSZWNlaXZlVGltZSA9IC0xO1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlUmVjb25uZWN0aW9uKCk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcyk7XG5cbiAgICAgICAgICAgIHRoaXMud3Mub25jbG9zZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tTdGF0dXMoU3RhdHVzLkRJU0NPTk5FQ1RFRCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdXZWJTb2NrZXQgc3RyZWFtIGNsb3NlZDogJyxldmVudC5yZWFzb24sIGV2ZW50LmNvZGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmKGV2ZW50LmNvZGUgIT09IDEwMDAgJiYgIXRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlUmVjb25uZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVJlY29ubmVjdGlvbigpIHtcbiAgICAgICAgaWYoIXRoaXMuY2xvc2VkICYmIHRoaXMucmVjb25uZWN0aW9uSW50ZXJ2YWwgPT09IC0xICYmIHRoaXMub25SZWNvbm5lY3QoKSkge1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb25JbnRlcnZhbCA9ICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbGV0IGRlbHRhID0gRGF0ZS5ub3coKSAtIHRoaXMubGFzdFJlY2VpdmVUaW1lO1xuICAgICAgICAgICAgICAgIC8vIC0xIG1lYW5zIHRoZSBXUyB3ZW50IGluIGVycm9yXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubGFzdFJlY2VpdmVUaW1lID09PSAtMSB8fCAoZGVsdGEgPj0gdGhpcy5yZWNvbm5lY3RUaW1lb3V0KSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ3RyeWluZyB0byByZWNvbm5lY3QnLCB0aGlzLnVybCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSwgdGhpcy5yZWNvbm5lY3RUaW1lb3V0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3RzIGFuZCBjbG9zZSB0aGUgd2Vic29ja2V0LlxuICAgICAqL1xuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICAgc3VwZXIuZGlzY29ubmVjdCgpO1xuICAgICAgIHRoaXMuaW5pdCA9IGZhbHNlO1xuICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICBpZiAodGhpcy53cyAhPSBudWxsICYmIHRoaXMud3MucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0LkNMT1NFRCkge1xuICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XG4gICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvbk1lc3NhZ2UgbWV0aG9kIHVzZWQgYnkgdGhlIHdlYnNvY2tldCB0byBjYWxsYmFjayB0aGUgZGF0YVxuICAgICAqIEBwYXJhbSBkYXRhIHRoZSBjYWxsYmFjayBkYXRhXG4gICAgICogQGV2ZW50XG4gICAgICovXG4gICAgb25NZXNzYWdlKGRhdGEpIHtcbiAgICB9XG5cblxuICAgIGlzQ29ubmVjdGVkKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMud3MgIT0gbnVsbCAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFdlYlNvY2tldENvbm5lY3RvcjtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSwgdi4gMi4wLlxuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZVxuIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cblxuIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcyxcbiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2VcbiBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyByaWdodHMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4gQ29weXJpZ2h0IChDKSAyMDE1LTIwMjAgTWF0aGlldSBEaGFpbmF1dC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuIEF1dGhvcjogTWF0aGlldSBEaGFpbmF1dCA8bWF0aGlldS5kaGFpbmF1dEBnbWFpbC5jb20+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IERhdGFDb25uZWN0b3IgZnJvbSAnLi9EYXRhQ29ubmVjdG9yLmpzJztcbmltcG9ydCB7aXNEZWZpbmVkfSBmcm9tICcuLi91dGlscy9VdGlscy5qcyc7XG5cbi8qKlxuICogRGVmaW5lcyB0aGUgQWpheENvbm5lY3RvciB0byBjb25uZWN0IHRvIGEgcmVtb3RlIHNlcnZlciBieSBtYWtpbmcgQWpheFJlcXVlc3QuXG4gKiBAZXh0ZW5kcyBEYXRhQ29ubmVjdG9yXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IEFqYXggZnJvbSAnb3NoL2RhdGFjb25uZWN0b3IvQWpheC5qcyc7XG4gKlxuICogbGV0IHJlcXVlc3QgPSAuLi47XG4gKiBsZXQgY29ubmVjdG9yID0gbmV3IEFqYXgodXJsKTtcbiAqXG4gKiAvLyBoYW5kbGUgb25TdWNjZXNzXG4gKiBjb25uZWN0b3Iub25TdWNjZXNzID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAqICAvLyBkb2VzIHNvbWV0aGluZ1xuICogfVxuICpcbiAqIGNvbm5lY3Rvci5vbkVycm9yID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAqICAvLyBkb2VzIHNvbWV0aGluZ1xuICogfVxuICpcbiAqIC8vIHNlbmQgcmVxdWVzdFxuICogY29ubmVjdG9yLnNlbmRSZXF1ZXN0KHJlcXVlc3QpO1xuICpcbiAqL1xuY2xhc3MgQWpheCBleHRlbmRzIERhdGFDb25uZWN0b3Ige1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBBamF4LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgLVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzIC1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5tZXRob2QgLVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLnJlc3BvbnNlVHlwZSAtXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodXJsLCBwcm9wZXJ0aWVzKSB7XG4gICAgICAgIHN1cGVyKHVybCk7XG5cbiAgICAgICAgdGhpcy5tZXRob2QgPSBcIlBPU1RcIjtcbiAgICAgICAgdGhpcy5yZXNwb25zZVR5cGUgPSBcImFycmF5YnVmZmVyXCI7XG5cbiAgICAgICAgaWYgKGlzRGVmaW5lZChwcm9wZXJ0aWVzKSkge1xuICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMubWV0aG9kKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRob2QgPSBwcm9wZXJ0aWVzLm1ldGhvZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMucmVzcG9uc2VUeXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVR5cGUgPSBwcm9wZXJ0aWVzLnJlc3BvbnNlVHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmRzIHRoZSByZXF1ZXN0IHRvIHRoZSBkZWZpbmVkIHNlcnZlci5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdCAtIFRoZSBIdHRwIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXh0cmFVcmwgLSBnZXQgcXVlcnkgcGFyYW1ldGVyc1xuICAgICAqL1xuICAgIHNlbmRSZXF1ZXN0KHJlcXVlc3QsIGV4dHJhVXJsKSB7XG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgbGV0IHhtbGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeG1saHR0cC53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgICAgICB4bWxodHRwLnRpbWVvdXQgPSA2MDAwMDtcbiAgICAgICAgaWYgKHJlcXVlc3QgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChpc0RlZmluZWQoZXh0cmFVcmwpKSB7XG4gICAgICAgICAgICAgICAgeG1saHR0cC5vcGVuKFwiR0VUXCIsIHRoaXMuZ2V0VXJsKCkgKyBcIj9cIiArIGV4dHJhVXJsLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeG1saHR0cC5vcGVuKFwiR0VUXCIsIHRoaXMuZ2V0VXJsKCksIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeG1saHR0cC5yZXNwb25zZVR5cGUgPSB0aGlzLnJlc3BvbnNlVHlwZTtcbiAgICAgICAgICAgIHhtbGh0dHAub25sb2FkID0gKG9FdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh4bWxodHRwLnJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYub25NZXNzYWdlKHhtbGh0dHAucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB4bWxodHRwLm9udGltZW91dCA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJUaW1lb3V0XCIpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgeG1saHR0cC5zZW5kKG51bGwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeG1saHR0cC5vcGVuKFwiUE9TVFwiLCB0aGlzLmdldFVybCgpLCB0cnVlKTtcbiAgICAgICAgICAgIHhtbGh0dHAuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ3RleHQveG1sJyk7XG5cbiAgICAgICAgICAgIHhtbGh0dHAuc2VuZChyZXF1ZXN0KTtcblxuICAgICAgICAgICAgeG1saHR0cC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHhtbGh0dHAucmVhZHlTdGF0ZSA8IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hpbGUgd2FpdGluZyByZXNwb25zZSBmcm9tIHNlcnZlclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoeG1saHR0cC5yZWFkeVN0YXRlID09PSA0KSB7ICAgICAgICAgICAgICAgIC8vIDQgPSBSZXNwb25zZSBmcm9tIHNlcnZlciBoYXMgYmVlbiBjb21wbGV0ZWx5IGxvYWRlZC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHhtbGh0dHAuc3RhdHVzID09PSAyMDAgJiYgeG1saHR0cC5zdGF0dXMgPCAzMDApIHsgLy8gaHR0cCBzdGF0dXMgYmV0d2VlbiAyMDAgdG8gMjk5IGFyZSBhbGwgc3VjY2Vzc2Z1bFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5vblN1Y2Nlc3MoeG1saHR0cC5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5vbkVycm9yKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdGhlIGNhbGxiYWNrIG1ldGhvZCBpbiBjYXNlIG9mIGdldHRpbmcgZXJyb3IgY29ubmVjdGlvbi5cbiAgICAgKiBAcGFyYW0gZXZlbnQgVGhlIGVycm9yIGRldGFpbHNcbiAgICAgKiBAZXZlbnRcbiAgICAgKi9cbiAgICBvbkVycm9yKGV2ZW50KSB7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIHRoZSBjYWxsYmFjayBtZXRob2QgaW4gY2FzZSBvZiBnZXR0aW5nIHN1Y2Nlc3MgY29ubmVjdGlvbi5cbiAgICAgKiBAcGFyYW0gZXZlbnRcbiAgICAgKiBAZXZlbnRcbiAgICAgKi9cbiAgICBvblN1Y2Nlc3MoZXZlbnQpIHtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmRzIHRoZSByZXF1ZXN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25uZWN0KCkge1xuICAgICAgICB0aGlzLnNlbmRSZXF1ZXN0KG51bGwpO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IEFqYXg7XG4iLCJpbXBvcnQgRGF0YUNvbm5lY3RvciBmcm9tIFwiLi9EYXRhQ29ubmVjdG9yXCI7XG5cbi8qKlxuICogRGVmaW5lcyB0aGUgRmlsZUNvbm5lY3RvciB0byByZWFkIGEgRmlsZSBjb250ZW50XG4gKiBAZXh0ZW5kcyBEYXRhQ29ubmVjdG9yXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IEZpbGVDb25uZWN0b3IgZnJvbSAnb3NoL2RhdGFjb25uZWN0b3IvVG9waWNDb25uZWN0b3IuanMnO1xuICpcbiAqIGxldCBjb25uZWN0b3IgPSBuZXcgVG9waWNDb25uZWN0b3IoPHRvcGljX25hbWU+KTtcbiAqXG4gKiAvLyBjb25uZWN0XG4gKiBjb25uZWN0b3IuY29ubmVjdCgpO1xuICpcbiAqIC8vIGRpc2Nvbm5lY3RcbiAqIGNvbm5lY3Rvci5kaXNjb25uZWN0KCk7XG4gKlxuICogLy8gY2xvc2VcbiAqIGNvbm5lY3Rvci5jbG9zZSgpO1xuICpcbiAqL1xuY2xhc3MgVG9waWNDb25uZWN0b3IgZXh0ZW5kcyBEYXRhQ29ubmVjdG9yIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcm9wZXJ0aWVzIC1cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0aWVzKSB7XG4gICAgICAgIHN1cGVyKHByb3BlcnRpZXMpO1xuICAgICAgICB0aGlzLmxhc3RSZWNlaXZlVGltZSA9IC0xO1xuICAgICAgICB0aGlzLmludGVydmFsID0gLTE7XG4gICAgICAgIHRoaXMuYnJvYWRjYXN0Q2hhbm5lbCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29ubmVjdCB0byB0aGUgYnJvYWRjYXN0Q2hhbm5lbC5cbiAgICAgKi9cbiAgICBjb25uZWN0KCkge1xuICAgICAgICBpZiAodGhpcy5icm9hZGNhc3RDaGFubmVsID09PSBudWxsKSB7XG4gICAgICAgICAgICAvL2NyZWF0ZXMgYnJvYWRjYXN0Q2hhbm5lbFxuICAgICAgICAgICAgdGhpcy5icm9hZGNhc3RDaGFubmVsID0gbmV3IEJyb2FkY2FzdENoYW5uZWwodGhpcy5nZXRVcmwoKSk7XG4gICAgICAgICAgICB0aGlzLmJyb2FkY2FzdENoYW5uZWwub25tZXNzYWdlID0gIChldmVudCkgID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RSZWNlaXZlVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgLy9jYWxsYmFjayBkYXRhIG9uIG1lc3NhZ2UgcmVjZWl2ZWRcbiAgICAgICAgICAgICAgICB0aGlzLm9uTWVzc2FnZShldmVudC5kYXRhLmRhdGEpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gY2xvc2VzIHNvY2tldCBpZiBhbnkgZXJyb3JzIG9jY3VyXG4gICAgICAgICAgICB0aGlzLmJyb2FkY2FzdENoYW5uZWwub25lcnJvciA9ICAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdCcm9hZGNhc3RDaGFubmVsIHN0cmVhbSBlcnJvcjogJyArIGV2ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLmJyb2FkY2FzdENoYW5uZWwuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RSZWNlaXZlVGltZSA9IC0xO1xuICAgICAgICAgICAgICAgIHRoaXMub3BlbmVkID0gZmFsc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5vcGVuZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAvL2luaXQgdGhlIHJlY29ubmVjdCBoYW5kbGVyXG4gICAgICAgICAgICBpZiAodGhpcy5pbnRlcnZhbCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZGVsdGEgPSBEYXRlLm5vdygpIC0gdGhpcy5sYXN0UmVjZWl2ZVRpbWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIC0xIG1lYW5zIHRoZSBXUyB3ZW50IGluIGVycm9yXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxhc3RSZWNlaXZlVGltZSA9PT0gLTEgfHwgKGRlbHRhID49IHRoaXMucmVjb25uZWN0VGltZW91dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgdHJ5aW5nIHRvIHJlY29ubmVjdCBhZnRlciAke3RoaXMucmVjb25uZWN0VGltZW91dH0gLi5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcyksIHRoaXMucmVjb25uZWN0VGltZW91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNjb25uZWN0cyB0aGUgd2Vic29ja2V0LlxuICAgICAqL1xuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICAgIHRoaXMuZnVsbERpc2Nvbm5lY3QodHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRnVsbHkgZGlzY29ubmVjdCB0aGUgd2Vic29ja2V0IGNvbm5lY3Rpb24gYnkgc2VuZGluZyBhIGNsb3NlIG1lc3NhZ2UgdG8gdGhlIHdlYldvcmtlci5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHJlbW92ZUludGVydmFsICAtIGZvcmNlIHJlbW92aW5nIHRoZSBpbnRlcnZhbFxuICAgICAqL1xuICAgIGZ1bGxEaXNjb25uZWN0KHJlbW92ZUludGVydmFsKSB7XG4gICAgICAgIGlmICh0aGlzLmJyb2FkY2FzdENoYW5uZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5icm9hZGNhc3RDaGFubmVsLmNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLmJyb2FkY2FzdENoYW5uZWwgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZW1vdmVJbnRlcnZhbCkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9wZW5lZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyeSB0byByZWNvbm5lY3QgaWYgdGhlIGNvbm5leGlvbiBpZiBjbG9zZWRcbiAgICAgKi9cbiAgICByZWNvbm5lY3QoKSB7XG4gICAgICAgIHRoaXMub25SZWNvbm5lY3QoKTtcbiAgICAgICAgaWYgKHRoaXMuaW5pdCkge1xuICAgICAgICAgICAgdGhpcy5mdWxsRGlzY29ubmVjdChmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25uZWN0KCk7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb25NZXNzYWdlIG1ldGhvZCB1c2VkIGJ5IHRoZSB3ZWJzb2NrZXQgdG8gY2FsbGJhY2sgdGhlIGRhdGFcbiAgICAgKiBAcGFyYW0gZGF0YSB0aGUgY2FsbGJhY2sgZGF0YVxuICAgICAqIEBldmVudFxuICAgICAqL1xuICAgIG9uTWVzc2FnZShkYXRhKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoZSB3ZWJTb2NrZXQuXG4gICAgICovXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgIH1cblxuICAgIGlzQ29ubmVjdGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5icm9hZGNhc3RDaGFubmVsICE9PSBudWxsICYmIHRoaXMub3BlbmVkO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVG9waWNDb25uZWN0b3I7XG4iLCJleHBvcnQgY29uc3QgRXZlbnRUeXBlID0ge1xuICAgIERBVEE6ICdkYXRhJyxcbiAgICBTVEFUVVM6ICdzdGF0dXMnXG59O1xuIiwiaW1wb3J0IERhdGFDb25uZWN0b3IgZnJvbSBcIi4vRGF0YUNvbm5lY3RvclwiO1xuaW1wb3J0IHtTdGF0dXN9IGZyb20gXCIuL1N0YXR1c1wiO1xuXG4vKipcbiAqIERlZmluZXMgdGhlIEZpbGVDb25uZWN0b3IgdG8gcmVhZCBhIEZpbGUgY29udGVudFxuICogQGV4dGVuZHMgRGF0YUNvbm5lY3RvclxuICogQGV4YW1wbGVcbiAqIGltcG9ydCBGaWxlQ29ubmVjdG9yIGZyb20gJ29zaC9kYXRhY29ubmVjdG9yL0ZpbGVDb25uZWN0b3IuanMnO1xuICpcbiAqIGxldCBwYXRocyA9IFsncGF0aDEnLCdwYXRoMl0uLi5dO1xuICogbGV0IGNvbm5lY3RvciA9IG5ldyBGaWxlQ29ubmVjdG9yKHBhdGhzKTtcbiAqXG4gKiAvLyBjb25uZWN0XG4gKiBjb25uZWN0b3IuY29ubmVjdCgpO1xuICpcbiAqIC8vIGRpc2Nvbm5lY3RcbiAqIGNvbm5lY3Rvci5kaXNjb25uZWN0KCk7XG4gKlxuICogLy8gY2xvc2VcbiAqIGNvbm5lY3Rvci5jbG9zZSgpO1xuICpcbiAqL1xuY2xhc3MgRmlsZUNvbm5lY3RvciBleHRlbmRzIERhdGFDb25uZWN0b3Ige1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSAoc3RyaW5nW10pIHBhdGhzIC0gbGlzdCBvZiBmaWxlIHBhdGhzXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocGF0aHMpIHtcbiAgICAgICAgc3VwZXIocGF0aHMpO1xuICAgICAgICB0aGlzLm9wZW5lZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0YXJ0IHJlYWRpbmcgZmlsZSBjb250ZW50XG4gICAgICovXG4gICAgYXN5bmMgY29ubmVjdCgpIHtcbiAgICAgICAgaWYoIXRoaXMub3BlbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW5lZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm9uQ2hhbmdlU3RhdHVzKFN0YXR1cy5DT05ORUNURUQpO1xuICAgICAgICAgICAgY29uc3QgdXJscyA9IHRoaXMuZ2V0VXJsKCk7XG4gICAgICAgICAgICBmb3IobGV0IHVybCBvZiB1cmxzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbk1lc3NhZ2UoYXdhaXQgZmV0Y2godXJsKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9uQ2hhbmdlU3RhdHVzKFN0YXR1cy5ESVNDT05ORUNURUQpO1xuICAgICAgICAgICAgLy8gcmVhZCBpcyBkb25lXG4gICAgICAgICAgICB0aGlzLm9wZW5lZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNDb25uZWN0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wZW5lZDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZpbGVDb25uZWN0b3I7XG4iLCJpbXBvcnQgV2ViU29ja2V0Q29ubmVjdG9yIGZyb20gXCIuLi8uLi9kYXRhY29ubmVjdG9yL1dlYlNvY2tldENvbm5lY3Rvci5qc1wiO1xuaW1wb3J0IEFqYXggZnJvbSBcIi4uLy4uL2RhdGFjb25uZWN0b3IvQWpheC5qc1wiO1xuaW1wb3J0IHtpc0RlZmluZWQsIHJhbmRvbVVVSUR9IGZyb20gXCIuLi8uLi91dGlscy9VdGlscy5qc1wiO1xuaW1wb3J0IFRvcGljQ29ubmVjdG9yIGZyb20gXCIuLi8uLi9kYXRhY29ubmVjdG9yL1RvcGljQ29ubmVjdG9yLmpzXCI7XG5pbXBvcnQge0V2ZW50VHlwZX0gZnJvbSBcIi4uLy4uL2V2ZW50L0V2ZW50VHlwZS5qc1wiO1xuaW1wb3J0IHtTdGF0dXN9IGZyb20gXCIuLi8uLi9kYXRhY29ubmVjdG9yL1N0YXR1c1wiO1xuaW1wb3J0IEZpbGVDb25uZWN0b3IgZnJvbSBcIi4uLy4uL2RhdGFjb25uZWN0b3IvRmlsZUNvbm5lY3RvclwiO1xuXG5jbGFzcyBEYXRhU291cmNlSGFuZGxlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJzZXIpIHtcbiAgICAgICAgdGhpcy5wYXJzZXIgPSBwYXJzZXI7XG4gICAgICAgIHRoaXMuY29ubmVjdG9yID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0VGltZVN0YW1wID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0U3RhcnRUaW1lID0gJ25vdyc7XG4gICAgICAgIHRoaXMudGltZVNoaWZ0ID0gMDtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3RUaW1lb3V0ID0gMTAwMCAqIDEwOyAvLyAxMCBzZWNzXG4gICAgICAgIHRoaXMudmFsdWVzID0gW107XG4gICAgfVxuXG4gICAgY3JlYXRlQ29ubmVjdG9yKHByb3BlcnRpZXNTdHIsIHRvcGljLCBkYXRhU291cmNlSWQpIHtcbiAgICAgICAgdGhpcy5kYXRhU291cmNlSWQgPSBkYXRhU291cmNlSWQ7XG4gICAgICAgIC8vIGNoZWNrIGZvciBleGlzdGluZyBjb25uZWN0b3JcbiAgICAgICAgaWYodGhpcy5jb25uZWN0b3IgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdG9yLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdG9yID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYnJvYWRjYXN0Q2hhbm5lbCA9IG5ldyBCcm9hZGNhc3RDaGFubmVsKHRvcGljKTtcblxuICAgICAgICBjb25zdCBwcm9wZXJ0aWVzID0gSlNPTi5wYXJzZShwcm9wZXJ0aWVzU3RyKTtcblxuICAgICAgICBpZiAoaXNEZWZpbmVkKHByb3BlcnRpZXMuZmV0Y2gpKSB7XG4gICAgICAgICAgICB0aGlzLmZldGNoID0gcHJvcGVydGllcy5mZXRjaDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0RlZmluZWQocHJvcGVydGllcy50aW1lU2hpZnQpKSB7XG4gICAgICAgICAgICB0aGlzLnRpbWVTaGlmdCA9IHByb3BlcnRpZXMudGltZVNoaWZ0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzRGVmaW5lZChwcm9wZXJ0aWVzLmJ1ZmZlcmluZ1RpbWUpKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcmluZ1RpbWUgPSBwcm9wZXJ0aWVzLmJ1ZmZlcmluZ1RpbWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNEZWZpbmVkKHByb3BlcnRpZXMudGltZU91dCkpIHtcbiAgICAgICAgICAgIHRoaXMudGltZU91dCA9IHByb3BlcnRpZXMudGltZU91dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0RlZmluZWQocHJvcGVydGllcy5yZWNvbm5lY3RUaW1lb3V0KSkge1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3RUaW1lb3V0ID0gcHJvcGVydGllcy5yZWNvbm5lY3RUaW1lb3V0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYocHJvcGVydGllcy5zdGFydFRpbWUgPT09ICdub3cnKSB7XG4gICAgICAgICAgICB0aGlzLmJhdGNoU2l6ZSA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKHByb3BlcnRpZXMucmVwbGF5U3BlZWQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0RlZmluZWQocHJvcGVydGllcy5iYXRjaFNpemUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmF0Y2hTaXplID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc0RlZmluZWQocHJvcGVydGllcy5iYXRjaFNpemUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXRjaFNpemUgPSBwcm9wZXJ0aWVzLmJhdGNoU2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IHByb3BlcnRpZXM7XG4gICAgICAgIHRoaXMuY3JlYXRlRGF0YUNvbm5lY3Rvcih0aGlzLnByb3BlcnRpZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY3JlYXRlRGF0YUNvbm5lY3Rvcihwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMucGFyc2VyLmJ1aWxkVXJsKHtcbiAgICAgICAgICAgIC4uLnByb3BlcnRpZXMsXG4gICAgICAgICAgICB0aW1lU2hpZnQ6IHRoaXMudGltZVNoaWZ0XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGNoZWNrcyBpZiB0eXBlIGlzIFdlYlNvY2tldENvbm5lY3RvclxuICAgICAgICBpZiAocHJvcGVydGllcy5wcm90b2NvbC5zdGFydHNXaXRoKCd3cycpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RvciA9IG5ldyBXZWJTb2NrZXRDb25uZWN0b3IodXJsKTtcbiAgICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0aWVzLnByb3RvY29sLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0b3IgPSBuZXcgQWpheCh1cmwpO1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0b3IucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0aWVzLnByb3RvY29sLnN0YXJ0c1dpdGgoJ3RvcGljJykpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdG9yID0gbmV3IFRvcGljQ29ubmVjdG9yKHVybCk7XG4gICAgICAgIH0gZWxzZSBpZiAocHJvcGVydGllcy5wcm90b2NvbC5zdGFydHNXaXRoKCdmaWxlJykpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdG9yID0gbmV3IEZpbGVDb25uZWN0b3IodXJsLHByb3BlcnRpZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGFzdFN0YXJ0VGltZUNzdCA9IHRoaXMucGFyc2VyLmxhc3RTdGFydFRpbWU7XG4gICAgICAgIGNvbnN0IGxhc3RQcm9wZXJ0aWVzID0gcHJvcGVydGllcztcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdG9yICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBzZXQgdGhlIHJlY29ubmVjdFRpbWVvdXRcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdG9yLnNldFJlY29ubmVjdFRpbWVvdXQodGhpcy5yZWNvbm5lY3RUaW1lb3V0KTtcblxuICAgICAgICAgICAgLy8gY29ubmVjdHMgdGhlIGNhbGxiYWNrXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rvci5vbk1lc3NhZ2UgPSB0aGlzLm9uTWVzc2FnZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgICAgICAvLyBiaW5kIGNoYW5nZSBjb25uZWN0aW9uIFNUQVRVU1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0b3Iub25DaGFuZ2VTdGF0dXMgICA9IHRoaXMub25DaGFuZ2VTdGF0dXMuYmluZCh0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5jb25uZWN0b3Iub25SZWNvbm5lY3QgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaWYgbm90IHJlYWwgdGltZSwgcHJlc2VydmUgbGFzdCB0aW1lc3RhbXAgdG8gcmVjb25uZWN0IGF0IHRoZSBsYXN0IHRpbWUgcmVjZWl2ZWRcbiAgICAgICAgICAgICAgICAvLyBmb3IgdGhhdCwgd2UgdXBkYXRlIHRoZSBVUkwgd2l0aCB0aGUgbmV3IGxhc3QgdGltZSByZWNlaXZlZFxuICAgICAgICAgICAgICAgIGlmIChsYXN0U3RhcnRUaW1lQ3N0ICE9PSAnbm93Jykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rvci5zZXRVcmwodGhpcy5wYXJzZXIuYnVpbGRVcmwoXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0VGltZVN0YW1wOiBpc0RlZmluZWQodGhpcy5sYXN0VGltZVN0YW1wKSA/IG5ldyBEYXRlKHRoaXMubGFzdFRpbWVTdGFtcCkudG9JU09TdHJpbmcoKTogcHJvcGVydGllcy5zdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCB0b3BpYyB0byBsaXN0ZW5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdG9waWMgLSB0aGUgdG9waWMgdG8gbGlzdGVuXG4gICAgICovXG4gICAgc2V0VG9waWModG9waWMpIHtcbiAgICAgICAgaWYodGhpcy5icm9hZGNhc3RDaGFubmVsICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmJyb2FkY2FzdENoYW5uZWwuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJyb2FkY2FzdENoYW5uZWwgPSBuZXcgQnJvYWRjYXN0Q2hhbm5lbCh0b3BpYyk7XG4gICAgICAgIHRoaXMudG9waWMgPSB0b3BpYztcbiAgICB9XG5cbiAgICBjb25uZWN0KCkge1xuICAgICAgICBpZih0aGlzLmNvbm5lY3RvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0b3IuY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgaWYodGhpcy5jb25uZWN0b3IgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdG9yLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIG9uTWVzc2FnZShldmVudCkge1xuICAgICAgICBjb25zdCB0aW1lU3RhbXAgPSBhd2FpdCBQcm9taXNlLnJlc29sdmUodGhpcy5wYXJzZXIucGFyc2VUaW1lU3RhbXAoZXZlbnQpICsgdGhpcy50aW1lU2hpZnQpO1xuICAgICAgICBjb25zdCBkYXRhICAgICAgPSBhd2FpdCBQcm9taXNlLnJlc29sdmUodGhpcy5wYXJzZXIucGFyc2VEYXRhKGV2ZW50KSk7XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgZGF0YSBpcyBhcnJheVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgZm9yKGxldCBpPTA7aSA8IGRhdGEubGVuZ3RoO2krKykge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhW2ldLFxuICAgICAgICAgICAgICAgICAgICB0aW1lU3RhbXA6IHRpbWVTdGFtcFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy52YWx1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgICB0aW1lU3RhbXA6IHRpbWVTdGFtcFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0VGltZVN0YW1wID0gdGltZVN0YW1wO1xuXG4gICAgICAgIGlmIChpc0RlZmluZWQodGhpcy5iYXRjaFNpemUpICYmIHRoaXMudmFsdWVzLmxlbmd0aCA+PSB0aGlzLmJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZCBhIGNoYW5nZSBzdGF0dXMgZXZlbnQgaW50byB0aGUgYnJvYWRjYXN0IGNoYW5uZWxcbiAgICAgKiBAcGFyYW0ge1N0YXR1c30gc3RhdHVzIC0gdGhlIG5ldyBzdGF0dXNcbiAgICAgKi9cbiAgICBvbkNoYW5nZVN0YXR1cyhzdGF0dXMpIHtcbiAgICAgICAgaWYoc3RhdHVzID09PSBTdGF0dXMuRElTQ09OTkVDVEVEKSB7XG4gICAgICAgICAgICB0aGlzLmZsdXNoQWxsKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJyb2FkY2FzdENoYW5uZWwucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgdHlwZTogRXZlbnRUeXBlLlNUQVRVUyxcbiAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLFxuICAgICAgICAgICAgZGF0YVNvdXJjZUlkOiB0aGlzLmRhdGFTb3VyY2VJZFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRMYXN0VGltZVN0YW1wKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXN0VGltZVN0YW1wO1xuICAgIH1cblxuICAgIHVwZGF0ZVVybChwcm9wZXJ0aWVzKSB7XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuXG4gICAgICAgIGxldCBsYXN0VGltZXN0YW1wID0gIG5ldyBEYXRlKHRoaXMubGFzdFRpbWVTdGFtcCkudG9JU09TdHJpbmcoKTtcblxuICAgICAgICBpZihwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KCdzdGFydFRpbWUnKSkge1xuICAgICAgICAgICAgbGFzdFRpbWVzdGFtcCA9IHByb3BlcnRpZXMuc3RhcnRUaW1lO1xuICAgICAgICB9IGVsc2UgaWYodGhpcy5wcm9wZXJ0aWVzLnN0YXJ0VGltZSA9PT0gJ25vdycpe1xuICAgICAgICAgICAgLy9oYW5kbGUgUmVhbFRpbWVcbiAgICAgICAgICAgIGxhc3RUaW1lc3RhbXAgPSAnbm93JztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3JlYXRlRGF0YUNvbm5lY3Rvcih7XG4gICAgICAgICAgICAuLi50aGlzLnByb3BlcnRpZXMsXG4gICAgICAgICAgICAuLi5wcm9wZXJ0aWVzLFxuICAgICAgICAgICAgbGFzdFRpbWVTdGFtcDogbGFzdFRpbWVzdGFtcFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmNvbm5lY3QoKTtcbiAgICB9XG5cbiAgICBmbHVzaEFsbCgpIHtcbiAgICAgICAgd2hpbGUodGhpcy52YWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZmx1c2goKSB7XG4gICAgICAgIGxldCBuYkVsZW1lbnRzID0gdGhpcy52YWx1ZXMubGVuZ3RoO1xuICAgICAgICBpZiAoaXNEZWZpbmVkKHRoaXMuYmF0Y2hTaXplKSAmJiB0aGlzLnZhbHVlcy5sZW5ndGggPiB0aGlzLmJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgbmJFbGVtZW50cyA9IHRoaXMuYmF0Y2hTaXplO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnJvYWRjYXN0Q2hhbm5lbC5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBkYXRhU291cmNlSWQ6IHRoaXMuZGF0YVNvdXJjZUlkLFxuICAgICAgICAgICAgdHlwZTogRXZlbnRUeXBlLkRBVEEsXG4gICAgICAgICAgICB2YWx1ZXM6IHRoaXMudmFsdWVzLnNwbGljZSgwLCBuYkVsZW1lbnRzKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBoYW5kbGVNZXNzYWdlKG1lc3NhZ2UsIHdvcmtlcikge1xuICAgICAgICBpZihtZXNzYWdlLm1lc3NhZ2UgPT09ICdpbml0Jykge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVDb25uZWN0b3IobWVzc2FnZS5wcm9wZXJ0aWVzLCBtZXNzYWdlLnRvcGljLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLm1lc3NhZ2UgPT09ICdjb25uZWN0Jykge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS5tZXNzYWdlID09PSAnZGlzY29ubmVjdCcpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UubWVzc2FnZSA9PT0gJ3RvcGljJykge1xuICAgICAgICAgICAgdGhpcy5zZXRUb3BpYyhtZXNzYWdlLnRvcGljKTtcbiAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLm1lc3NhZ2UgPT09ICdsYXN0LXRpbWVzdGFtcCcpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RUaW1lU3RhbXAgPSB0aGlzLmdldExhc3RUaW1lU3RhbXAoKTtcbiAgICAgICAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ2xhc3QtdGltZXN0YW1wJyxcbiAgICAgICAgICAgICAgICBkYXRhOiBsYXN0VGltZVN0YW1wXG4gICAgICAgICAgICB9KVxuICAgICAgICB9ICBlbHNlIGlmIChtZXNzYWdlLm1lc3NhZ2UgPT09ICd1cGRhdGUtdXJsJykge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVVcmwobWVzc2FnZS5kYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLm1lc3NhZ2UgPT09ICdpcy1jb25uZWN0ZWQnKSB7XG4gICAgICAgICAgICB3b3JrZXIucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdpcy1jb25uZWN0ZWQnLFxuICAgICAgICAgICAgICAgIGRhdGE6ICh0aGlzLmNvbm5lY3RvciA9PT0gbnVsbCk/IGZhbHNlOiB0aGlzLmNvbm5lY3Rvci5pc0Nvbm5lY3RlZCgpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgRGF0YVNvdXJjZUhhbmRsZXI7XG5cbiIsImltcG9ydCBTd2VKc29uUGFyc2VyIGZyb20gJy4uL3BhcnNlcnMvU3dlSnNvbi5wYXJzZXInO1xuaW1wb3J0IERhdGFTb3VyY2VIYW5kbGVyIGZyb20gJy4vRGF0YVNvdXJjZUhhbmRsZXIuanMnO1xuXG5jb25zdCBkYXRhU291cmNlSGFuZGxlciA9IG5ldyBEYXRhU291cmNlSGFuZGxlcihuZXcgU3dlSnNvblBhcnNlcigpKTtcblxuc2VsZi5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICBkYXRhU291cmNlSGFuZGxlci5oYW5kbGVNZXNzYWdlKGV2ZW50LmRhdGEsIHNlbGYpO1xufVxuXG5cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")}]);