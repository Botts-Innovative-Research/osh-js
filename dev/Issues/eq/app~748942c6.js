(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t){},136:function(e,t,o){var i=o(174);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,o(80).default)("02a3a270",i,!1,{})},137:function(e,t,o){var i=o(176);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,o(80).default)("67e2ccaa",i,!1,{})},142:function(e,t,o){e.exports=function(){return new Worker(o.p+"4110fd79086aa931ce2e.worker.js")}},144:function(e,t,o){e.exports=function(){return new Worker(o.p+"fa68fc5021e5a303ceb0.worker.js")}},160:function(e,t,o){var i=o(161);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,o(80).default)("3a812de8",i,!1,{})},161:function(e,t,o){(t=o(79)(!1)).push([e.i,"html, body {\n    overflow: hidden !important;\n}\n",""]),e.exports=t},167:function(e,t){},173:function(e,t,o){"use strict";o(136)},174:function(e,t,o){(t=o(79)(!1)).push([e.i,"\n.map[data-v-3074bd5c] {\n  top: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 5;\n}\n",""]),e.exports=t},175:function(e,t,o){"use strict";o(137)},176:function(e,t,o){(t=o(79)(!1)).push([e.i,"\n.v-application .map a {\n  color: unset;\n}\n",""]),e.exports=t},181:function(e,t,o){"use strict";o.r(t);var i=o(96),n=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("v-app",{attrs:{id:"inspire"}},[t("v-app",{attrs:{id:"inspire"}},[t("Map",{attrs:{datasource:this.datasource}})],1)],1)],1)};n._withStripped=!0;o(160);var a=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"map",attrs:{id:"map"}})};a._withStripped=!0;var c=o(197),r=o(204),l=o(4),s=(o(162),o(104));class h extends s.a{constructor(e){super(e),this.properties=e,this.location=null,this.orientation={heading:0},this.icon=null,this.iconAnchor=[16,16],this.iconSize=[16,16],this.iconScale=10,this.iconColor="#000000",this.label=null,this.labelColor="#000000",this.labelSize=16,this.labelOffset=[0,0],this.zoomLevel=15,this.color="#000000",this.defaultToTerrainElevation=!1,this.options={},this.markerId="marker",this.values=[],Object(l.h)(e.defaultToTerrainElevation)&&(this.defaultToTerrainElevation=e.defaultToTerrainElevation),Object(l.f)(e.location)&&(Object(l.c)(e.location,"location"),this.location=e.location),Object(l.f)(e.orientation)&&(Object(l.c)(e.orientation,"orientation"),this.orientation=e.orientation),Object(l.f)(e.icon)&&(Object(l.e)(e.icon,"icon"),this.icon=e.icon),Object(l.f)(e.iconAnchor)&&(Object(l.a)(e.iconAnchor,"iconAnchor"),this.iconAnchor=e.iconAnchor),Object(l.f)(e.iconSize)&&(Object(l.a)(e.iconSize,"iconSize"),this.iconSize=e.iconSize),Object(l.f)(e.iconScale)&&(Object(l.d)(e.iconScale,"iconScale"),this.iconScale=e.iconScale),Object(l.f)(e.iconColor)&&(Object(l.e)(e.iconColor,"iconColor"),this.iconColor=e.iconColor),Object(l.f)(e.label)&&(Object(l.e)(e.label,"label"),this.label=e.label),Object(l.f)(e.labelColor)&&(Object(l.e)(e.labelColor,"labelColor"),this.labelColor=e.labelColor),Object(l.f)(e.labelSize)&&(Object(l.d)(e.labelSize,"labelSize"),this.labelSize=e.labelSize),Object(l.f)(e.labelOffset)&&(Object(l.a)(e.labelOffset,"labelOffset"),this.labelOffset=e.labelOffset),Object(l.f)(e.zoomLevel)&&(Object(l.d)(e.zoomLevel,"zoomLevel"),this.zoomLevel=e.zoomLevel);let t=this;if(this.checkFn("getMarkerId")){let o=function(o,i,n){t.markerId=e.getMarkerId.handler(o,i,n)};this.addFn(e.getMarkerId.dataSourceIds,o)}if(this.checkFn("getLocation")){let o=function(o,i,n){t.location=e.getLocation.handler(o,i,n)};this.addFn(e.getLocation.dataSourceIds,o)}if(this.checkFn("getOrientation")){let o=function(o,i,n){t.orientation=e.getOrientation.handler(o,i,n)};this.addFn(e.getOrientation.dataSourceIds,o)}if(this.checkFn("getIcon")){let o=function(o,i,n){t.icon=e.getIcon.handler(o,i,n)};this.addFn(e.getIcon.dataSourceIds,o)}if(this.checkFn("getIconColor")){let o=function(o,i,n){t.iconColor=e.getIconColor.handler(o,i,n)};this.addFn(e.getIconColor.dataSourceIds,o)}if(this.checkFn("getIconScale")){let o=function(o,i,n){t.iconScale=e.getIconScale.handler(o,i,n)};this.addFn(e.getIconScale.dataSourceIds,o)}if(this.checkFn("getLabel")){let o=function(o,i,n){t.label=e.getLabel.handler(o,i,n)};this.addFn(e.getLabel.dataSourceIds,o)}if(this.checkFn("getLabelColor")){let o=function(o,i,n){t.labelColor=e.getLabelColor.handler(o,i,n)};this.addFn(e.getLabelColor.dataSourceIds,o)}if(this.checkFn("getLabelSize")){let o=function(o,i,n){t.labelSize=e.getLabelSize.handler(o,i,n)};this.addFn(e.getLabelSize.dataSourceIds,o)}if(Object(l.h)(e.getValues)){let o=function(o,i,n){let a=e.getValues.handler(o,i,n);t.values.push(a)};this.addFn(e.getValues.dataSourceIds,o)}Object(l.h)(e.onLeftClick)&&Object(l.b)(e.onLeftClick)&&(this.onLeftClick=e.onLeftClick),Object(l.h)(e.onRightClick)&&Object(l.b)(e.onRightClick)&&(this.onRightClick=e.onRightClick),Object(l.h)(e.onHover)&&Object(l.b)(e.onHover)&&(this.onHover=e.onHover)}init(e){super.init(e),Object(l.h)(e)&&null!==this.location&&e.updateMarker(this,0,{})}setData(e,t,o,i){return!(!super.setData(e,t,o,i)||!Object(l.h)(o))&&(o.updateMarkers(this,this.values,i),this.values=[],!0)}}var d=h,u=o(149),f=o(203);class b extends u.a{constructor(e,t,o){super(e,t,o),this.batchId=0,this.batchMarkers=[]}updateMarkers(e,t){const o=e.id+"$"+e.markerId+"_"+this.batchId;this.batchId++;const i=e.markerId,n=new f.a({id:o,data:t,pickable:!0,iconAtlas:e.icon,iconMapping:{marker:{x:0,y:0,anchorX:e.iconAnchor[0],anchorY:e.iconAnchor[1],width:e.iconSize[0],height:e.iconSize[1],mask:"#000000"!==e.iconColor}},getIcon:e=>"marker",sizeScale:e.iconScale,getPosition:e=>[e.longitude,e.latitude],getSize:t=>e.iconScale,getColor:t=>Object(l.g)(e.iconColor),onHover:(t,o)=>this.onMarkerHover(i,t,e,o),onClick:(t,o)=>o.leftButton?this.onMarkerLeftClick(i,t,e,o):this.onMarkerRightClick(i,t,e,o)});this.batchMarkers.push(n);const a={};this.autoZoomOnFirstMarker&&(this.autoZoomOnFirstMarker=!1,a.initialViewState={...this.INITIAL_VIEW_STATE,longitude:e.location.x,latitude:e.location.y,zoom:e.zoomLevel}),this.render(a)}render(e){const t={layers:[...this.deckLayers,...this.batchMarkers]};this.deckgl.setProps({...e,...t})}}var p=b,g={name:"Map",props:["datasource"],data:function(){return{viewItems:[]}},watch:{datasource(e,t){this.view.addViewItem({name:"EQ",layer:new d({getValues:{dataSourceIds:[e.getId()],handler:function(e,t){return{...e,timestamp:t}}},icon:"./images/quake.png",iconAnchor:[16,32],iconSize:[32,32],getIconScale:{dataSourceIds:[e.getId()],handler:function(e){return e.mag<=2.5?4:e.mag>2.5&&e.mag<=8?5:9}},label:"Quake",getIconColor:{dataSourceIds:[e.getId()],handler:function(e){return e.mag<=2.5?"#E77000":e.mag>2.5&&e.mag<=8?"#FF2300":"#BB1A00"}}})})}},mounted(){this.view=new p("map",[],{deckProps:{initialViewState:{longitude:0,latitude:0,zoom:1,bearing:0,pitch:20},layers:[new c.a({data:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",minZoom:0,maxZoom:19,tileSize:256,renderSubLayers:e=>{const{bbox:{west:t,south:o,east:i,north:n}}=e.tile;return new r.a(e,{data:null,image:e.data,bounds:[t,o,i,n]})}})]},autoZoomOnFirstMarker:!1})},methods:{}},m=(o(173),o(175),o(113)),S=Object(m.a)(g,a,[],!1,null,"3074bd5c",null);S.options.__file="src/components/Map.vue";var k=S.exports,v=o(142),O=o.n(v),I=o(143),j=o(144),C=o.n(j);class w extends I.a{constructor(e,t){super(e,{reconnectTimeout:5e3,...t},new C.a)}}var z=w,L={name:"App",components:{Map:k},props:{source:String},data:function(){return{datasource:null}},mounted(){this.datasource=new z("EQ data",{name:"EQ",protocol:"topic",topicName:"eq-topic-data",batchSize:5e3}),(new O.a).postMessage({message:"load",topic:"eq-topic-data"}),this.datasource.connect()}},F=Object(m.a)(L,n,[],!1,null,null,null);F.options.__file="src/App.vue";var M=F.exports,x=o(122),y=o.n(x);o(177);i.default.use(y.a),i.default.config.productionTip=!1,new i.default({vuetify:new y.a({theme:{themes:{light:{primary:"#ffffff",secondary:"#b0bec5",accent:"#8c9eff",error:"#b71c1c"}}}}),data:()=>({drawer:null,drawerRight:null,right:!1,left:!1}),render:e=>e(M)}).$mount("#app")}},[[181,2,4,3,5,7,6,1]]]);